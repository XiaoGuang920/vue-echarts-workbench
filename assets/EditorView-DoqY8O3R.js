import{d as F,r as n,c as J,o as M,a as i,b as c,e as t,w as N,F as y,f as w,g as f,h as x,u as v,i as P,j as R,n as V,k as I,l as S,D as L,m as O,v as $,p as q,t as j,q as z,s as D,_ as H}from"./index-ButOLBRv.js";const A={class:"container flex gap-8"},G={class:"popup-body"},U={class:"scroll-container"},X={class:"grid grid-cols-3 gap-4"},K=["onClick"],Q={class:"popup-footer"},W={class:"editor-child"},Y={class:"editor-child"},Z={key:0,class:"absolute bottom-0 left-0 flex w-full items-center gap-2 bg-red-200 p-2 text-base text-red-400"},tt=F({__name:"EditorView",setup(et){const h=n(!1),u=n("Line Chart"),_={"Line Chart":"line-chart.json","Line Sections Chart":"line-sections-chart.json","Bar Chart":"bar-chart.json","Pie Chart":"pie-chart.json","Scatter Chart":"scatter-chart.json","Horizontal Bar Chart":"horizontal-bar-chart.json","Radar Chart":"radar-chart.json","Stacked Bar Chart":"stacked-bar-chart.json","Mix Line Bar Chart":"mix-line-bar-chart.json","Bubble Chart":"bubble-chart.json","Heatmap Chart":"heatmap-chart.json","Funnel Chart":"funnel-chart.json","Gauge Chart":"gauge-chart.json","Map Chart":"map-chart.json","Tree Chart":"tree-chart.json","Candlestick Chart":"candlestick-chart.json","Sunburst Chart":"sunburst-chart.json","Graph Chart":"graph-chart.json","Sankey Chart":"sankey-chart.json","Treemap Chart":"treemap-chart.json","Liquid Fill Chart":"liquid-fill-chart.json","Polar Bar Chart":"polar-bar-chart.json","Ring Progress Chart":"ring-progress-chart.json","Theme River Chart":"theme-river-chart.json","Parallel Chart":"parallel-chart.json","Boxplot Chart":"boxplot-chart.json"},l=n(""),d=n(null),p=n(""),C=n(),m=n(),B=J(()=>l.value?Math.max(1,l.value.split(`
`).length):1);function T(){C.value&&m.value&&(m.value.scrollTop=C.value.scrollTop)}function g(){h.value=!h.value}function E(){try{const r=JSON.parse(l.value);d.value=r,p.value=""}catch(r){console.error("Invalid JSON format:",r),p.value=`Invalid JSON format: ${r.message}`}}async function k(r){u.value=r;const e=_[u.value]??void 0;if(e!==void 0){try{const a="/vue-echarts-workbench/",o=a?`${a}data/charts/${e}`:`data/charts/${e}`,s=await fetch(o);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const b=await s.json();d.value=b,l.value=JSON.stringify(b,null,2)}catch(a){console.error("Error fetching chart settings:",a)}h.value=!1}}return M(()=>{k(u.value)}),(r,e)=>{const a=R("FontAwesomeIcon");return c(),i("div",A,[t("div",{class:V(["popup-model",{active:h.value}]),onClick:g},[t("div",{class:"popup-content shadow-lg",onClick:e[0]||(e[0]=N(()=>{},["stop"]))},[t("div",G,[t("div",U,[t("div",X,[(c(),i(y,null,w(_,(o,s)=>t("button",{key:s,class:"flex aspect-square flex-col items-center justify-center rounded bg-gray-200 p-4 text-base font-semibold text-gray-800 hover:bg-gray-300",onClick:b=>k(s)},[f(a,{icon:v(D),class:"mb-8 text-5xl"},null,8,["icon"]),x(" "+j(s),1)],8,K)),64))])])]),t("div",Q,[t("button",{class:"flex w-full items-center justify-center rounded bg-gray-500 px-4 py-2 text-sm font-semibold text-white hover:bg-gray-600",onClick:g},[f(a,{icon:v(P),class:"mr-1"},null,8,["icon"]),e[2]||(e[2]=x("關閉 ",-1))])])])],2),t("div",W,[d.value?(c(),I(L,{key:u.value,"chart-json":d.value},null,8,["chart-json"])):S("",!0)]),t("div",Y,[t("div",{ref_key:"lineNumbersRef",ref:m,class:"absolute left-0 top-0 h-full overflow-hidden bg-gray-100 text-right text-base text-gray-500"},[(c(!0),i(y,null,w(B.value,o=>(c(),i("div",{key:o,class:"px-2"},j(o),1))),128))],512),O(t("textarea",{ref_key:"textareaRef",ref:C,class:"ml-12 h-full w-full resize-none bg-transparent p-0 text-base text-[#37353E] outline-none",placeholder:"在此編輯 ECharts 配置...","onUpdate:modelValue":e[1]||(e[1]=o=>l.value=o),onInput:E,onScroll:T,spellcheck:"false"},null,544),[[$,l.value]]),p.value?(c(),i("div",Z,[f(a,{icon:v(q)},null,8,["icon"]),x(" "+j(p.value),1)])):S("",!0)]),t("button",{class:"chart-options-btn",onClick:g},[f(a,{icon:v(z)},null,8,["icon"])])])}}}),rt=H(tt,[["__scopeId","data-v-810c641c"]]);export{rt as default};
