import{S as k,U as lt,V as Ne,W as Zn,X as Vi,Y as ye,Z as ge,$ as ki,a0 as qn,a1 as Ye,a2 as ja,a3 as te,a4 as zt,a5 as Z,a6 as jn,a7 as dr,a8 as z,a9 as xe,aa as Yt,ab as Zt,ac as j,ad as Ie,ae as ee,af as he,ag as qt,ah as jt,ai as Y,aj as me,ak as ne,al as se,am as ct,an as mt,ao as re,ap as St,aq as Oi,ar as Va,as as Gi,at as bt,au as De,av as ft,aw as Qe,ax as et,ay as oe,az as Bt,aA as Ae,aB as We,aC as Kn,aD as yr,aE as mr,aF as Ge,aG as _e,aH as ve,aI as Sr,aJ as tt,aK as ce,aL as br,aM as ae,aN as Ht,aO as Ce,aP as Jn,aQ as zi,aR as Bi,aS as Qn,aT as Ka,aU as Pe,aV as eo,aW as Dr,aX as to,aY as Ft,aZ as Hi,a_ as ao,a$ as ro,b0 as io,b1 as Fi,b2 as Dt,b3 as Se,b4 as at,b5 as B,b6 as ka,b7 as no,b8 as Kt,b9 as wt,ba as Ja,bb as oo,bc as Qa,bd as Wi,be as gt,bf as Jt,bg as lo,bh as so,bi as er,bj as uo,bk as Ui,bl as vo,bm as Le,bn as ho,bo as co,bp as fo,bq as It,br as go,bs as po,bt as yo,bu as tr,bv as Xi,bw as ar,bx as $i,by as Yi,bz as Zi,bA as qi,bB as mo,bC as Oa,bD as So,bE as bo,bF as Qt,bG as At,bH as Ze,bI as ji,bJ as Ga,bK as Do,bL as wr,bM as wo,bN as Io,bO as Ue,bP as rr,bQ as Ir,bR as Ao,bS as xo,bT as Ki,bU as Ar,bV as Pt,bW as xr,bX as _o,bY as Lo,bZ as To,b_ as Ji,b$ as Co,c0 as Qi,c1 as za,c2 as ir,c3 as _r,c4 as ke,c5 as No,c6 as Po,c7 as Lr,c8 as Ba,c9 as Eo,ca as de,cb as Mo,cc as Ro,cd as Vo,ce as ea,cf as ko,cg as Tr,ch as Oo,ci as Go,cj as zo,ck as Bo,cl as Ha,cm as Ho,cn as oa,co as Fo,cp as Wo,cq as la,cr as Cr,cs as Uo,ct as Nr,cu as Xo,cv as Et,cw as $o,cx as Yo,cy as Zo}from"./index-Cem_aaF4.js";import{p as xt,l as qo,a as jo,s as en,g as tn}from"./labelGuideHelper-CWC9nN2c.js";var Ko=(function(){function r(t){this.coordSysDims=[],this.axisMap=Ne(),this.categoryAxisMap=Ne(),this.coordSysName=t}return r})();function Jo(r){var t=r.get("coordinateSystem"),e=new Ko(t),a=Qo[t];if(a)return a(r,e,e.axisMap,e.categoryAxisMap),e}var Qo={cartesian2d:function(r,t,e,a){var i=r.getReferringComponents("xAxis",lt).models[0],n=r.getReferringComponents("yAxis",lt).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",n),qe(i)&&(a.set("x",i),t.firstCategoryDimIndex=0),qe(n)&&(a.set("y",n),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,a){var i=r.getReferringComponents("singleAxis",lt).models[0];t.coordSysDims=["single"],e.set("single",i),qe(i)&&(a.set("single",i),t.firstCategoryDimIndex=0)},polar:function(r,t,e,a){var i=r.getReferringComponents("polar",lt).models[0],n=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",n),e.set("angle",o),qe(n)&&(a.set("radius",n),t.firstCategoryDimIndex=0),qe(o)&&(a.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,a){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,a){var i=r.ecModel,n=i.getComponent("parallel",r.get("parallelIndex")),o=t.coordSysDims=n.dimensions.slice();k(n.parallelAxisIndex,function(l,s){var u=i.getComponent("parallelAxis",l),v=o[s];e.set(v,u),qe(u)&&(a.set(v,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=s))})}};function qe(r){return r.get("type")==="category"}function el(r,t){var e=r.get("coordinateSystem"),a=ja.get(e),i;return t&&t.coordSysDims&&(i=te(t.coordSysDims,function(n){var o={name:n},l=t.axisMap.get(n);if(l){var s=l.get("type");o.type=zt(s)}return o})),i||(i=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),i}function tl(r,t,e){var a,i;return e&&k(r,function(n,o){var l=n.coordDim,s=e.categoryAxisMap.get(l);s&&(a==null&&(a=o),n.ordinalMeta=s.getOrdinalMeta(),t&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(i=!0)}),!i&&a!=null&&(r[a].otherDims.itemName=0),a}function Be(r,t,e){e=e||{};var a=t.getSourceManager(),i,n=!1;r?(n=!0,i=Zn(r)):(i=a.getSource(),n=i.sourceFormat===Vi);var o=Jo(t),l=el(t,o),s=e.useEncodeDefaulter,u=ye(s)?s:s?ge(ki,l,t):null,v={coordDimensions:l,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n},h=xt(i,v),c=tl(h.dimensions,e.createInvertedIndices,o),f=n?null:a.getSharedDataStore(h),g=qn(t,{schema:h,store:f}),p=new Ye(h,t);p.setCalculationInfo(g);var y=c!=null&&al(i)?function(S,d,m,b){return b===c?m:this.defaultDimValueGetter(S,d,m,b)}:null;return p.hasItemOption=!1,p.initData(n?i:f,null,y),p}function al(r){if(r.sourceFormat===Vi){var t=rl(r.data||[]);return!Z(jn(t))}}function rl(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}function nr(r,t){var e=r.mapDimensionsAll("defaultedLabel"),a=e.length;if(a===1){var i=dr(r,t,e[0]);return i!=null?i+"":null}else if(a){for(var n=[],o=0;o<e.length;o++)n.push(dr(r,t,e[o]));return n.join(" ")}}function an(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!Z(t))return t+"";for(var a=[],i=0;i<e.length;i++){var n=r.getDimensionIndex(e[i]);n>=0&&a.push(t[n])}return a.join(" ")}var _t=(function(r){z(t,r);function t(e,a,i,n){var o=r.call(this)||this;return o.updateData(e,a,i,n),o}return t.prototype._createSymbol=function(e,a,i,n,o){this.removeAll();var l=xe(e,-1,-1,2,2,null,o);l.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),l.drift=il,this._symbolType=e,this.add(l)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Yt(this.childAt(0))},t.prototype.downplay=function(){Zt(this.childAt(0))},t.prototype.setZ=function(e,a){var i=this.childAt(0);i.zlevel=e,i.z=a},t.prototype.setDraggable=function(e,a){var i=this.childAt(0);i.draggable=e,i.cursor=!a&&e?"move":i.cursor},t.prototype.updateData=function(e,a,i,n){this.silent=!1;var o=e.getItemVisual(a,"symbol")||"circle",l=e.hostModel,s=t.getSymbolSize(e,a),u=o!==this._symbolType,v=n&&n.disableAnimation;if(u){var h=e.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,e,a,s,h)}else{var c=this.childAt(0);c.silent=!1;var f={scaleX:s[0]/2,scaleY:s[1]/2};v?c.attr(f):j(c,f,l,a),Ie(c)}if(this._updateCommon(e,a,s,i,n),u){var c=this.childAt(0);if(!v){var f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:c.style.opacity}};c.scaleX=c.scaleY=0,c.style.opacity=0,ee(c,f,l,a)}}v&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,a,i,n,o){var l=this.childAt(0),s=e.hostModel,u,v,h,c,f,g,p,y,S;if(n&&(u=n.emphasisItemStyle,v=n.blurItemStyle,h=n.selectItemStyle,c=n.focus,f=n.blurScope,p=n.labelStatesModels,y=n.hoverScale,S=n.cursorStyle,g=n.emphasisDisabled),!n||e.hasItemOption){var d=n&&n.itemModel?n.itemModel:e.getItemModel(a),m=d.getModel("emphasis");u=m.getModel("itemStyle").getItemStyle(),h=d.getModel(["select","itemStyle"]).getItemStyle(),v=d.getModel(["blur","itemStyle"]).getItemStyle(),c=m.get("focus"),f=m.get("blurScope"),g=m.get("disabled"),p=he(d),y=m.getShallow("scale"),S=d.getShallow("cursor")}var b=e.getItemVisual(a,"symbolRotate");l.attr("rotation",(b||0)*Math.PI/180||0);var D=qt(e.getItemVisual(a,"symbolOffset"),i);D&&(l.x=D[0],l.y=D[1]),S&&l.attr("cursor",S);var w=e.getItemVisual(a,"style"),I=w.fill;if(l instanceof jt){var A=l.style;l.useStyle(Y({image:A.image,x:A.x,y:A.y,width:A.width,height:A.height},w))}else l.__isEmptyBrush?l.useStyle(Y({},w)):l.useStyle(w),l.style.decal=null,l.setColor(I,o&&o.symbolInnerColor),l.style.strokeNoScale=!0;var L=e.getItemVisual(a,"liftZ"),_=this._z2;L!=null?_==null&&(this._z2=l.z2,l.z2+=L):_!=null&&(l.z2=_,this._z2=null);var x=o&&o.useNameLabel;me(l,p,{labelFetcher:s,labelDataIndex:a,defaultText:T,inheritColor:I,defaultOpacity:w.opacity});function T(N){return x?e.getName(N):nr(e,N)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var C=l.ensureState("emphasis");C.style=u,l.ensureState("select").style=h,l.ensureState("blur").style=v;var E=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;C.scaleX=this._sizeX*E,C.scaleY=this._sizeY*E,this.setSymbolScale(1),ne(this,c,f,g)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,a,i){var n=this.childAt(0),o=se(this).dataIndex,l=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var s=n.getTextContent();s&&ct(s,{style:{opacity:0}},a,{dataIndex:o,removeOpt:l,cb:function(){n.removeTextContent()}})}else n.removeTextContent();ct(n,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:e,removeOpt:l})},t.getSymbolSize=function(e,a){return mt(e.getItemVisual(a,"symbolSize"))},t})(re);function il(r,t){this.parent.drift(r,t)}function sa(r,t,e,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(e))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function Pr(r){return r!=null&&!Oi(r)&&(r={isIgnore:r}),r||{}}function Er(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:he(t),cursorStyle:t.get("cursor")}}var ta=(function(){function r(t){this.group=new re,this._SymbolCtor=t||_t}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=Pr(e);var a=this.group,i=t.hostModel,n=this._data,o=this._SymbolCtor,l=e.disableAnimation,s=Er(t),u={disableAnimation:l},v=e.getSymbolPoint||function(h){return t.getItemLayout(h)};n||a.removeAll(),t.diff(n).add(function(h){var c=v(h);if(sa(t,c,h,e)){var f=new o(t,h,s,u);f.setPosition(c),t.setItemGraphicEl(h,f),a.add(f)}}).update(function(h,c){var f=n.getItemGraphicEl(c),g=v(h);if(!sa(t,g,h,e)){a.remove(f);return}var p=t.getItemVisual(h,"symbol")||"circle",y=f&&f.getSymbolType&&f.getSymbolType();if(!f||y&&y!==p)a.remove(f),f=new o(t,h,s,u),f.setPosition(g);else{f.updateData(t,h,s,u);var S={x:g[0],y:g[1]};l?f.attr(S):j(f,S,i)}a.add(f),t.setItemGraphicEl(h,f)}).remove(function(h){var c=n.getItemGraphicEl(h);c&&c.fadeOut(function(){a.remove(c)},i)}).execute(),this._getSymbolPoint=v,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(a,i){var n=t._getSymbolPoint(i);a.setPosition(n),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Er(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,a){this._progressiveEls=[],a=Pr(a);function i(s){s.isGroup||(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var n=t.start;n<t.end;n++){var o=e.getItemLayout(n);if(sa(e,o,n,a)){var l=new this._SymbolCtor(e,n,this._seriesScope);l.traverse(i),l.setPosition(o),this.group.add(l),e.setItemGraphicEl(n,l),this._progressiveEls.push(l)}}},r.prototype.eachRendered=function(t){St(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},a.hostModel)}):e.removeAll()},r})(),Mr=Va.prototype,ua=Gi.prototype,rn=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})();(function(r){z(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(rn);function va(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var nl=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-line",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new rn},t.prototype.buildPath=function(e,a){va(a)?Mr.buildPath.call(this,e,a):ua.buildPath.call(this,e,a)},t.prototype.pointAt=function(e){return va(this.shape)?Mr.pointAt.call(this,e):ua.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var a=this.shape,i=va(a)?[a.x2-a.x1,a.y2-a.y1]:ua.tangentAt.call(this,e);return bt(i,i)},t})(De),ha=["fromSymbol","toSymbol"];function Rr(r){return"_"+r+"Type"}function Vr(r,t,e){var a=t.getItemVisual(e,r);if(!a||a==="none")return a;var i=t.getItemVisual(e,r+"Size"),n=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),l=t.getItemVisual(e,r+"KeepAspect"),s=mt(i),u=qt(o||0,s);return a+s+u+(n||"")+(l||"")}function kr(r,t,e){var a=t.getItemVisual(e,r);if(!(!a||a==="none")){var i=t.getItemVisual(e,r+"Size"),n=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),l=t.getItemVisual(e,r+"KeepAspect"),s=mt(i),u=qt(o||0,s),v=xe(a,-s[0]/2+u[0],-s[1]/2+u[1],s[0],s[1],null,l);return v.__specifiedRotation=n==null||isNaN(n)?void 0:+n*Math.PI/180||0,v.name=r,v}}function ol(r){var t=new nl({name:"line",subPixelOptimize:!0});return Fa(t.shape,r),t}function Fa(r,t){r.x1=t[0][0],r.y1=t[0][1],r.x2=t[1][0],r.y2=t[1][1],r.percent=1;var e=t[2];e?(r.cpx1=e[0],r.cpy1=e[1]):(r.cpx1=NaN,r.cpy1=NaN)}var ll=(function(r){z(t,r);function t(e,a,i){var n=r.call(this)||this;return n._createLine(e,a,i),n}return t.prototype._createLine=function(e,a,i){var n=e.hostModel,o=e.getItemLayout(a),l=ol(o);l.shape.percent=0,ee(l,{shape:{percent:1}},n,a),this.add(l),k(ha,function(s){var u=kr(s,e,a);this.add(u),this[Rr(s)]=Vr(s,e,a)},this),this._updateCommonStl(e,a,i)},t.prototype.updateData=function(e,a,i){var n=e.hostModel,o=this.childOfName("line"),l=e.getItemLayout(a),s={shape:{}};Fa(s.shape,l),j(o,s,n,a),k(ha,function(u){var v=Vr(u,e,a),h=Rr(u);if(this[h]!==v){this.remove(this.childOfName(u));var c=kr(u,e,a);this.add(c)}this[h]=v},this),this._updateCommonStl(e,a,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,a,i){var n=e.hostModel,o=this.childOfName("line"),l=i&&i.emphasisLineStyle,s=i&&i.blurLineStyle,u=i&&i.selectLineStyle,v=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,c=i&&i.focus,f=i&&i.blurScope;if(!i||e.hasItemOption){var g=e.getItemModel(a),p=g.getModel("emphasis");l=p.getModel("lineStyle").getLineStyle(),s=g.getModel(["blur","lineStyle"]).getLineStyle(),u=g.getModel(["select","lineStyle"]).getLineStyle(),h=p.get("disabled"),c=p.get("focus"),f=p.get("blurScope"),v=he(g)}var y=e.getItemVisual(a,"style"),S=y.stroke;o.useStyle(y),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=l,o.ensureState("blur").style=s,o.ensureState("select").style=u,k(ha,function(w){var I=this.childOfName(w);if(I){I.setColor(S),I.style.opacity=y.opacity;for(var A=0;A<ft.length;A++){var L=ft[A],_=o.getState(L);if(_){var x=_.style||{},T=I.ensureState(L),C=T.style||(T.style={});x.stroke!=null&&(C[I.__isEmptyBrush?"stroke":"fill"]=x.stroke),x.opacity!=null&&(C.opacity=x.opacity)}}I.markRedraw()}},this);var d=n.getRawValue(a);me(this,v,{labelDataIndex:a,labelFetcher:{getFormattedLabel:function(w,I){return n.getFormattedLabel(w,I,e.dataType)}},inheritColor:S||"#000",defaultOpacity:y.opacity,defaultText:(d==null?e.getName(a):isFinite(d)?Qe(d):d)+""});var m=this.getTextContent();if(m){var b=v.normal;m.__align=m.style.align,m.__verticalAlign=m.style.verticalAlign,m.__position=b.get("position")||"middle";var D=b.get("distance");Z(D)||(D=[D,D]),m.__labelDistance=D}this.setTextConfig({position:null,local:!0,inside:!1}),ne(this,c,f,h)},t.prototype.highlight=function(){Yt(this)},t.prototype.downplay=function(){Zt(this)},t.prototype.updateLayout=function(e,a){this.setLinePoints(e.getItemLayout(a))},t.prototype.setLinePoints=function(e){var a=this.childOfName("line");Fa(a.shape,e),a.dirty()},t.prototype.beforeUpdate=function(){var e=this,a=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),n=e.getTextContent();if(!a&&!i&&(!n||n.ignore))return;for(var o=1,l=this.parent;l;)l.scaleX&&(o/=l.scaleX),l=l.parent;var s=e.childOfName("line");if(!this.__dirty&&!s.__dirty)return;var u=s.shape.percent,v=s.pointAt(0),h=s.pointAt(u),c=et([],h,v);bt(c,c);function f(_,x){var T=_.__specifiedRotation;if(T==null){var C=s.tangentAt(x);_.attr("rotation",(x===1?-1:1)*Math.PI/2-Math.atan2(C[1],C[0]))}else _.attr("rotation",T)}if(a&&(a.setPosition(v),f(a,0),a.scaleX=a.scaleY=o*u,a.markRedraw()),i&&(i.setPosition(h),f(i,1),i.scaleX=i.scaleY=o*u,i.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var g=void 0,p=void 0,y=n.__labelDistance,S=y[0]*o,d=y[1]*o,m=u/2,b=s.tangentAt(m),D=[b[1],-b[0]],w=s.pointAt(m);D[1]>0&&(D[0]=-D[0],D[1]=-D[1]);var I=b[0]<0?-1:1;if(n.__position!=="start"&&n.__position!=="end"){var A=-Math.atan2(b[1],b[0]);h[0]<v[0]&&(A=Math.PI+A),n.rotation=A}var L=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":L=-d,p="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":L=d,p="top";break;default:L=0,p="middle"}switch(n.__position){case"end":n.x=c[0]*S+h[0],n.y=c[1]*d+h[1],g=c[0]>.8?"left":c[0]<-.8?"right":"center",p=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":n.x=-c[0]*S+v[0],n.y=-c[1]*d+v[1],g=c[0]>.8?"right":c[0]<-.8?"left":"center",p=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=S*I+v[0],n.y=v[1]+L,g=b[0]<0?"right":"left",n.originX=-S*I,n.originY=-L;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=w[0],n.y=w[1]+L,g="center",n.originY=-L;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-S*I+h[0],n.y=h[1]+L,g=b[0]>=0?"right":"left",n.originX=S*I,n.originY=-L;break}n.scaleX=n.scaleY=o,n.setStyle({verticalAlign:n.__verticalAlign||p,align:n.__align||g})}},t})(re),sl=(function(){function r(t){this.group=new re,this._LineCtor=t||ll}return r.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var a=this,i=a.group,n=a._lineData;a._lineData=t,n||i.removeAll();var o=Or(t);t.diff(n).add(function(l){e._doAdd(t,l,o)}).update(function(l,s){e._doUpdate(n,t,s,l,o)}).remove(function(l){i.remove(n.getItemGraphicEl(l))}).execute()},r.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,a){e.updateLayout(t,a)},this)},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Or(t),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function a(l){!l.isGroup&&!ul(l)&&(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var n=e.getItemLayout(i);if(ca(n)){var o=new this._LineCtor(e,i,this._seriesScope);o.traverse(a),this.group.add(o),e.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(t){St(this._progressiveEls||this.group,t)},r.prototype._doAdd=function(t,e,a){var i=t.getItemLayout(e);if(ca(i)){var n=new this._LineCtor(t,e,a);t.setItemGraphicEl(e,n),this.group.add(n)}},r.prototype._doUpdate=function(t,e,a,i,n){var o=t.getItemGraphicEl(a);if(!ca(e.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(e,i,n):o=new this._LineCtor(e,i,n),e.setItemGraphicEl(i,o),this.group.add(o)},r})();function ul(r){return r.animators&&r.animators.length>0}function Or(r){var t=r.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:he(t)}}function Gr(r){return isNaN(r[0])||isNaN(r[1])}function ca(r){return r&&!Gr(r[0])&&!Gr(r[1])}function aa(r,t){return r.type===t}var vl=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return Be(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var a=new re,i=xe("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);a.add(i),i.setStyle(e.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),l=n==="none"?"circle":n,s=e.itemHeight*.8,u=xe(l,(e.itemWidth-s)/2,(e.itemHeight-s)/2,s,s,e.itemStyle.fill);a.add(u),u.setStyle(e.itemStyle);var v=e.iconRotate==="inherit"?o:e.iconRotate||0;return u.rotation=v*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),l.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(oe);function nn(r,t,e){var a=r.getBaseAxis(),i=r.getOtherAxis(a),n=hl(i,e),o=a.dim,l=i.dim,s=t.mapDimension(l),u=t.mapDimension(o),v=l==="x"||l==="radius"?1:0,h=te(r.dimensions,function(g){return t.mapDimension(g)}),c=!1,f=t.getCalculationInfo("stackResultDimension");return Bt(t,h[0])&&(c=!0,h[0]=f),Bt(t,h[1])&&(c=!0,h[1]=f),{dataDimsForPoint:h,valueStart:n,valueAxisDim:l,baseAxisDim:o,stacked:!!c,valueDim:s,baseDim:u,baseDataOffset:v,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function hl(r,t){var e=0,a=r.scale.getExtent();return t==="start"?e=a[0]:t==="end"?e=a[1]:Ae(t)&&!isNaN(t)?e=t:a[0]>0?e=a[0]:a[1]<0&&(e=a[1]),e}function on(r,t,e,a){var i=NaN;r.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),a)),isNaN(i)&&(i=r.valueStart);var n=r.baseDataOffset,o=[];return o[n]=e.get(r.baseDim,a),o[1-n]=i,t.dataToPoint(o)}function cl(r,t){var e=[];return t.diff(r).add(function(a){e.push({cmd:"+",idx:a})}).update(function(a,i){e.push({cmd:"=",idx:i,idx1:a})}).remove(function(a){e.push({cmd:"-",idx:a})}).execute(),e}function fl(r,t,e,a,i,n,o,l){for(var s=cl(r,t),u=[],v=[],h=[],c=[],f=[],g=[],p=[],y=nn(i,t,o),S=r.getLayout("points")||[],d=t.getLayout("points")||[],m=0;m<s.length;m++){var b=s[m],D=!0,w=void 0,I=void 0;switch(b.cmd){case"=":w=b.idx*2,I=b.idx1*2;var A=S[w],L=S[w+1],_=d[I],x=d[I+1];(isNaN(A)||isNaN(L))&&(A=_,L=x),u.push(A,L),v.push(_,x),h.push(e[w],e[w+1]),c.push(a[I],a[I+1]),p.push(t.getRawIndex(b.idx1));break;case"+":var T=b.idx,C=y.dataDimsForPoint,E=i.dataToPoint([t.get(C[0],T),t.get(C[1],T)]);I=T*2,u.push(E[0],E[1]),v.push(d[I],d[I+1]);var N=on(y,i,t,T);h.push(N[0],N[1]),c.push(a[I],a[I+1]),p.push(t.getRawIndex(T));break;case"-":D=!1}D&&(f.push(b),g.push(g.length))}g.sort(function(U,ie){return p[U]-p[ie]});for(var R=u.length,M=We(R),P=We(R),V=We(R),G=We(R),O=[],m=0;m<g.length;m++){var H=g[m],X=m*2,F=H*2;M[X]=u[F],M[X+1]=u[F+1],P[X]=v[F],P[X+1]=v[F+1],V[X]=h[F],V[X+1]=h[F+1],G[X]=c[F],G[X+1]=c[F+1],O[m]=f[H]}return{current:M,next:P,stackedOnCurrent:V,stackedOnNext:G,status:O}}var Me=Math.min,Re=Math.max;function $e(r,t){return isNaN(r)||isNaN(t)}function Wa(r,t,e,a,i,n,o,l,s){for(var u,v,h,c,f,g,p=e,y=0;y<a;y++){var S=t[p*2],d=t[p*2+1];if(p>=i||p<0)break;if($e(S,d)){if(s){p+=n;continue}break}if(p===e)r[n>0?"moveTo":"lineTo"](S,d),h=S,c=d;else{var m=S-u,b=d-v;if(m*m+b*b<.5){p+=n;continue}if(o>0){for(var D=p+n,w=t[D*2],I=t[D*2+1];w===S&&I===d&&y<a;)y++,D+=n,p+=n,w=t[D*2],I=t[D*2+1],S=t[p*2],d=t[p*2+1],m=S-u,b=d-v;var A=y+1;if(s)for(;$e(w,I)&&A<a;)A++,D+=n,w=t[D*2],I=t[D*2+1];var L=.5,_=0,x=0,T=void 0,C=void 0;if(A>=a||$e(w,I))f=S,g=d;else{_=w-u,x=I-v;var E=S-u,N=w-S,R=d-v,M=I-d,P=void 0,V=void 0;if(l==="x"){P=Math.abs(E),V=Math.abs(N);var G=_>0?1:-1;f=S-G*P*o,g=d,T=S+G*V*o,C=d}else if(l==="y"){P=Math.abs(R),V=Math.abs(M);var O=x>0?1:-1;f=S,g=d-O*P*o,T=S,C=d+O*V*o}else P=Math.sqrt(E*E+R*R),V=Math.sqrt(N*N+M*M),L=V/(V+P),f=S-_*o*(1-L),g=d-x*o*(1-L),T=S+_*o*L,C=d+x*o*L,T=Me(T,Re(w,S)),C=Me(C,Re(I,d)),T=Re(T,Me(w,S)),C=Re(C,Me(I,d)),_=T-S,x=C-d,f=S-_*P/V,g=d-x*P/V,f=Me(f,Re(u,S)),g=Me(g,Re(v,d)),f=Re(f,Me(u,S)),g=Re(g,Me(v,d)),_=S-f,x=d-g,T=S+_*V/P,C=d+x*V/P}r.bezierCurveTo(h,c,f,g,S,d),h=T,c=C}else r.lineTo(S,d)}u=S,v=d,p+=n}return y}var ln=(function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r})(),gl=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ln},t.prototype.buildPath=function(e,a){var i=a.points,n=0,o=i.length/2;if(a.connectNulls){for(;o>0&&$e(i[o*2-2],i[o*2-1]);o--);for(;n<o&&$e(i[n*2],i[n*2+1]);n++);}for(;n<o;)n+=Wa(e,i,n,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(e,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,n=i.data,o=Kn.CMD,l,s,u=a==="x",v=[],h=0;h<n.length;){var c=n[h++],f=void 0,g=void 0,p=void 0,y=void 0,S=void 0,d=void 0,m=void 0;switch(c){case o.M:l=n[h++],s=n[h++];break;case o.L:if(f=n[h++],g=n[h++],m=u?(e-l)/(f-l):(e-s)/(g-s),m<=1&&m>=0){var b=u?(g-s)*m+s:(f-l)*m+l;return u?[e,b]:[b,e]}l=f,s=g;break;case o.C:f=n[h++],g=n[h++],p=n[h++],y=n[h++],S=n[h++],d=n[h++];var D=u?yr(l,f,p,S,e,v):yr(s,g,y,d,e,v);if(D>0)for(var w=0;w<D;w++){var I=v[w];if(I<=1&&I>=0){var b=u?mr(s,g,y,d,I):mr(l,f,p,S,I);return u?[e,b]:[b,e]}}l=S,s=d;break}}},t})(De),pl=(function(r){z(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(ln),sn=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new pl},t.prototype.buildPath=function(e,a){var i=a.points,n=a.stackedOnPoints,o=0,l=i.length/2,s=a.smoothMonotone;if(a.connectNulls){for(;l>0&&$e(i[l*2-2],i[l*2-1]);l--);for(;o<l&&$e(i[o*2],i[o*2+1]);o++);}for(;o<l;){var u=Wa(e,i,o,l,l,1,a.smooth,s,a.connectNulls);Wa(e,n,o+u-1,u,l,-1,a.stackedOnSmooth,s,a.connectNulls),o+=u+1,e.closePath()}},t})(De);function un(r,t,e,a,i){var n=r.getArea(),o=n.x,l=n.y,s=n.width,u=n.height,v=e.get(["lineStyle","width"])||0;o-=v/2,l-=v/2,s+=v,u+=v,s=Math.ceil(s),o!==Math.floor(o)&&(o=Math.floor(o),s++);var h=new _e({shape:{x:o,y:l,width:s,height:u}});if(t){var c=r.getBaseAxis(),f=c.isHorizontal(),g=c.inverse;f?(g&&(h.shape.x+=s),h.shape.width=0):(g||(h.shape.y+=u),h.shape.height=0);var p=ye(i)?function(y){i(y,h)}:null;ee(h,{shape:{width:s,height:u,x:o,y:l}},e,null,a,p)}return h}function vn(r,t,e){var a=r.getArea(),i=Qe(a.r0,1),n=Qe(a.r,1),o=new Ge({shape:{cx:Qe(r.cx,1),cy:Qe(r.cy,1),r0:i,r:n,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var l=r.getBaseAxis().dim==="angle";l?o.shape.endAngle=a.startAngle:o.shape.r=i,ee(o,{shape:{endAngle:a.endAngle,r:n}},e)}return o}function hn(r,t,e,a,i){if(r){if(r.type==="polar")return vn(r,t,e);if(r.type==="cartesian2d")return un(r,t,e,a,i)}else return null;return null}function zr(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function Br(r){for(var t=1/0,e=1/0,a=-1/0,i=-1/0,n=0;n<r.length;){var o=r[n++],l=r[n++];isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a)),isNaN(l)||(e=Math.min(l,e),i=Math.max(l,i))}return[[t,e],[a,i]]}function Hr(r,t){var e=Br(r),a=e[0],i=e[1],n=Br(t),o=n[0],l=n[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(i[0]-l[0]),Math.abs(i[1]-l[1]))}function Fr(r){return Ae(r)?r:r?.5:0}function dl(r,t,e){if(!e.valueDim)return[];for(var a=t.count(),i=We(a*2),n=0;n<a;n++){var o=on(e,r,t,n);i[n*2]=o[0],i[n*2+1]=o[1]}return i}function Ve(r,t,e,a,i){var n=e.getBaseAxis(),o=n.dim==="x"||n.dim==="radius"?0:1,l=[],s=0,u=[],v=[],h=[],c=[];if(i){for(s=0;s<r.length;s+=2){var f=t||r;!isNaN(f[s])&&!isNaN(f[s+1])&&c.push(r[s],r[s+1])}r=c}for(s=0;s<r.length-2;s+=2)switch(h[0]=r[s+2],h[1]=r[s+3],v[0]=r[s],v[1]=r[s+1],l.push(v[0],v[1]),a){case"end":u[o]=h[o],u[1-o]=v[1-o],l.push(u[0],u[1]);break;case"middle":var g=(v[o]+h[o])/2,p=[];u[o]=p[o]=g,u[1-o]=v[1-o],p[1-o]=h[1-o],l.push(u[0],u[1]),l.push(p[0],p[1]);break;default:u[o]=v[o],u[1-o]=h[1-o],l.push(u[0],u[1])}return l.push(r[s++],r[s++]),l}function yl(r,t){var e=[],a=r.length,i,n;function o(v,h,c){var f=v.coord,g=(c-f)/(h.coord-f),p=Qn(g,[v.color,h.color]);return{coord:c,color:p}}for(var l=0;l<a;l++){var s=r[l],u=s.coord;if(u<0)i=s;else if(u>t){n?e.push(o(n,s,t)):i&&e.push(o(i,s,0),o(i,s,t));break}else i&&(e.push(o(i,s,0)),i=null),e.push(s),n=s}return e}function ml(r,t,e){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&t.type==="cartesian2d"){for(var i,n,o=a.length-1;o>=0;o--){var l=r.getDimensionInfo(a[o].dimension);if(i=l&&l.coordDim,i==="x"||i==="y"){n=a[o];break}}if(n){var s=t.getAxis(i),u=te(n.stops,function(m){return{coord:s.toGlobalCoord(s.dataToCoord(m.value)),color:m.color}}),v=u.length,h=n.outerColors.slice();v&&u[0].coord>u[v-1].coord&&(u.reverse(),h.reverse());var c=yl(u,i==="x"?e.getWidth():e.getHeight()),f=c.length;if(!f&&v)return u[0].coord<0?h[1]?h[1]:u[v-1].color:h[0]?h[0]:u[0].color;var g=10,p=c[0].coord-g,y=c[f-1].coord+g,S=y-p;if(S<.001)return"transparent";k(c,function(m){m.offset=(m.coord-p)/S}),c.push({offset:f?c[f-1].offset:.5,color:h[1]||"transparent"}),c.unshift({offset:f?c[0].offset:.5,color:h[0]||"transparent"});var d=new Bi(0,0,0,0,c,!0);return d[i]=p,d[i+"2"]=y,d}}}function Sl(r,t,e){var a=r.get("showAllSymbol"),i=a==="auto";if(!(a&&!i)){var n=e.getAxesByScale("ordinal")[0];if(n&&!(i&&bl(n,t))){var o=t.mapDimension(n.dim),l={};return k(n.getViewLabels(),function(s){var u=n.scale.getRawOrdinalNumber(s.tickValue);l[u]=1}),function(s){return!l.hasOwnProperty(t.get(o,s))}}}}function bl(r,t){var e=r.getExtent(),a=Math.abs(e[1]-e[0])/r.scale.count();isNaN(a)&&(a=0);for(var i=t.count(),n=Math.max(1,Math.round(i/5)),o=0;o<i;o+=n)if(_t.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function Dl(r,t){return isNaN(r)||isNaN(t)}function wl(r){for(var t=r.length/2;t>0&&Dl(r[t*2-2],r[t*2-1]);t--);return t-1}function Wr(r,t){return[r[t*2],r[t*2+1]]}function Il(r,t,e){for(var a=r.length/2,i=e==="x"?0:1,n,o,l=0,s=-1,u=0;u<a;u++)if(o=r[u*2+i],!(isNaN(o)||isNaN(r[u*2+1-i]))){if(u===0){n=o;continue}if(n<=t&&o>=t||n>=t&&o<=t){s=u;break}l=u,n=o}return{range:[l,s],t:(t-n)/(o-n)}}function cn(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<ft.length;t++)if(r.get([ft[t],"endLabel","show"]))return!0;return!1}function fa(r,t,e,a){if(aa(t,"cartesian2d")){var i=a.getModel("endLabel"),n=i.get("valueAnimation"),o=a.getData(),l={lastFrameIndex:0},s=cn(a)?function(f,g){r._endLabelOnDuring(f,g,o,l,n,i,t)}:null,u=t.getBaseAxis().isHorizontal(),v=un(t,e,a,function(){var f=r._endLabel;f&&e&&l.originalX!=null&&f.attr({x:l.originalX,y:l.originalY})},s);if(!a.get("clip",!0)){var h=v.shape,c=Math.max(h.width,h.height);u?(h.y-=c,h.height+=c*2):(h.x-=c,h.width+=c*2)}return s&&s(1,v),v}else return vn(t,e,a)}function Al(r,t){var e=t.getBaseAxis(),a=e.isHorizontal(),i=e.inverse,n=a?i?"right":"left":"center",o=a?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||n,verticalAlign:r.get("verticalAlign")||o}}}var xl=(function(r){z(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new re,a=new ta;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=e,this._changePolyState=ve(this._changePolyState,this)},t.prototype.render=function(e,a,i){var n=e.coordinateSystem,o=this.group,l=e.getData(),s=e.getModel("lineStyle"),u=e.getModel("areaStyle"),v=l.getLayout("points")||[],h=n.type==="polar",c=this._coordSys,f=this._symbolDraw,g=this._polyline,p=this._polygon,y=this._lineGroup,S=!a.ssr&&e.get("animation"),d=!u.isEmpty(),m=u.get("origin"),b=nn(n,l,m),D=d&&dl(n,l,b),w=e.get("showSymbol"),I=e.get("connectNulls"),A=w&&!h&&Sl(e,l,n),L=this._data;L&&L.eachItemGraphicEl(function(U,ie){U.__temp&&(o.remove(U),L.setItemGraphicEl(ie,null))}),w||f.remove(),o.add(y);var _=h?!1:e.get("step"),x;n&&n.getArea&&e.get("clip",!0)&&(x=n.getArea(),x.width!=null?(x.x-=.1,x.y-=.1,x.width+=.2,x.height+=.2):x.r0&&(x.r0-=.5,x.r+=.5)),this._clipShapeForSymbol=x;var T=ml(l,n,i)||l.getVisual("style")[l.getVisual("drawType")];if(!(g&&c.type===n.type&&_===this._step))w&&f.updateData(l,{isIgnore:A,clipShape:x,disableAnimation:!0,getSymbolPoint:function(U){return[v[U*2],v[U*2+1]]}}),S&&this._initSymbolLabelAnimation(l,n,x),_&&(D&&(D=Ve(D,v,n,_,I)),v=Ve(v,null,n,_,I)),g=this._newPolyline(v),d?p=this._newPolygon(v,D):p&&(y.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(e,n,Sr(T)),y.setClipPath(fa(this,n,!0,e));else{d&&!p?p=this._newPolygon(v,D):p&&!d&&(y.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(e,n,Sr(T));var C=y.getClipPath();if(C){var E=fa(this,n,!1,e);ee(C,{shape:E.shape},e)}else y.setClipPath(fa(this,n,!0,e));w&&f.updateData(l,{isIgnore:A,clipShape:x,disableAnimation:!0,getSymbolPoint:function(U){return[v[U*2],v[U*2+1]]}}),(!zr(this._stackedOnPoints,D)||!zr(this._points,v))&&(S?this._doUpdateAnimation(l,D,n,i,_,m,I):(_&&(D&&(D=Ve(D,v,n,_,I)),v=Ve(v,null,n,_,I)),g.setShape({points:v}),p&&p.setShape({points:v,stackedOnPoints:D})))}var N=e.getModel("emphasis"),R=N.get("focus"),M=N.get("blurScope"),P=N.get("disabled");if(g.useStyle(tt(s.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),ce(g,e,"lineStyle"),g.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var V=g.getState("emphasis").style;V.lineWidth=+g.style.lineWidth+1}se(g).seriesIndex=e.seriesIndex,ne(g,R,M,P);var G=Fr(e.get("smooth")),O=e.get("smoothMonotone");if(g.setShape({smooth:G,smoothMonotone:O,connectNulls:I}),p){var H=l.getCalculationInfo("stackedOnSeries"),X=0;p.useStyle(tt(u.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),H&&(X=Fr(H.get("smooth"))),p.setShape({smooth:G,stackedOnSmooth:X,smoothMonotone:O,connectNulls:I}),ce(p,e,"areaStyle"),se(p).seriesIndex=e.seriesIndex,ne(p,R,M,P)}var F=this._changePolyState;l.eachItemGraphicEl(function(U){U&&(U.onHoverStateChange=F)}),this._polyline.onHoverStateChange=F,this._data=l,this._coordSys=n,this._stackedOnPoints=D,this._points=v,this._step=_,this._valueOrigin=m,e.get("triggerLineEvent")&&(this.packEventData(e,g),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,a){se(a).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,a,i,n){var o=e.getData(),l=br(o,n);if(this._changePolyState("emphasis"),!(l instanceof Array)&&l!=null&&l>=0){var s=o.getLayout("points"),u=o.getItemGraphicEl(l);if(!u){var v=s[l*2],h=s[l*2+1];if(isNaN(v)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,h))return;var c=e.get("zlevel")||0,f=e.get("z")||0;u=new _t(o,l),u.x=v,u.y=h,u.setZ(c,f);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=c,g.z=f,g.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(l,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else ae.prototype.highlight.call(this,e,a,i,n)},t.prototype.downplay=function(e,a,i,n){var o=e.getData(),l=br(o,n);if(this._changePolyState("normal"),l!=null&&l>=0){var s=o.getItemGraphicEl(l);s&&(s.__temp?(o.setItemGraphicEl(l,null),this.group.remove(s)):s.downplay())}else ae.prototype.downplay.call(this,e,a,i,n)},t.prototype._changePolyState=function(e){var a=this._polygon;Ht(this._polyline,e),a&&Ht(a,e)},t.prototype._newPolyline=function(e){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new gl({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(e,a){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new sn({shape:{points:e,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,a,i){var n,o,l=a.getBaseAxis(),s=l.inverse;a.type==="cartesian2d"?(n=l.isHorizontal(),o=!1):a.type==="polar"&&(n=l.dim==="angle",o=!0);var u=e.hostModel,v=u.get("animationDuration");ye(v)&&(v=v(null));var h=u.get("animationDelay")||0,c=ye(h)?h(null):h;e.eachItemGraphicEl(function(f,g){var p=f;if(p){var y=[f.x,f.y],S=void 0,d=void 0,m=void 0;if(i)if(o){var b=i,D=a.pointToCoord(y);n?(S=b.startAngle,d=b.endAngle,m=-D[1]/180*Math.PI):(S=b.r0,d=b.r,m=D[0])}else{var w=i;n?(S=w.x,d=w.x+w.width,m=f.x):(S=w.y+w.height,d=w.y,m=f.y)}var I=d===S?0:(m-S)/(d-S);s&&(I=1-I);var A=ye(h)?h(g):v*I+c,L=p.getSymbolPath(),_=L.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:A}),_&&_.animateFrom({style:{opacity:0}},{duration:300,delay:A}),L.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,a,i){var n=e.getModel("endLabel");if(cn(e)){var o=e.getData(),l=this._polyline,s=o.getLayout("points");if(!s){l.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Ce({z2:200}),u.ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var v=wl(s);v>=0&&(me(l,he(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:v,defaultText:function(h,c,f){return f!=null?an(o,f):nr(o,h)},enableTextSetter:!0},Al(n,a)),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,a,i,n,o,l,s){var u=this._endLabel,v=this._polyline;if(u){e<1&&n.originalX==null&&(n.originalX=u.x,n.originalY=u.y);var h=i.getLayout("points"),c=i.hostModel,f=c.get("connectNulls"),g=l.get("precision"),p=l.get("distance")||0,y=s.getBaseAxis(),S=y.isHorizontal(),d=y.inverse,m=a.shape,b=d?S?m.x:m.y+m.height:S?m.x+m.width:m.y,D=(S?p:0)*(d?-1:1),w=(S?0:-p)*(d?-1:1),I=S?"x":"y",A=Il(h,b,I),L=A.range,_=L[1]-L[0],x=void 0;if(_>=1){if(_>1&&!f){var T=Wr(h,L[0]);u.attr({x:T[0]+D,y:T[1]+w}),o&&(x=c.getRawValue(L[0]))}else{var T=v.getPointOn(b,I);T&&u.attr({x:T[0]+D,y:T[1]+w});var C=c.getRawValue(L[0]),E=c.getRawValue(L[1]);o&&(x=Jn(i,g,C,E,A.t))}n.lastFrameIndex=L[0]}else{var N=e===1||n.lastFrameIndex>0?L[0]:0,T=Wr(h,N);o&&(x=c.getRawValue(N)),u.attr({x:T[0]+D,y:T[1]+w})}if(o){var R=zi(u);typeof R.setLabelText=="function"&&R.setLabelText(x)}}},t.prototype._doUpdateAnimation=function(e,a,i,n,o,l,s){var u=this._polyline,v=this._polygon,h=e.hostModel,c=fl(this._data,e,this._stackedOnPoints,a,this._coordSys,i,this._valueOrigin),f=c.current,g=c.stackedOnCurrent,p=c.next,y=c.stackedOnNext;if(o&&(g=Ve(c.stackedOnCurrent,c.current,i,o,s),f=Ve(c.current,null,i,o,s),y=Ve(c.stackedOnNext,c.next,i,o,s),p=Ve(c.next,null,i,o,s)),Hr(f,p)>3e3||v&&Hr(g,y)>3e3){u.stopAnimation(),u.setShape({points:p}),v&&(v.stopAnimation(),v.setShape({points:p,stackedOnPoints:y}));return}u.shape.__points=c.current,u.shape.points=f;var S={shape:{points:p}};c.current!==f&&(S.shape.__points=c.next),u.stopAnimation(),j(u,S,h),v&&(v.setShape({points:f,stackedOnPoints:g}),v.stopAnimation(),j(v,{shape:{stackedOnPoints:y}},h),u.shape.points!==v.shape.points&&(v.shape.points=u.shape.points));for(var d=[],m=c.status,b=0;b<m.length;b++){var D=m[b].cmd;if(D==="="){var w=e.getItemGraphicEl(m[b].idx1);w&&d.push({el:w,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){v&&v.dirtyShape();for(var I=u.shape.__points,A=0;A<d.length;A++){var L=d[A].el,_=d[A].ptIdx*2;L.x=I[_],L.y=I[_+1],L.markRedraw()}})},t.prototype.remove=function(e){var a=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(n,o){n.__temp&&(a.remove(n),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(ae);function Lt(r,t){return{seriesType:r,plan:Ka(),reset:function(e){var a=e.getData(),i=e.coordinateSystem,n=e.pipelineContext,o=t||n.large;if(i){var l=te(i.dimensions,function(f){return a.mapDimension(f)}).slice(0,2),s=l.length,u=a.getCalculationInfo("stackResultDimension");Bt(a,l[0])&&(l[0]=u),Bt(a,l[1])&&(l[1]=u);var v=a.getStore(),h=a.getDimensionIndex(l[0]),c=a.getDimensionIndex(l[1]);return s&&{progress:function(f,g){for(var p=f.end-f.start,y=o&&We(p*s),S=[],d=[],m=f.start,b=0;m<f.end;m++){var D=void 0;if(s===1){var w=v.get(h,m);D=i.dataToPoint(w,null,d)}else S[0]=v.get(h,m),S[1]=v.get(c,m),D=i.dataToPoint(S,null,d);o?(y[b++]=D[0],y[b++]=D[1]):g.setItemLayout(m,D.slice())}o&&g.setLayout("points",y)}}}}}}var _l={average:function(r){for(var t=0,e=0,a=0;a<r.length;a++)isNaN(r[a])||(t+=r[a],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},Ll=function(r){return Math.round(r.length/2)};function fn(r){return{seriesType:r,reset:function(t,e,a){var i=t.getData(),n=t.get("sampling"),o=t.coordinateSystem,l=i.count();if(l>10&&o.type==="cartesian2d"&&n){var s=o.getBaseAxis(),u=o.getOtherAxis(s),v=s.getExtent(),h=a.getDevicePixelRatio(),c=Math.abs(v[1]-v[0])*(h||1),f=Math.round(l/c);if(isFinite(f)&&f>1){n==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/f)):n==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/f));var g=void 0;Pe(n)?g=_l[n]:ye(n)&&(g=n),g&&t.setData(i.downSample(i.mapDimension(u.dim),1/f,g,Ll))}}}}}function wh(r){r.registerChartView(xl),r.registerSeriesModel(vl),r.registerLayout(Lt("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,fn("line"))}var Ua=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return Be(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,a,i){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(e),l=n.dataToPoint(o);if(i)k(n.getAxes(),function(c,f){if(c.type==="category"&&a!=null){var g=c.getTicksCoords(),p=c.getTickModel().get("alignWithLabel"),y=o[f],S=a[f]==="x1"||a[f]==="y1";if(S&&!p&&(y+=1),g.length<2)return;if(g.length===2){l[f]=c.toGlobalCoord(c.getExtent()[S?1:0]);return}for(var d=void 0,m=void 0,b=1,D=0;D<g.length;D++){var w=g[D].coord,I=D===g.length-1?g[D-1].tickValue+b:g[D].tickValue;if(I===y){m=w;break}else if(I<y)d=w;else if(d!=null&&I>y){m=(w+d)/2;break}D===1&&(b=I-g[0].tickValue)}m==null&&(d?d&&(m=g[g.length-1].coord):m=g[0].coord),l[f]=c.toGlobalCoord(m)}});else{var s=this.getData(),u=s.getLayout("offset"),v=s.getLayout("size"),h=n.getBaseAxis().isHorizontal()?0:1;l[h]+=u+v/2}return l}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t})(oe);oe.registerClass(Ua);var Tl=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Be(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>e&&(e=a),e},t.prototype.brushSelector=function(e,a,i){return i.rect(a.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=eo(Ua.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t})(Ua),Cl=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),Wt=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new Cl},t.prototype.buildPath=function(e,a){var i=a.cx,n=a.cy,o=Math.max(a.r0||0,0),l=Math.max(a.r,0),s=(l-o)*.5,u=o+s,v=a.startAngle,h=a.endAngle,c=a.clockwise,f=Math.PI*2,g=c?h-v<f:v-h<f;g||(v=h-(c?f:-f));var p=Math.cos(v),y=Math.sin(v),S=Math.cos(h),d=Math.sin(h);g?(e.moveTo(p*o+i,y*o+n),e.arc(p*u+i,y*u+n,s,-Math.PI+v,v,!c)):e.moveTo(p*l+i,y*l+n),e.arc(i,n,l,v,h,!c),e.arc(S*u+i,d*u+n,s,h-Math.PI*2,h-Math.PI,!c),o!==0&&e.arc(i,n,o,h,v,c)},t})(De);function Nl(r,t){t=t||{};var e=t.isRoundCap;return function(a,i,n){var o=i.position;if(!o||o instanceof Array)return Dr(a,i,n);var l=r(o),s=i.distance!=null?i.distance:5,u=this.shape,v=u.cx,h=u.cy,c=u.r,f=u.r0,g=(c+f)/2,p=u.startAngle,y=u.endAngle,S=(p+y)/2,d=e?Math.abs(c-f)/2:0,m=Math.cos,b=Math.sin,D=v+c*m(p),w=h+c*b(p),I="left",A="top";switch(l){case"startArc":D=v+(f-s)*m(S),w=h+(f-s)*b(S),I="center",A="top";break;case"insideStartArc":D=v+(f+s)*m(S),w=h+(f+s)*b(S),I="center",A="bottom";break;case"startAngle":D=v+g*m(p)+Mt(p,s+d,!1),w=h+g*b(p)+Rt(p,s+d,!1),I="right",A="middle";break;case"insideStartAngle":D=v+g*m(p)+Mt(p,-s+d,!1),w=h+g*b(p)+Rt(p,-s+d,!1),I="left",A="middle";break;case"middle":D=v+g*m(S),w=h+g*b(S),I="center",A="middle";break;case"endArc":D=v+(c+s)*m(S),w=h+(c+s)*b(S),I="center",A="bottom";break;case"insideEndArc":D=v+(c-s)*m(S),w=h+(c-s)*b(S),I="center",A="top";break;case"endAngle":D=v+g*m(y)+Mt(y,s+d,!0),w=h+g*b(y)+Rt(y,s+d,!0),I="left",A="middle";break;case"insideEndAngle":D=v+g*m(y)+Mt(y,-s+d,!0),w=h+g*b(y)+Rt(y,-s+d,!0),I="right",A="middle";break;default:return Dr(a,i,n)}return a=a||{},a.x=D,a.y=w,a.align=I,a.verticalAlign=A,a}}function Pl(r,t,e,a){if(Ae(a)){r.setTextConfig({rotation:a});return}else if(Z(t)){r.setTextConfig({rotation:0});return}var i=r.shape,n=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,l=(n+o)/2,s,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":s=l;break;case"startAngle":case"insideStartAngle":s=n;break;case"endAngle":case"insideEndAngle":s=o;break;default:r.setTextConfig({rotation:0});return}var v=Math.PI*1.5-s;u==="middle"&&v>Math.PI/2&&v<Math.PI*1.5&&(v-=Math.PI),r.setTextConfig({rotation:v})}function Mt(r,t,e){return t*Math.sin(r)*(e?-1:1)}function Rt(r,t,e){return t*Math.cos(r)*(e?1:-1)}function Xe(r,t,e){var a=r.get("borderRadius");if(a==null)return e?{cornerRadius:0}:null;Z(a)||(a=[a,a,a,a]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:te(a,function(n){return to(n,i)})}}var ga=Math.max,pa=Math.min;function El(r,t){var e=r.getArea&&r.getArea();if(aa(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var i=t.getLayout("bandWidth");a.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var Ml=(function(r){z(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,a,i,n){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,a,i):this._renderNormal(e,a,i,n))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,a){this._progressiveEls=[],this._incrementalRenderLarge(e,a)},t.prototype.eachRendered=function(e){St(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e,a,i,n){var o=this.group,l=e.getData(),s=this._data,u=e.coordinateSystem,v=u.getBaseAxis(),h;u.type==="cartesian2d"?h=v.isHorizontal():u.type==="polar"&&(h=v.dim==="angle");var c=e.isAnimationEnabled()?e:null,f=Rl(e,u);f&&this._enableRealtimeSort(f,l,i);var g=e.get("clip",!0)||f,p=El(u,l);o.removeClipPath();var y=e.get("roundCap",!0),S=e.get("showBackground",!0),d=e.getModel("backgroundStyle"),m=d.get("borderRadius")||0,b=[],D=this._backgroundEls,w=n&&n.isInitSort,I=n&&n.type==="changeAxisOrder";function A(x){var T=Vt[u.type](l,x),C=Hl(u,h,T);return C.useStyle(d.getItemStyle()),u.type==="cartesian2d"?C.setShape("r",m):C.setShape("cornerRadius",m),b[x]=C,C}l.diff(s).add(function(x){var T=l.getItemModel(x),C=Vt[u.type](l,x,T);if(S&&A(x),!(!l.hasValue(x)||!Zr[u.type](C))){var E=!1;g&&(E=Ur[u.type](p,C));var N=Xr[u.type](e,l,x,C,h,c,v.model,!1,y);f&&(N.forceLabelAnimation=!0),qr(N,l,x,T,C,e,h,u.type==="polar"),w?N.attr({shape:C}):f?$r(f,c,N,C,x,h,!1,!1):ee(N,{shape:C},e,x),l.setItemGraphicEl(x,N),o.add(N),N.ignore=E}}).update(function(x,T){var C=l.getItemModel(x),E=Vt[u.type](l,x,C);if(S){var N=void 0;D.length===0?N=A(T):(N=D[T],N.useStyle(d.getItemStyle()),u.type==="cartesian2d"?N.setShape("r",m):N.setShape("cornerRadius",m),b[x]=N);var R=Vt[u.type](l,x),M=pn(h,R,u);j(N,{shape:M},c,x)}var P=s.getItemGraphicEl(T);if(!l.hasValue(x)||!Zr[u.type](E)){o.remove(P);return}var V=!1;if(g&&(V=Ur[u.type](p,E),V&&o.remove(P)),P?Ie(P):P=Xr[u.type](e,l,x,E,h,c,v.model,!!P,y),f&&(P.forceLabelAnimation=!0),I){var G=P.getTextContent();if(G){var O=zi(G);O.prevValue!=null&&(O.prevValue=O.value)}}else qr(P,l,x,C,E,e,h,u.type==="polar");w?P.attr({shape:E}):f?$r(f,c,P,E,x,h,!0,I):j(P,{shape:E},e,x,null),l.setItemGraphicEl(x,P),P.ignore=V,o.add(P)}).remove(function(x){var T=s.getItemGraphicEl(x);T&&Ft(T,e,x)}).execute();var L=this._backgroundGroup||(this._backgroundGroup=new re);L.removeAll();for(var _=0;_<b.length;++_)L.add(b[_]);o.add(L),this._backgroundEls=b,this._data=l},t.prototype._renderLarge=function(e,a,i){this._clear(),Kr(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,a){this._removeBackground(),Kr(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var a=e.get("clip",!0)&&hn(e.coordinateSystem,!1,e),i=this.group;a?i.setClipPath(a):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,a,i){var n=this;if(a.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,e,i),this._isFirstFrame=!1;else{var l=function(s){var u=a.getItemGraphicEl(s),v=u&&u.shape;return v&&Math.abs(o.isHorizontal()?v.height:v.width)||0};this._onRendered=function(){n._updateSortWithinSameData(a,l,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,a,i){var n=[];return e.each(e.mapDimension(a.dim),function(o,l){var s=i(l);s=s??NaN,n.push({dataIndex:l,mappedValue:s,ordinalNumber:o})}),n.sort(function(o,l){return l.mappedValue-o.mappedValue}),{ordinalNumbers:te(n,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,a,i){for(var n=i.scale,o=e.mapDimension(i.dim),l=Number.MAX_VALUE,s=0,u=n.getOrdinalMeta().categories.length;s<u;++s){var v=e.rawIndexOf(o,n.getRawOrdinalNumber(s)),h=v<0?Number.MIN_VALUE:a(e.indexOfRawIndex(v));if(h>l)return!0;l=h}return!1},t.prototype._isOrderDifferentInView=function(e,a){for(var i=a.scale,n=i.getExtent(),o=Math.max(0,n[0]),l=Math.min(n[1],i.getOrdinalMeta().categories.length-1);o<=l;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,a,i,n){if(this._isOrderChangedWithinSameData(e,a,i)){var o=this._dataSort(e,i,a);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,a,i){var n=a.baseAxis,o=this._dataSort(e,n,function(l){return e.get(e.mapDimension(a.otherAxis.dim),l)});i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},t.prototype.remove=function(e,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(e,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var a=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(n){Ft(n,e,se(n).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(ae),Ur={cartesian2d:function(r,t){var e=t.width<0?-1:1,a=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var i=r.x+r.width,n=r.y+r.height,o=ga(t.x,r.x),l=pa(t.x+t.width,i),s=ga(t.y,r.y),u=pa(t.y+t.height,n),v=l<o,h=u<s;return t.x=v&&o>i?l:o,t.y=h&&s>n?u:s,t.width=v?0:l-o,t.height=h?0:u-s,e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),v||h},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}var i=pa(t.r,r.r),n=ga(t.r0,r.r0);t.r=i,t.r0=n;var o=i-n<0;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}return o}},Xr={cartesian2d:function(r,t,e,a,i,n,o,l,s){var u=new _e({shape:Y({},a),z2:1});if(u.__dataIndex=e,u.name="item",n){var v=u.shape,h=i?"height":"width";v[h]=0}return u},polar:function(r,t,e,a,i,n,o,l,s){var u=!i&&s?Wt:Ge,v=new u({shape:a,z2:1});v.name="item";var h=gn(i);if(v.calculateTextPosition=Nl(h,{isRoundCap:u===Wt}),n){var c=v.shape,f=i?"r":"endAngle",g={};c[f]=i?a.r0:a.startAngle,g[f]=a[f],(l?j:ee)(v,{shape:g},n)}return v}};function Rl(r,t){var e=r.get("realtimeSort",!0),a=t.getBaseAxis();if(e&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function $r(r,t,e,a,i,n,o,l){var s,u;n?(u={x:a.x,width:a.width},s={y:a.y,height:a.height}):(u={y:a.y,height:a.height},s={x:a.x,width:a.width}),l||(o?j:ee)(e,{shape:s},t,i,null);var v=t?r.baseAxis.model:null;(o?j:ee)(e,{shape:u},v,i)}function Yr(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var Vl=["x","y","width","height"],kl=["cx","cy","r","startAngle","endAngle"],Zr={cartesian2d:function(r){return!Yr(r,Vl)},polar:function(r){return!Yr(r,kl)}},Vt={cartesian2d:function(r,t,e){var a=r.getItemLayout(t),i=e?Gl(e,a):0,n=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+n*i/2,y:a.y+o*i/2,width:a.width-n*i,height:a.height-o*i}},polar:function(r,t,e){var a=r.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function Ol(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function gn(r){return(function(t){var e=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+e;default:return a}}})(r)}function qr(r,t,e,a,i,n,o,l){var s=t.getItemVisual(e,"style");if(l){if(!n.get("roundCap")){var v=r.shape,h=Xe(a.getModel("itemStyle"),v,!0);Y(v,h),r.setShape(v)}}else{var u=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(s);var c=a.getShallow("cursor");c&&r.attr("cursor",c);var f=l?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",g=he(a);me(r,g,{labelFetcher:n,labelDataIndex:e,defaultText:nr(n.getData(),e),inheritColor:s.fill,defaultOpacity:s.opacity,defaultOutsidePosition:f});var p=r.getTextContent();if(l&&p){var y=a.get(["label","position"]);r.textConfig.inside=y==="middle"?!0:null,Pl(r,y==="outside"?f:y,gn(o),a.get(["label","rotate"]))}Hi(p,g,n.getRawValue(e),function(d){return an(t,d)});var S=a.getModel(["emphasis"]);ne(r,S.get("focus"),S.get("blurScope"),S.get("disabled")),ce(r,a),Ol(i)&&(r.style.fill="none",r.style.stroke="none",k(r.states,function(d){d.style&&(d.style.fill=d.style.stroke="none")}))}function Gl(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,i,n)}var zl=(function(){function r(){}return r})(),jr=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new zl},t.prototype.buildPath=function(e,a){for(var i=a.points,n=this.baseDimIdx,o=1-this.baseDimIdx,l=[],s=[],u=this.barWidth,v=0;v<i.length;v+=3)s[n]=u,s[o]=i[v+2],l[n]=i[v+n],l[o]=i[v+o],e.rect(l[0],l[1],s[0],s[1])},t})(De);function Kr(r,t,e,a){var i=r.getData(),n=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),l=i.getLayout("size"),s=r.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var v=new jr({shape:{points:u},incremental:!!a,silent:!0,z2:0});v.baseDimIdx=n,v.largeDataIndices=o,v.barWidth=l,v.useStyle(s.getItemStyle()),t.add(v),e&&e.push(v)}var h=new jr({shape:{points:i.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=n,h.largeDataIndices=o,h.barWidth=l,t.add(h),h.useStyle(i.getVisual("style")),h.style.stroke=null,se(h).seriesIndex=r.seriesIndex,r.get("silent")||(h.on("mousedown",Jr),h.on("mousemove",Jr)),e&&e.push(h)}var Jr=ao(function(r){var t=this,e=Bl(t,r.offsetX,r.offsetY);se(t).dataIndex=e>=0?e:null},30,!1);function Bl(r,t,e){for(var a=r.baseDimIdx,i=1-a,n=r.shape.points,o=r.largeDataIndices,l=[],s=[],u=r.barWidth,v=0,h=n.length/3;v<h;v++){var c=v*3;if(s[a]=u,s[i]=n[c+2],l[a]=n[c+a],l[i]=n[c+i],s[i]<0&&(l[i]+=s[i],s[i]=-s[i]),t>=l[0]&&t<=l[0]+s[0]&&e>=l[1]&&e<=l[1]+s[1])return o[v]}return-1}function pn(r,t,e){if(aa(e,"cartesian2d")){var a=t,i=e.getArea();return{x:r?a.x:i.x,y:r?i.y:a.y,width:r?a.width:i.width,height:r?i.height:a.height}}else{var i=e.getArea(),n=t;return{cx:i.cx,cy:i.cy,r0:r?i.r0:n.r0,r:r?i.r:n.r,startAngle:r?n.startAngle:0,endAngle:r?n.endAngle:Math.PI*2}}}function Hl(r,t,e){var a=r.type==="polar"?Ge:_e;return new a({shape:pn(t,e,r),silent:!0,z2:0})}function Ih(r){r.registerChartView(Ml),r.registerSeriesModel(Tl),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,ge(ro,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,io("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,fn("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var a=t.componentType||"series";e.eachComponent({mainType:a,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var Qr=Math.PI*2,kt=Math.PI/180;function dn(r,t){return at(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function yn(r,t){var e=dn(r,t),a=r.get("center"),i=r.get("radius");Z(i)||(i=[0,i]);var n=B(e.width,t.getWidth()),o=B(e.height,t.getHeight()),l=Math.min(n,o),s=B(i[0],l/2),u=B(i[1],l/2),v,h,c=r.coordinateSystem;if(c){var f=c.dataToPoint(a);v=f[0]||0,h=f[1]||0}else Z(a)||(a=[a,a]),v=B(a[0],n)+e.x,h=B(a[1],o)+e.y;return{cx:v,cy:h,r0:s,r:u}}function Fl(r,t,e){t.eachSeriesByType(r,function(a){var i=a.getData(),n=i.mapDimension("value"),o=dn(a,e),l=yn(a,e),s=l.cx,u=l.cy,v=l.r,h=l.r0,c=-a.get("startAngle")*kt,f=a.get("endAngle"),g=a.get("padAngle")*kt;f=f==="auto"?c-Qr:-f*kt;var p=a.get("minAngle")*kt,y=p+g,S=0;i.each(n,function(M){!isNaN(M)&&S++});var d=i.getSum(n),m=Math.PI/(d||S)*2,b=a.get("clockwise"),D=a.get("roseType"),w=a.get("stillShowZeroSum"),I=i.getDataExtent(n);I[0]=0;var A=b?1:-1,L=[c,f],_=A*g/2;Fi(L,!b),c=L[0],f=L[1];var x=mn(a);x.startAngle=c,x.endAngle=f,x.clockwise=b;var T=Math.abs(f-c),C=T,E=0,N=c;if(i.setLayout({viewRect:o,r:v}),i.each(n,function(M,P){var V;if(isNaN(M)){i.setItemLayout(P,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:s,cy:u,r0:h,r:D?NaN:v});return}D!=="area"?V=d===0&&w?m:M*m:V=T/S,V<y?(V=y,C-=y):E+=M;var G=N+A*V,O=0,H=0;g>V?(O=N+A*V/2,H=O):(O=N+_,H=G-_),i.setItemLayout(P,{angle:V,startAngle:O,endAngle:H,clockwise:b,cx:s,cy:u,r0:h,r:D?Se(M,I,[h,v]):v}),N=G}),C<Qr&&S)if(C<=.001){var R=T/S;i.each(n,function(M,P){if(!isNaN(M)){var V=i.getItemLayout(P);V.angle=R;var G=0,O=0;R<g?(G=c+A*(P+1/2)*R,O=G):(G=c+A*P*R+_,O=c+A*(P+1)*R-_),V.startAngle=G,V.endAngle=O}})}else m=C/E,N=c,i.each(n,function(M,P){if(!isNaN(M)){var V=i.getItemLayout(P),G=V.angle===y?y:M*m,O=0,H=0;G<g?(O=N+A*G/2,H=O):(O=N+_,H=N+A*G-_),V.startAngle=O,V.endAngle=H,N+=A*G}})})}var mn=Dt();function Tt(r){return{seriesType:r,reset:function(t,e){var a=e.findComponents({mainType:"legend"});if(!(!a||!a.length)){var i=t.getData();i.filterSelf(function(n){for(var o=i.getName(n),l=0;l<a.length;l++)if(!a[l].isSelected(o))return!1;return!0})}}}}var Wl=Math.PI/180;function ei(r,t,e,a,i,n,o,l,s,u){if(r.length<2)return;function v(p){for(var y=p.rB,S=y*y,d=0;d<p.list.length;d++){var m=p.list[d],b=Math.abs(m.label.y-e),D=a+m.len,w=D*D,I=Math.sqrt(Math.abs((1-b*b/S)*w)),A=t+(I+m.len2)*i,L=A-m.label.x,_=m.targetTextWidth-L*i;Sn(m,_,!0),m.label.x=A}}function h(p){for(var y={list:[],maxY:0},S={list:[],maxY:0},d=0;d<p.length;d++)if(p[d].labelAlignTo==="none"){var m=p[d],b=m.label.y>e?S:y,D=Math.abs(m.label.y-e);if(D>=b.maxY){var w=m.label.x-t-m.len2*i,I=a+m.len,A=Math.abs(w)<I?Math.sqrt(D*D/(1-w*w/I/I)):I;b.rB=A,b.maxY=D}b.list.push(m)}v(y),v(S)}for(var c=r.length,f=0;f<c;f++)if(r[f].position==="outer"&&r[f].labelAlignTo==="labelLine"){var g=r[f].label.x-u;r[f].linePoints[1][0]+=g,r[f].label.x=u}no(r,s,s+o)&&h(r)}function Ul(r,t,e,a,i,n,o,l){for(var s=[],u=[],v=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=0;c<r.length;c++){var f=r[c].label;da(r[c])||(f.x<t?(v=Math.min(v,f.x),s.push(r[c])):(h=Math.max(h,f.x),u.push(r[c])))}for(var c=0;c<r.length;c++){var g=r[c];if(!da(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var f=g.label,p=g.linePoints,y=void 0;g.labelAlignTo==="edge"?f.x<t?y=p[2][0]-g.labelDistance-o-g.edgeDistance:y=o+i-g.edgeDistance-p[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?f.x<t?y=v-o-g.bleedMargin:y=o+i-h-g.bleedMargin:f.x<t?y=f.x-o-g.bleedMargin:y=o+i-f.x-g.bleedMargin,g.targetTextWidth=y,Sn(g,y)}}ei(u,t,e,a,1,i,n,o,l,h),ei(s,t,e,a,-1,i,n,o,l,v);for(var c=0;c<r.length;c++){var g=r[c];if(!da(g)&&g.linePoints){var f=g.label,p=g.linePoints,S=g.labelAlignTo==="edge",d=f.style.padding,m=d?d[1]+d[3]:0,b=f.style.backgroundColor?0:m,D=g.rect.width+b,w=p[1][0]-p[2][0];S?f.x<t?p[2][0]=o+g.edgeDistance+D+g.labelDistance:p[2][0]=o+i-g.edgeDistance-D-g.labelDistance:(f.x<t?p[2][0]=f.x+g.labelDistance:p[2][0]=f.x-g.labelDistance,p[1][0]=p[2][0]+w),p[1][1]=p[2][1]=f.y}}}function Sn(r,t,e){if(e===void 0&&(e=!1),r.labelStyleWidth==null){var a=r.label,i=a.style,n=r.rect,o=i.backgroundColor,l=i.padding,s=l?l[1]+l[3]:0,u=i.overflow,v=n.width+(o?0:s);if(t<v||e){var h=n.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-s);var c=a.getBoundingRect();a.setStyle("width",Math.ceil(c.width)),a.setStyle("backgroundColor",o)}else{var f=t-s,g=t<v?f:e?f>r.unconstrainedWidth?null:f:null;a.setStyle("width",g)}var p=a.getBoundingRect();n.width=p.width;var y=(a.style.margin||0)+2.1;n.height=p.height+y,n.y-=(n.height-h)/2}}}function da(r){return r.position==="center"}function Xl(r){var t=r.getData(),e=[],a,i,n=!1,o=(r.get("minShowLabelAngle")||0)*Wl,l=t.getLayout("viewRect"),s=t.getLayout("r"),u=l.width,v=l.x,h=l.y,c=l.height;function f(w){w.ignore=!0}function g(w){if(!w.ignore)return!0;for(var I in w.states)if(w.states[I].ignore===!1)return!0;return!1}t.each(function(w){var I=t.getItemGraphicEl(w),A=I.shape,L=I.getTextContent(),_=I.getTextGuideLine(),x=t.getItemModel(w),T=x.getModel("label"),C=T.get("position")||x.get(["emphasis","label","position"]),E=T.get("distanceToLabelLine"),N=T.get("alignTo"),R=B(T.get("edgeDistance"),u),M=T.get("bleedMargin"),P=x.getModel("labelLine"),V=P.get("length");V=B(V,u);var G=P.get("length2");if(G=B(G,u),Math.abs(A.endAngle-A.startAngle)<o){k(L.states,f),L.ignore=!0,_&&(k(_.states,f),_.ignore=!0);return}if(g(L)){var O=(A.startAngle+A.endAngle)/2,H=Math.cos(O),X=Math.sin(O),F,U,ie,we;a=A.cx,i=A.cy;var $=C==="inside"||C==="inner";if(C==="center")F=A.cx,U=A.cy,we="center";else{var W=($?(A.r+A.r0)/2*H:A.r*H)+a,K=($?(A.r+A.r0)/2*X:A.r*X)+i;if(F=W+H*3,U=K+X*3,!$){var q=W+H*(V+s-A.r),Q=K+X*(V+s-A.r),ue=q+(H<0?-1:1)*G,pe=Q;N==="edge"?F=H<0?v+R:v+u-R:F=ue+(H<0?-E:E),U=pe,ie=[[W,K],[q,Q],[ue,pe]]}we=$?"center":N==="edge"?H>0?"right":"left":H>0?"left":"right"}var J=Math.PI,le=0,fe=T.get("rotate");if(Ae(fe))le=fe*(J/180);else if(C==="center")le=0;else if(fe==="radial"||fe===!0){var Ee=H<0?-O+J:-O;le=Ee}else if(fe==="tangential"&&C!=="outside"&&C!=="outer"){var Te=Math.atan2(H,X);Te<0&&(Te=J*2+Te);var Nt=X>0;Nt&&(Te=J+Te),le=Te-J}if(n=!!le,L.x=F,L.y=U,L.rotation=le,L.setStyle({verticalAlign:"middle"}),$){L.setStyle({align:we});var na=L.states.select;na&&(na.x+=L.x,na.y+=L.y)}else{var it=L.getBoundingRect().clone();it.applyTransform(L.getComputedTransform());var pr=(L.style.margin||0)+2.1;it.y-=pr/2,it.height+=pr,e.push({label:L,labelLine:_,position:C,len:V,len2:G,minTurnAngle:P.get("minTurnAngle"),maxSurfaceAngle:P.get("maxSurfaceAngle"),surfaceNormal:new ka(H,X),linePoints:ie,textAlign:we,labelDistance:E,labelAlignTo:N,edgeDistance:R,bleedMargin:M,rect:it,unconstrainedWidth:it.width,labelStyleWidth:L.style.width})}I.setTextConfig({inside:$})}}),!n&&r.get("avoidLabelOverlap")&&Ul(e,a,i,s,u,c,v,h);for(var p=0;p<e.length;p++){var y=e[p],S=y.label,d=y.labelLine,m=isNaN(S.x)||isNaN(S.y);if(S){S.setStyle({align:y.textAlign}),m&&(k(S.states,f),S.ignore=!0);var b=S.states.select;b&&(b.x+=S.x,b.y+=S.y)}if(d){var D=y.linePoints;m||!D?(k(d.states,f),d.ignore=!0):(qo(D,y.minTurnAngle),jo(D,y.surfaceNormal,y.maxSurfaceAngle),d.setShape({points:D}),S.__hostTarget.textGuideLineConfig={anchor:new ka(D[0][0],D[0][1])})}}}var $l=(function(r){z(t,r);function t(e,a,i){var n=r.call(this)||this;n.z2=2;var o=new Ce;return n.setTextContent(o),n.updateData(e,a,i,!0),n}return t.prototype.updateData=function(e,a,i,n){var o=this,l=e.hostModel,s=e.getItemModel(a),u=s.getModel("emphasis"),v=e.getItemLayout(a),h=Y(Xe(s.getModel("itemStyle"),v,!0),v);if(isNaN(h.startAngle)){o.setShape(h);return}if(n){o.setShape(h);var c=l.getShallow("animationType");l.ecModel.ssr?(ee(o,{scaleX:0,scaleY:0},l,{dataIndex:a,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):c==="scale"?(o.shape.r=v.r0,ee(o,{shape:{r:v.r}},l,a)):i!=null?(o.setShape({startAngle:i,endAngle:i}),ee(o,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},l,a)):(o.shape.endAngle=v.startAngle,j(o,{shape:{endAngle:v.endAngle}},l,a))}else Ie(o),j(o,{shape:h},l,a);o.useStyle(e.getItemVisual(a,"style")),ce(o,s);var f=(v.startAngle+v.endAngle)/2,g=l.get("selectedOffset"),p=Math.cos(f)*g,y=Math.sin(f)*g,S=s.getShallow("cursor");S&&o.attr("cursor",S),this._updateLabel(l,e,a),o.ensureState("emphasis").shape=Y({r:v.r+(u.get("scale")&&u.get("scaleSize")||0)},Xe(u.getModel("itemStyle"),v)),Y(o.ensureState("select"),{x:p,y,shape:Xe(s.getModel(["select","itemStyle"]),v)}),Y(o.ensureState("blur"),{shape:Xe(s.getModel(["blur","itemStyle"]),v)});var d=o.getTextGuideLine(),m=o.getTextContent();d&&Y(d.ensureState("select"),{x:p,y}),Y(m.ensureState("select"),{x:p,y}),ne(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,a,i){var n=this,o=a.getItemModel(i),l=o.getModel("labelLine"),s=a.getItemVisual(i,"style"),u=s&&s.fill,v=s&&s.opacity;me(n,he(o),{labelFetcher:a.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:v,defaultText:e.getFormattedLabel(i,"normal")||a.getName(i)});var h=n.getTextContent();n.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var c=e.get(["label","position"]);if(c!=="outside"&&c!=="outer")n.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new Kt,this.setTextGuideLine(f)),en(this,tn(o),{stroke:u,opacity:wt(l.get(["lineStyle","opacity"]),v,1)})}},t})(Ge),Yl=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,a,i,n){var o=e.getData(),l=this._data,s=this.group,u;if(!l&&o.count()>0){for(var v=o.getItemLayout(0),h=1;isNaN(v&&v.startAngle)&&h<o.count();++h)v=o.getItemLayout(h);v&&(u=v.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var c=mn(e),f=new Ge({shape:Y(yn(e,i),c)});f.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,s.add(f)}o.diff(l).add(function(g){var p=new $l(o,g,u);o.setItemGraphicEl(g,p),s.add(p)}).update(function(g,p){var y=l.getItemGraphicEl(p);y.updateData(o,g,u),y.off("click"),s.add(y),o.setItemGraphicEl(g,y)}).remove(function(g){var p=l.getItemGraphicEl(g);Ft(p,e,g)}).execute(),Xl(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,a){var i=a.getData(),n=i.getItemLayout(0);if(n){var o=e[0]-n.cx,l=e[1]-n.cy,s=Math.sqrt(o*o+l*l);return s<=n.r&&s>=n.r0}},t.type="pie",t})(ae);function rt(r,t,e){t=Z(t)&&{coordDimensions:t}||Y({encodeDefine:r.getEncode()},t);var a=r.getSource(),i=xt(a,t).dimensions,n=new Ye(i,r);return n.initData(a,e),n}var Ct=(function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var a=this._getDataWithEncodedVisual();return a.getItemVisual(t,e)},r})(),Zl=Dt(),ql=(function(r){z(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ct(ve(this.getData,this),ve(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return rt(this,{coordDimensions:["value"],encodeDefaulter:ge(Ja,this)})},t.prototype.getDataParams=function(e){var a=this.getData(),i=Zl(a),n=i.seats;if(!n){var o=[];a.each(a.mapDimension("value"),function(s){o.push(s)}),n=i.seats=oo(o,a.hostModel.get("percentPrecision"))}var l=r.prototype.getDataParams.call(this,e);return l.percent=n[e]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(e){Qa(e,"labelLine",["show"]);var a=e.labelLine,i=e.emphasis.labelLine;a.show=a.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t})(oe);function jl(r){return{seriesType:r,reset:function(t,e){var a=t.getData();a.filterSelf(function(i){var n=a.mapDimension("value"),o=a.get(n,i);return!(Ae(o)&&!isNaN(o)&&o<0)})}}}function Ah(r){r.registerChartView(Yl),r.registerSeriesModel(ql),Wi("pie",r.registerAction),r.registerLayout(ge(Fl,"pie")),r.registerProcessor(Tt("pie")),r.registerProcessor(jl("pie"))}var Kl=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,a){return Be(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,a,i){return i.point(a.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t})(oe),bn=4,Jl=(function(){function r(){}return r})(),Ql=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a._off=0,a.hoverDataIdx=-1,a}return t.prototype.getDefaultShape=function(){return new Jl},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,a){var i=a.points,n=a.size,o=this.symbolProxy,l=o.shape,s=e.getContext?e.getContext():e,u=s&&n[0]<bn,v=this.softClipShape,h;if(u){this._ctx=s;return}for(this._ctx=null,h=this._off;h<i.length;){var c=i[h++],f=i[h++];isNaN(c)||isNaN(f)||v&&!v.contain(c,f)||(l.x=c-n[0]/2,l.y=f-n[1]/2,l.width=n[0],l.height=n[1],o.buildPath(e,l,!0))}this.incremental&&(this._off=h,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,a=e.points,i=e.size,n=this._ctx,o=this.softClipShape,l;if(n){for(l=this._off;l<a.length;){var s=a[l++],u=a[l++];isNaN(s)||isNaN(u)||o&&!o.contain(s,u)||n.fillRect(s-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=l,this.notClear=!0)}},t.prototype.findDataIndex=function(e,a){for(var i=this.shape,n=i.points,o=i.size,l=Math.max(o[0],4),s=Math.max(o[1],4),u=n.length/2-1;u>=0;u--){var v=u*2,h=n[v]-l/2,c=n[v+1]-s/2;if(e>=h&&a>=c&&e<=h+l&&a<=c+s)return u}return-1},t.prototype.contain=function(e,a){var i=this.transformCoordToLocal(e,a),n=this.getBoundingRect();if(e=i[0],a=i[1],n.contain(e,a)){var o=this.hoverDataIdx=this.findDataIndex(e,a);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var a=this.shape,i=a.points,n=a.size,o=n[0],l=n[1],s=1/0,u=1/0,v=-1/0,h=-1/0,c=0;c<i.length;){var f=i[c++],g=i[c++];s=Math.min(f,s),v=Math.max(f,v),u=Math.min(g,u),h=Math.max(g,h)}e=this._rect=new gt(s-o/2,u-l/2,v-s+o,h-u+l)}return e},t})(De),es=(function(){function r(){this.group=new re}return r.prototype.updateData=function(t,e){this._clear();var a=this._create();a.setShape({points:t.getLayout("points")}),this._setCommon(a,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(a){if(a.startIndex!=null){var i=(a.endIndex-a.startIndex)*2,n=a.startIndex*4*2;e=new Float32Array(e.buffer,n,i)}a.setShape("points",e),a.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,a){var i=this._newAdded[0],n=e.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var l=o.length,s=new Float32Array(l+n.length);s.set(o),s.set(n,l),i.endIndex=t.end,i.setShape({points:s})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:n}),this._setCommon(u,e,a)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new Ql({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,a){var i=e.hostModel;a=a||{};var n=e.getVisual("symbolSize");t.setShape("size",n instanceof Array?n:[n,n]),t.softClipShape=a.clipShape||null,t.symbolProxy=xe(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<bn;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),s=l&&l.fill;s&&t.setColor(s);var u=se(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(v){u.dataIndex=null;var h=t.hoverDataIdx;h>=0&&(u.dataIndex=h+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),ts=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var n=e.getData(),o=this._updateSymbolDraw(n,e);o.updateData(n,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,a,i){var n=e.getData(),o=this._updateSymbolDraw(n,e);o.incrementalPrepareUpdate(n),this._finished=!1},t.prototype.incrementalRender=function(e,a,i){this._symbolDraw.incrementalUpdate(e,a.getData(),{clipShape:this._getClipShape(a)}),this._finished=e.end===a.getData().count()},t.prototype.updateTransform=function(e,a,i){var n=e.getData();if(this.group.dirty(),!this._finished||n.count()>1e4)return{update:!0};var o=Lt("").reset(e,a,i);o.progress&&o.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout(n)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var a=e.coordinateSystem;return a&&a.getArea&&a.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,a){var i=this._symbolDraw,n=a.pipelineContext,o=n.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new es:new ta,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,a){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t})(ae);function xh(r){Jt(lo),r.registerSeriesModel(Kl),r.registerChartView(ts),r.registerLayout(Lt("scatter"))}function as(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),a=[],i=t.coordinateSystem;if(i){var n=i.getIndicatorAxes();k(n,function(o,l){e.each(e.mapDimension(n[l].dim),function(s,u){a[u]=a[u]||[];var v=i.dataToPoint(s,l);a[u][l]=ti(v)?v:ai(i)})}),e.each(function(o){var l=so(a[o],function(s){return ti(s)})||ai(i);a[o].push(l.slice()),e.setItemLayout(o,a[o])})}})}function ti(r){return!isNaN(r[0])&&!isNaN(r[1])}function ai(r){return[r.cx,r.cy]}function rs(r){var t=r.polar;if(t){Z(t)||(t=[t]);var e=[];k(t,function(a,i){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),r.radar=r.radar||[],Z(r.radar)||(r.radar=[r.radar]),r.radar.push(a)):e.push(a)}),r.polar=e}k(r.series,function(a){a&&a.type==="radar"&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var is=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var n=e.coordinateSystem,o=this.group,l=e.getData(),s=this._data;function u(c,f){var g=c.getItemVisual(f,"symbol")||"circle";if(g!=="none"){var p=mt(c.getItemVisual(f,"symbolSize")),y=xe(g,-1,-1,2,2),S=c.getItemVisual(f,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:p[0]/2,scaleY:p[1]/2,rotation:S*Math.PI/180||0}),y}}function v(c,f,g,p,y,S){g.removeAll();for(var d=0;d<f.length-1;d++){var m=u(p,y);m&&(m.__dimIdx=d,c[d]?(m.setPosition(c[d]),Ui[S?"initProps":"updateProps"](m,{x:f[d][0],y:f[d][1]},e,y)):m.setPosition(f[d]),g.add(m))}}function h(c){return te(c,function(f){return[n.cx,n.cy]})}l.diff(s).add(function(c){var f=l.getItemLayout(c);if(f){var g=new er,p=new Kt,y={shape:{points:f}};g.shape.points=h(f),p.shape.points=h(f),ee(g,y,e,c),ee(p,y,e,c);var S=new re,d=new re;S.add(p),S.add(g),S.add(d),v(p.shape.points,f,d,l,c,!0),l.setItemGraphicEl(c,S)}}).update(function(c,f){var g=s.getItemGraphicEl(f),p=g.childAt(0),y=g.childAt(1),S=g.childAt(2),d={shape:{points:l.getItemLayout(c)}};d.shape.points&&(v(p.shape.points,d.shape.points,S,l,c,!1),Ie(y),Ie(p),j(p,d,e),j(y,d,e),l.setItemGraphicEl(c,g))}).remove(function(c){o.remove(s.getItemGraphicEl(c))}).execute(),l.eachItemGraphicEl(function(c,f){var g=l.getItemModel(f),p=c.childAt(0),y=c.childAt(1),S=c.childAt(2),d=l.getItemVisual(f,"style"),m=d.fill;o.add(c),p.useStyle(tt(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:m})),ce(p,g,"lineStyle"),ce(y,g,"areaStyle");var b=g.getModel("areaStyle"),D=b.isEmpty()&&b.parentModel.isEmpty();y.ignore=D,k(["emphasis","select","blur"],function(A){var L=g.getModel([A,"areaStyle"]),_=L.isEmpty()&&L.parentModel.isEmpty();y.ensureState(A).ignore=_&&D}),y.useStyle(tt(b.getAreaStyle(),{fill:m,opacity:.7,decal:d.decal}));var w=g.getModel("emphasis"),I=w.getModel("itemStyle").getItemStyle();S.eachChild(function(A){if(A instanceof jt){var L=A.style;A.useStyle(Y({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},d))}else A.useStyle(d),A.setColor(m),A.style.strokeNoScale=!0;var _=A.ensureState("emphasis");_.style=uo(I);var x=l.getStore().get(l.getDimensionIndex(A.__dimIdx),f);(x==null||isNaN(x))&&(x=""),me(A,he(g),{labelFetcher:l.hostModel,labelDataIndex:f,labelDimIndex:A.__dimIdx,defaultText:x,inheritColor:m,defaultOpacity:d.opacity})}),ne(c,w.get("focus"),w.get("blurScope"),w.get("disabled"))}),this._data=l},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t})(ae),ns=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ct(ve(this.getData,this),ve(this.getRawData,this))},t.prototype.getInitialData=function(e,a){return rt(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,a,i){var n=this.getData(),o=this.coordinateSystem,l=o.getIndicatorAxes(),s=this.getData().getName(e),u=s===""?this.name:s,v=vo(this,e);return Le("section",{header:u,sortBlocks:!0,blocks:te(l,function(h){var c=n.get(n.mapDimension(h.dim),e);return Le("nameValue",{markerType:"subItem",markerColor:v,name:h.name,value:c,sortParam:c})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var a=this.getData(),i=this.coordinateSystem,n=a.getValues(te(i.dimensions,function(u){return a.mapDimension(u)}),e),o=0,l=n.length;o<l;o++)if(!isNaN(n[o])){var s=i.getIndicatorAxes();return i.coordToPoint(s[o].dataToCoord(n[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t})(oe);function _h(r){Jt(ho),r.registerChartView(is),r.registerSeriesModel(ns),r.registerLayout(as),r.registerProcessor(Tt("radar")),r.registerPreprocessor(rs)}var os=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i,n){if(!(n&&n.type==="mapToggleSelect"&&n.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&n&&n.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),n&&n.type==="geoRoam"&&n.componentType==="series"&&n.seriesId===e.id){var l=this._mapDraw;l&&o.add(l.group)}else if(e.needsDrawMap){var l=this._mapDraw||new co(i);o.add(l.group),l.draw(e,a,i,this,n),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&a.getComponent("legend")&&this._renderSymbols(e,a,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,a,i){var n=e.originalData,o=this.group;n.each(n.mapDimension("value"),function(l,s){if(!isNaN(l)){var u=n.getItemLayout(s);if(!(!u||!u.point)){var v=u.point,h=u.offset,c=new fo({style:{fill:e.getData().getVisual("style").fill},shape:{cx:v[0]+h*9,cy:v[1],r:3},silent:!0,z2:8+(h?0:It+1)});if(!h){var f=e.mainSeries.getData(),g=n.getName(s),p=f.indexOfName(g),y=n.getItemModel(s),S=y.getModel("label"),d=f.getItemGraphicEl(p);me(c,he(y),{labelFetcher:{getFormattedLabel:function(m,b){return e.getFormattedLabel(p,b)}},defaultText:g}),c.disableLabelAnimation=!0,S.get("position")||c.setTextConfig({position:"bottom"}),d.onHoverStateChange=function(m){Ht(c,m)}}o.add(c)}}})},t.type="map",t})(ae),ls=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(a){if(a!=null){var i=this.getData().getName(a),n=this.coordinateSystem,o=n.getRegion(i);return o&&n.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var a=rt(this,{coordDimensions:["value"],encodeDefaulter:ge(Ja,this)}),i=Ne(),n=[],o=0,l=a.count();o<l;o++){var s=a.getName(o);i.set(s,o)}var u=go.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return k(u.regions,function(v){var h=v.name,c=i.get(h),f=v.properties&&v.properties.echartsStyle,g;c==null?(g={name:h},n.push(g)):g=a.getRawDataItem(c),f&&po(g,f)}),a.appendData(n),a},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var a=this.getData();return a.get(a.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var a=this.getData();return a.getItemModel(a.indexOfName(e))},t.prototype.formatTooltip=function(e,a,i){for(var n=this.getData(),o=this.getRawValue(e),l=n.getName(e),s=this.seriesGroup,u=[],v=0;v<s.length;v++){var h=s[v].originalData.indexOfName(l),c=n.mapDimension("value");isNaN(s[v].originalData.get(c,h))||u.push(s[v].name)}return Le("section",{header:u.join(", "),noHeader:!u.length,blocks:[Le("nameValue",{name:l,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var a=e.icon||"roundRect",i=xe(a,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",a.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t})(oe);function ss(r,t){var e={};return k(r,function(a){a.each(a.mapDimension("value"),function(i,n){var o="ec-"+a.getName(n);e[o]=e[o]||[],isNaN(i)||e[o].push(i)})}),r[0].map(r[0].mapDimension("value"),function(a,i){for(var n="ec-"+r[0].getName(i),o=0,l=1/0,s=-1/0,u=e[n].length,v=0;v<u;v++)l=Math.min(l,e[n][v]),s=Math.max(s,e[n][v]),o+=e[n][v];var h;return t==="min"?h=l:t==="max"?h=s:t==="average"?h=o/u:h=o,u===0?NaN:h})}function us(r){var t={};r.eachSeriesByType("map",function(e){var a=e.getHostGeoModel(),i=a?"o"+a.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),k(t,function(e,a){for(var i=ss(te(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),n=0;n<e.length;n++)e[n].originalData=e[n].getData();for(var n=0;n<e.length;n++)e[n].seriesGroup=e,e[n].needsDrawMap=n===0&&!e[n].getHostGeoModel(),e[n].setData(i.cloneShallow()),e[n].mainSeries=e[0]})}function vs(r){var t={};r.eachSeriesByType("map",function(e){var a=e.getMapType();if(!(e.getHostGeoModel()||t[a])){var i={};k(e.seriesGroup,function(o){var l=o.coordinateSystem,s=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&s.each(s.mapDimension("value"),function(u,v){var h=s.getName(v),c=l.getRegion(h);if(!(!c||isNaN(u))){var f=i[h]||0,g=l.dataToPoint(c.getCenter());i[h]=f+1,s.setItemLayout(v,{point:g,offset:f})}})});var n=e.getData();n.each(function(o){var l=n.getName(o),s=n.getItemLayout(o)||{};s.showLabel=!i[l],n.setItemLayout(o,s)}),t[a]=!0}})}function Lh(r){Jt(yo),r.registerChartView(os),r.registerSeriesModel(ls),r.registerLayout(vs),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,us),Wi("map",r.registerAction)}function hs(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],a,i;a=e.pop();)if(i=a.children,a.isExpand&&i.length)for(var n=i.length,o=n-1;o>=0;o--){var l=i[o];l.hierNode={defaultAncestor:null,ancestor:l,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(l)}}function cs(r,t){var e=r.isExpand?r.children:[],a=r.parentNode.children,i=r.hierNode.i?a[r.hierNode.i-1]:null;if(e.length){ps(r);var n=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+t(r,i),r.hierNode.modifier=r.hierNode.prelim-n):r.hierNode.prelim=n}else i&&(r.hierNode.prelim=i.hierNode.prelim+t(r,i));r.parentNode.hierNode.defaultAncestor=ds(r,i,r.parentNode.hierNode.defaultAncestor||a[0],t)}function fs(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function ri(r){return arguments.length?r:Ss}function st(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function gs(r,t){return at(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ps(r){for(var t=r.children,e=t.length,a=0,i=0;--e>=0;){var n=t[e];n.hierNode.prelim+=a,n.hierNode.modifier+=a,i+=n.hierNode.change,a+=n.hierNode.shift+i}}function ds(r,t,e,a){if(t){for(var i=r,n=r,o=n.parentNode.children[0],l=t,s=i.hierNode.modifier,u=n.hierNode.modifier,v=o.hierNode.modifier,h=l.hierNode.modifier;l=ya(l),n=ma(n),l&&n;){i=ya(i),o=ma(o),i.hierNode.ancestor=r;var c=l.hierNode.prelim+h-n.hierNode.prelim-u+a(l,n);c>0&&(ms(ys(l,r,e),r,c),u+=c,s+=c),h+=l.hierNode.modifier,u+=n.hierNode.modifier,s+=i.hierNode.modifier,v+=o.hierNode.modifier}l&&!ya(i)&&(i.hierNode.thread=l,i.hierNode.modifier+=h-s),n&&!ma(o)&&(o.hierNode.thread=n,o.hierNode.modifier+=u-v,e=r)}return e}function ya(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function ma(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function ys(r,t,e){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:e}function ms(r,t,e){var a=e/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=a,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,r.hierNode.change+=a}function Ss(r,t){return r.parentNode===t.parentNode?1:2}var bs=(function(){function r(){this.parentPoint=[],this.childPoints=[]}return r})(),Ds=(function(r){z(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new bs},t.prototype.buildPath=function(e,a){var i=a.childPoints,n=i.length,o=a.parentPoint,l=i[0],s=i[n-1];if(n===1){e.moveTo(o[0],o[1]),e.lineTo(l[0],l[1]);return}var u=a.orient,v=u==="TB"||u==="BT"?0:1,h=1-v,c=B(a.forkPosition,1),f=[];f[v]=o[v],f[h]=o[h]+(s[h]-o[h])*c,e.moveTo(o[0],o[1]),e.lineTo(f[0],f[1]),e.moveTo(l[0],l[1]),f[v]=l[v],e.lineTo(f[0],f[1]),f[v]=s[v],e.lineTo(f[0],f[1]),e.lineTo(s[0],s[1]);for(var g=1;g<n-1;g++){var p=i[g];e.moveTo(p[0],p[1]),f[v]=p[v],e.lineTo(f[0],f[1])}},t})(De),ws=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new re,e}return t.prototype.init=function(e,a){this._controller=new tr(a.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,a,i){var n=e.getData(),o=e.layoutInfo,l=this._mainGroup,s=e.get("layout");s==="radial"?(l.x=o.x+o.width/2,l.y=o.y+o.height/2):(l.x=o.x,l.y=o.y),this._updateViewCoordSys(e,i),this._updateController(e,a,i);var u=this._data;n.diff(u).add(function(v){ii(n,v)&&ni(n,v,null,l,e)}).update(function(v,h){var c=u.getItemGraphicEl(h);if(!ii(n,v)){c&&li(u,h,c,l,e);return}ni(n,v,c,l,e)}).remove(function(v){var h=u.getItemGraphicEl(v);h&&li(u,v,h,l,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&n.eachItemGraphicEl(function(v,h){v.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=n},t.prototype._updateViewCoordSys=function(e,a){var i=e.getData(),n=[];i.each(function(h){var c=i.getItemLayout(h);c&&!isNaN(c.x)&&!isNaN(c.y)&&n.push([+c.x,+c.y])});var o=[],l=[];Xi(n,o,l);var s=this._min,u=this._max;l[0]-o[0]===0&&(o[0]=s?s[0]:o[0]-1,l[0]=u?u[0]:l[0]+1),l[1]-o[1]===0&&(o[1]=s?s[1]:o[1]-1,l[1]=u?u[1]:l[1]+1);var v=e.coordinateSystem=new ar;v.zoomLimit=e.get("scaleLimit"),v.setBoundingRect(o[0],o[1],l[0]-o[0],l[1]-o[1]),v.setCenter(e.get("center"),a),v.setZoom(e.get("zoom")),this.group.attr({x:v.x,y:v.y,scaleX:v.scaleX,scaleY:v.scaleY}),this._min=o,this._max=l},t.prototype._updateController=function(e,a,i){var n=this,o=this._controller,l=this._controllerHost,s=this.group;o.setPointerChecker(function(u,v,h){var c=s.getBoundingRect();return c.applyTransform(s.transform),c.contain(v,h)&&!$i(u,i,e)}),o.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){Yi(l,u.dx,u.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Zi(l,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),n._updateNodeAndLinkScale(e),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var a=e.getData(),i=this._getNodeGlobalScale(e);a.eachItemGraphicEl(function(n,o){n.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var a=e.coordinateSystem;if(a.type!=="view")return 1;var i=this._nodeScaleRatio,n=a.scaleX||1,o=a.getZoom(),l=(o-1)*i+1;return l/n},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t})(ae);function ii(r,t){var e=r.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function ni(r,t,e,a,i){var n=!e,o=r.tree.getNodeByDataIndex(t),l=o.getModel(),s=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?s:"#fff",v=r.tree.root,h=o.parentNode===v?o:o.parentNode||o,c=r.getItemGraphicEl(h.dataIndex),f=h.getLayout(),g=c?{x:c.__oldX,y:c.__oldY,rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:f,p=o.getLayout();n?(e=new _t(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.x=g.x,e.y=g.y):e.updateData(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=p.rawX,e.__radialRawY=p.rawY,a.add(e),r.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,j(e,{x:p.x,y:p.y},i);var y=e.getSymbolPath();if(i.get("layout")==="radial"){var S=v.children[0],d=S.getLayout(),m=S.children.length,b=void 0,D=void 0;if(p.x===d.x&&o.isExpand===!0&&S.children.length){var w={x:(S.children[0].getLayout().x+S.children[m-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[m-1].getLayout().y)/2};b=Math.atan2(w.y-d.y,w.x-d.x),b<0&&(b=Math.PI*2+b),D=w.x<d.x,D&&(b=b-Math.PI)}else b=Math.atan2(p.y-d.y,p.x-d.x),b<0&&(b=Math.PI*2+b),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(D=p.x<d.x,D&&(b=b-Math.PI)):(D=p.x>d.x,D||(b=b-Math.PI));var I=D?"left":"right",A=l.getModel("label"),L=A.get("rotate"),_=L*(Math.PI/180),x=y.getTextContent();x&&(y.setTextConfig({position:A.get("position")||I,rotation:L==null?-b:_,origin:"center"}),x.setStyle("verticalAlign","middle"))}var T=l.get(["emphasis","focus"]),C=T==="relative"?qi(o.getAncestorsIndices(),o.getDescendantIndices()):T==="ancestor"?o.getAncestorsIndices():T==="descendant"?o.getDescendantIndices():null;C&&(se(e).focus=C),Is(i,o,v,e,g,f,p,a),e.__edge&&(e.onHoverStateChange=function(E){if(E!=="blur"){var N=o.parentNode&&r.getItemGraphicEl(o.parentNode.dataIndex);N&&N.hoverState===mo||Ht(e.__edge,E)}})}function Is(r,t,e,a,i,n,o,l){var s=t.getModel(),u=r.get("edgeShape"),v=r.get("layout"),h=r.getOrient(),c=r.get(["lineStyle","curveness"]),f=r.get("edgeForkPosition"),g=s.getModel("lineStyle").getLineStyle(),p=a.__edge;if(u==="curve")t.parentNode&&t.parentNode!==e&&(p||(p=a.__edge=new Gi({shape:Xa(v,h,c,i,i)})),j(p,{shape:Xa(v,h,c,n,o)},r));else if(u==="polyline"&&v==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var y=t.children,S=[],d=0;d<y.length;d++){var m=y[d].getLayout();S.push([m.x,m.y])}p||(p=a.__edge=new Ds({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:f}})),j(p,{shape:{parentPoint:[o.x,o.y],childPoints:S}},r)}p&&!(u==="polyline"&&!t.isExpand)&&(p.useStyle(tt({strokeNoScale:!0,fill:null},g)),ce(p,s,"lineStyle"),Oa(p),l.add(p))}function oi(r,t,e,a,i){var n=t.tree.root,o=Dn(n,r),l=o.source,s=o.sourceLayout,u=t.getItemGraphicEl(r.dataIndex);if(u){var v=t.getItemGraphicEl(l.dataIndex),h=v.__edge,c=u.__edge||(l.isExpand===!1||l.children.length===1?h:void 0),f=a.get("edgeShape"),g=a.get("layout"),p=a.get("orient"),y=a.get(["lineStyle","curveness"]);c&&(f==="curve"?ct(c,{shape:Xa(g,p,y,s,s),style:{opacity:0}},a,{cb:function(){e.remove(c)},removeOpt:i}):f==="polyline"&&a.get("layout")==="orthogonal"&&ct(c,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},a,{cb:function(){e.remove(c)},removeOpt:i}))}}function Dn(r,t){for(var e=t.parentNode===r?t:t.parentNode||t,a;a=e.getLayout(),a==null;)e=e.parentNode===r?e:e.parentNode||e;return{source:e,sourceLayout:a}}function li(r,t,e,a,i){var n=r.tree.getNodeByDataIndex(t),o=r.tree.root,l=Dn(o,n).sourceLayout,s={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};ct(e,{x:l.x+1,y:l.y+1},i,{cb:function(){a.remove(e),r.setItemGraphicEl(t,null)},removeOpt:s}),e.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:s}),n.children.forEach(function(u){oi(u,r,a,i,s)}),oi(n,r,a,i,s)}function Xa(r,t,e,a,i){var n,o,l,s,u,v,h,c;if(r==="radial"){u=a.rawX,h=a.rawY,v=i.rawX,c=i.rawY;var f=st(u,h),g=st(u,h+(c-h)*e),p=st(v,c+(h-c)*e),y=st(v,c);return{x1:f.x||0,y1:f.y||0,x2:y.x||0,y2:y.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:p.x||0,cpy2:p.y||0}}else u=a.x,h=a.y,v=i.x,c=i.y,(t==="LR"||t==="RL")&&(n=u+(v-u)*e,o=h,l=v+(u-v)*e,s=c),(t==="TB"||t==="BT")&&(n=u,o=h+(c-h)*e,l=v,s=c+(h-c)*e);return{x1:u,y1:h,x2:v,y2:c,cpx1:n,cpy1:o,cpx2:l,cpy2:s}}var be=Dt();function wn(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,In(t,e,r),k(e,function(a){k(t.TRANSFERABLE_METHODS,function(i){a.wrapMethod(i,ge(As,r))})}),t.wrapMethod("cloneShallow",ge(_s,r)),k(t.CHANGABLE_METHODS,function(a){t.wrapMethod(a,ge(xs,r))}),So(e[t.dataType]===t)}function As(r,t){if(Cs(this)){var e=Y({},be(this).datas);e[this.dataType]=t,In(t,e,r)}else or(t,this.dataType,be(this).mainData,r);return t}function xs(r,t){return r.struct&&r.struct.update(),t}function _s(r,t){return k(be(t).datas,function(e,a){e!==t&&or(e.cloneShallow(),a,t,r)}),t}function Ls(r){var t=be(this).mainData;return r==null||t==null?t:be(t).datas[r]}function Ts(){var r=be(this).mainData;return r==null?[{data:r}]:te(bo(be(r).datas),function(t){return{type:t,data:be(r).datas[t]}})}function Cs(r){return be(r).mainData===r}function In(r,t,e){be(r).datas={},k(t,function(a,i){or(a,i,r,e)})}function or(r,t,e,a){be(e).datas[t]=r,be(r).mainData=e,r.dataType=t,a.struct&&(r[a.structAttr]=a.struct,a.struct[a.datasAttr[t]]=r),r.getLinkedData=Ls,r.getLinkedDataAll=Ts}var Ns=(function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,a){ye(t)&&(a=e,e=t,t=null),t=t||{},Pe(t)&&(t={order:t});var i=t.order||"preorder",n=this[t.attr||"children"],o;i==="preorder"&&(o=e.call(a,this));for(var l=0;!o&&l<n.length;l++)n[l].eachNode(t,e,a);i==="postorder"&&e.call(a,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var a=0;a<this.children.length;a++){var i=this.children[a];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,a=this.children,i=a.length;e<i;e++){var n=a[e].getNodeById(t);if(n)return n}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,a=this.children,i=a.length;e<i;e++){var n=a[e].contains(t);if(n)return n}},r.prototype.getAncestors=function(t){for(var e=[],a=t?this:this.parentNode;a;)e.push(a),a=a.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,a=e.data.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r})(),lr=(function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,a){this.root.eachNode(t,e,a)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,a=0,i=e.length;a<i;a++)e[a].dataIndex=-1;for(var a=0,i=t.count();a<i;a++)e[t.getRawIndex(a)].dataIndex=a},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,a){var i=new r(e),n=[],o=1;l(t);function l(v,h){var c=v.value;o=Math.max(o,Z(c)?c.length:1),n.push(v);var f=new Ns(Qt(v.name,""),i);h?Ps(f,h):i.root=f,i._nodes.push(f);var g=v.children;if(g)for(var p=0;p<g.length;p++)l(g[p],f)}i.root.updateDepthAndHeight(0);var s=xt(n,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Ye(s,e);return u.initData(n),a&&a(u),wn({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},r})();function Ps(r,t){var e=t.children;r.parentNode!==t&&(e.push(r),r.parentNode=t)}function pt(r,t,e){if(r&&At(t,r.type)>=0){var a=e.getData().tree.root,i=r.targetNode;if(Pe(i)&&(i=a.getNodeById(i)),i&&a.contains(i))return{node:i};var n=r.targetNodeId;if(n!=null&&(i=a.getNodeById(n)))return{node:i}}}function An(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function sr(r,t){var e=An(r);return At(e,t)>=0}function ra(r,t){for(var e=[];r;){var a=r.dataIndex;e.push({name:r.name,dataIndex:a,value:t.getRawValue(a)}),r=r.parentNode}return e.reverse(),e}var Es=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var a={name:e.name,children:e.data},i=e.leaves||{},n=new Ze(i,this,this.ecModel),o=lr.createTree(a,this,l);function l(h){h.wrapMethod("getItemModel",function(c,f){var g=o.getNodeByDataIndex(f);return g&&g.children.length&&g.isExpand||(c.parentModel=n),c})}var s=0;o.eachNode("preorder",function(h){h.depth>s&&(s=h.depth)});var u=e.expandAndCollapse,v=u&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return o.root.eachNode("preorder",function(h){var c=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=c&&c.collapsed!=null?!c.collapsed:h.depth<=v}),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,a,i){for(var n=this.getData().tree,o=n.root.children[0],l=n.getNodeByDataIndex(e),s=l.getValue(),u=l.name;l&&l!==o;)u=l.parentNode.name+"."+u,l=l.parentNode;return Le("nameValue",{name:u,value:s,noValue:isNaN(s)||s==null})},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return a.treeAncestors=ra(i,this),a.collapsed=!i.isExpand,a},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t})(oe);function Ms(r,t,e){for(var a=[r],i=[],n;n=a.pop();)if(i.push(n),n.isExpand){var o=n.children;if(o.length)for(var l=0;l<o.length;l++)a.push(o[l])}for(;n=i.pop();)t(n,e)}function nt(r,t){for(var e=[r],a;a=e.pop();)if(t(a),a.isExpand){var i=a.children;if(i.length)for(var n=i.length-1;n>=0;n--)e.push(i[n])}}function Rs(r,t){r.eachSeriesByType("tree",function(e){Vs(e,t)})}function Vs(r,t){var e=gs(r,t);r.layoutInfo=e;var a=r.get("layout"),i=0,n=0,o=null;a==="radial"?(i=2*Math.PI,n=Math.min(e.height,e.width)/2,o=ri(function(m,b){return(m.parentNode===b.parentNode?1:2)/m.depth})):(i=e.width,n=e.height,o=ri());var l=r.getData().tree.root,s=l.children[0];if(s){hs(l),Ms(s,cs,o),l.hierNode.modifier=-s.hierNode.prelim,nt(s,fs);var u=s,v=s,h=s;nt(s,function(m){var b=m.getLayout().x;b<u.getLayout().x&&(u=m),b>v.getLayout().x&&(v=m),m.depth>h.depth&&(h=m)});var c=u===v?1:o(u,v)/2,f=c-u.getLayout().x,g=0,p=0,y=0,S=0;if(a==="radial")g=i/(v.getLayout().x+c+f),p=n/(h.depth-1||1),nt(s,function(m){y=(m.getLayout().x+f)*g,S=(m.depth-1)*p;var b=st(y,S);m.setLayout({x:b.x,y:b.y,rawX:y,rawY:S},!0)});else{var d=r.getOrient();d==="RL"||d==="LR"?(p=n/(v.getLayout().x+c+f),g=i/(h.depth-1||1),nt(s,function(m){S=(m.getLayout().x+f)*p,y=d==="LR"?(m.depth-1)*g:i-(m.depth-1)*g,m.setLayout({x:y,y:S},!0)})):(d==="TB"||d==="BT")&&(g=i/(v.getLayout().x+c+f),p=n/(h.depth-1||1),nt(s,function(m){y=(m.getLayout().x+f)*g,S=d==="TB"?(m.depth-1)*p:n-(m.depth-1)*p,m.setLayout({x:y,y:S},!0)}))}}}function ks(r){r.eachSeriesByType("tree",function(t){var e=t.getData(),a=e.tree;a.eachNode(function(i){var n=i.getModel(),o=n.getModel("itemStyle").getItemStyle(),l=e.ensureUniqueItemVisual(i.dataIndex,"style");Y(l,o)})})}function Os(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(a){var i=t.dataIndex,n=a.getData().tree,o=n.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,a){e.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var n=i.coordinateSystem,o=ji(n,t,void 0,a);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}function Th(r){r.registerChartView(ws),r.registerSeriesModel(Es),r.registerLayout(Rs),r.registerVisual(ks),Os(r)}var si=["treemapZoomToNode","treemapRender","treemapMove"];function Gs(r){for(var t=0;t<si.length;t++)r.registerAction({type:si[t],update:"updateView"},Ga);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,a){a.eachComponent({mainType:"series",subType:"treemap",query:e},i);function i(n,o){var l=["treemapZoomToNode","treemapRootToNode"],s=pt(e,l,n);if(s){var u=n.getViewRoot();u&&(e.direction=sr(u,s.node)?"rollUp":"drillDown"),n.resetViewRoot(s.node)}}})}function xn(r){var t=r.getData(),e=t.tree,a={};e.eachNode(function(i){for(var n=i;n&&n.depth>1;)n=n.parentNode;var o=Do(r.ecModel,n.name||n.dataIndex+"",a);i.setVisual("decal",o)})}var zs=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,a){var i={name:e.name,children:e.data};_n(i);var n=e.levels||[],o=this.designatedVisualItemStyle={},l=new Ze({itemStyle:o},this,a);n=e.levels=Bs(n,a);var s=te(n||[],function(h){return new Ze(h,l,a)},this),u=lr.createTree(i,this,v);function v(h){h.wrapMethod("getItemModel",function(c,f){var g=u.getNodeByDataIndex(f),p=g?s[g.depth]:null;return c.parentModel=p||l,c})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,a,i){var n=this.getData(),o=this.getRawValue(e),l=n.getName(e);return Le("nameValue",{name:l,value:o})},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return a.treeAncestors=ra(i,this),a.treePathInfo=a.treeAncestors,a},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Y(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var a=this._idIndexMap;a||(a=this._idIndexMap=Ne(),this._idIndexMapCount=0);var i=a.get(e);return i==null&&a.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var a=this.getRawData().tree.root;(!e||e!==a&&!a.contains(e))&&(this._viewRoot=a)},t.prototype.enableAriaDecal=function(){xn(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t})(oe);function _n(r){var t=0;k(r.children,function(a){_n(a);var i=a.value;Z(i)&&(i=i[0]),t+=i});var e=r.value;Z(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Z(r.value)?r.value[0]=e:r.value=e}function Bs(r,t){var e=wr(t.get("color")),a=wr(t.get(["aria","decal","decals"]));if(e){r=r||[];var i,n;k(r,function(l){var s=new Ze(l),u=s.get("color"),v=s.get("decal");(s.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(s.get(["itemStyle","decal"])||v&&v!=="none")&&(n=!0)});var o=r[0]||(r[0]={});return i||(o.color=e.slice()),!n&&a&&(o.decal=a.slice()),r}}var Hs=8,ui=8,Sa=5,Fs=(function(){function r(t){this.group=new re,t.add(this.group)}return r.prototype.render=function(t,e,a,i){var n=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!n.get("show")||!a)){var l=n.getModel("itemStyle"),s=n.getModel("emphasis"),u=l.getModel("textStyle"),v=s.getModel(["itemStyle","textStyle"]),h={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,h,u),this._renderContent(t,h,l,s,u,v,i),wo(o,h.pos,h.box)}},r.prototype._prepare=function(t,e,a){for(var i=t;i;i=i.parentNode){var n=Qt(i.getModel().get("name"),""),o=a.getTextRect(n),l=Math.max(o.width+Hs*2,e.emptyItemWidth);e.totalWidth+=l+ui,e.renderList.push({node:i,text:n,width:l})}},r.prototype._renderContent=function(t,e,a,i,n,o,l){for(var s=0,u=e.emptyItemWidth,v=t.get(["breadcrumb","height"]),h=Io(e.pos,e.box),c=e.totalWidth,f=e.renderList,g=i.getModel("itemStyle").getItemStyle(),p=f.length-1;p>=0;p--){var y=f[p],S=y.node,d=y.width,m=y.text;c>h.width&&(c-=d-u,d=u,m=null);var b=new er({shape:{points:Ws(s,0,d,v,p===f.length-1,p===0)},style:tt(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new Ce({style:Ue(n,{text:m})}),textConfig:{position:"inside"},z2:It*1e4,onclick:ge(l,S)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=Ue(o,{text:m}),b.ensureState("emphasis").style=g,ne(b,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(b),Us(b,t,S),s+=d+ui}},r.prototype.remove=function(){this.group.removeAll()},r})();function Ws(r,t,e,a,i,n){var o=[[i?r:r-Sa,t],[r+e,t],[r+e,t+a],[i?r:r-Sa,t+a]];return!n&&o.splice(2,0,[r+e+Sa,t+a/2]),!i&&o.push([r,t+a/2]),o}function Us(r,t,e){se(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&ra(e,t)}}var Xs=(function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,a,i,n){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:a,delay:i,easing:n}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,a=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,n=this._storage.length;i<n;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:a,aborted:a})}return this},r})();function $s(){return new Xs}var $a=re,vi=_e,hi=3,ci="label",fi="upperLabel",Ys=It*10,Zs=It*2,qs=It*3,He=_o([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),gi=function(r){var t=He(r);return t.stroke=t.fill=t.lineWidth=null,t},Ut=Dt(),js=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=ot(),e}return t.prototype.render=function(e,a,i,n){var o=a.findComponents({mainType:"series",subType:"treemap",query:n});if(!(At(o,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=a;var l=["treemapZoomToNode","treemapRootToNode"],s=pt(n,l,e),u=n&&n.type,v=e.layoutInfo,h=!this._oldTree,c=this._storage,f=u==="treemapRootToNode"&&s&&c?{rootNodeGroup:c.nodeGroup[s.node.getRawIndex()],direction:n.direction}:null,g=this._giveContainerGroup(v),p=e.get("animation"),y=this._doRender(g,e,f);p&&!h&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(g,y,e,f):y.renderFinally(),this._resetController(i),this._renderBreadcrumb(e,i,s)}},t.prototype._giveContainerGroup=function(e){var a=this._containerGroup;return a||(a=this._containerGroup=new $a,this._initEvents(a),this.group.add(a)),a.x=e.x,a.y=e.y,a},t.prototype._doRender=function(e,a,i){var n=a.getData().tree,o=this._oldTree,l=ot(),s=ot(),u=this._storage,v=[];function h(d,m,b,D){return Ks(a,s,u,i,l,v,d,m,b,D)}p(n.root?[n.root]:[],o&&o.root?[o.root]:[],e,n===o||!o,0);var c=y(u);if(this._oldTree=n,this._storage=s,this._controllerHost){var f=this.seriesModel.layoutInfo,g=n.root.getLayout();g.width===f.width&&g.height===f.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:l,willDeleteEls:c,renderFinally:S};function p(d,m,b,D,w){D?(m=d,k(d,function(L,_){!L.isRemoved()&&A(_,_)})):new rr(m,d,I,I).add(A).update(A).remove(ge(A,null)).execute();function I(L){return L.getId()}function A(L,_){var x=L!=null?d[L]:null,T=_!=null?m[_]:null,C=h(x,T,b,w);C&&p(x&&x.viewChildren||[],T&&T.viewChildren||[],C,D,w+1)}}function y(d){var m=ot();return d&&k(d,function(b,D){var w=m[D];k(b,function(I){I&&(w.push(I),Ut(I).willDelete=!0)})}),m}function S(){k(c,function(d){k(d,function(m){m.parent&&m.parent.remove(m)})}),k(v,function(d){d.invisible=!0,d.dirty()})}},t.prototype._doAnimation=function(e,a,i,n){var o=i.get("animationDurationUpdate"),l=i.get("animationEasing"),s=(ye(o)?0:o)||0,u=(ye(l)?null:l)||"cubicOut",v=$s();k(a.willDeleteEls,function(h,c){k(h,function(f,g){if(!f.invisible){var p=f.parent,y,S=Ut(p);if(n&&n.direction==="drillDown")y=p===n.rootNodeGroup?{shape:{x:0,y:0,width:S.nodeWidth,height:S.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,m=0;S.willDelete||(d=S.nodeWidth/2,m=S.nodeHeight/2),y=c==="nodeGroup"?{x:d,y:m,style:{opacity:0}}:{shape:{x:d,y:m,width:0,height:0},style:{opacity:0}}}y&&v.add(f,y,s,0,u)}})}),k(this._storage,function(h,c){k(h,function(f,g){var p=a.lastsForAnimation[c][g],y={};p&&(f instanceof re?p.oldX!=null&&(y.x=f.x,y.y=f.y,f.x=p.oldX,f.y=p.oldY):(p.oldShape&&(y.shape=Y({},f.shape),f.setShape(p.oldShape)),p.fadein?(f.setStyle("opacity",0),y.style={opacity:1}):f.style.opacity!==1&&(y.style={opacity:1})),v.add(f,y,s,0,u))})},this),this._state="animating",v.finished(ve(function(){this._state="ready",a.renderFinally()},this)).start()},t.prototype._resetController=function(e){var a=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),a||(a=this._controller=new tr(e.getZr()),a.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),a.on("pan",ve(this._onPan,this)),a.on("zoom",ve(this._onZoom,this)));var n=new gt(0,0,e.getWidth(),e.getHeight());a.setPointerChecker(function(o,l,s){return n.contain(l,s)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>hi||Math.abs(e.dy)>hi)){var a=this.seriesModel.getData().tree.root;if(!a)return;var i=a.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var a=e.originX,i=e.originY,n=e.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var l=o.getLayout();if(!l)return;var s=new gt(l.x,l.y,l.width,l.height),u=null,v=this._controllerHost;u=v.zoomLimit;var h=v.zoom=v.zoom||1;if(h*=n,u){var c=u.min||0,f=u.max||1/0;h=Math.max(Math.min(f,h),c)}var g=h/v.zoom;v.zoom=h;var p=this.seriesModel.layoutInfo;a-=p.x,i-=p.y;var y=Ao();Ir(y,y,[-a,-i]),xo(y,y,[g,g]),Ir(y,y,[a,i]),s.applyTransform(y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var a=this;e.on("click",function(i){if(a._state==="ready"){var n=a.seriesModel.get("nodeClick",!0);if(n){var o=a.findTarget(i.offsetX,i.offsetY);if(o){var l=o.node;if(l.getLayout().isLeafRoot)a._rootToNode(o);else if(n==="zoomToNode")a._zoomToNode(o);else if(n==="link"){var s=l.hostTree.data.getItemModel(l.dataIndex),u=s.get("link",!0),v=s.get("target",!0)||"blank";u&&Ki(u,v)}}}}},this)},t.prototype._renderBreadcrumb=function(e,a,i){var n=this;i||(i=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(a.getWidth()/2,a.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Fs(this.group))).render(e,a,i.node,function(o){n._state!=="animating"&&(sr(e.getViewRoot(),o)?n._rootToNode({node:o}):n._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=ot(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,a){var i,n=this.seriesModel.getViewRoot();return n.eachNode({attr:"viewChildren",order:"preorder"},function(o){var l=this._storage.background[o.getRawIndex()];if(l){var s=l.transformCoordToLocal(e,a),u=l.shape;if(u.x<=s[0]&&s[0]<=u.x+u.width&&u.y<=s[1]&&s[1]<=u.y+u.height)i={node:o,offsetX:s[0],offsetY:s[1]};else return!1}},this),i},t.type="treemap",t})(ae);function ot(){return{nodeGroup:[],background:[],content:[]}}function Ks(r,t,e,a,i,n,o,l,s,u){if(!o)return;var v=o.getLayout(),h=r.getData(),c=o.getModel();if(h.setItemGraphicEl(o.dataIndex,null),!v||!v.isInView)return;var f=v.width,g=v.height,p=v.borderWidth,y=v.invisible,S=o.getRawIndex(),d=l&&l.getRawIndex(),m=o.viewChildren,b=v.upperHeight,D=m&&m.length,w=c.getModel("itemStyle"),I=c.getModel(["emphasis","itemStyle"]),A=c.getModel(["blur","itemStyle"]),L=c.getModel(["select","itemStyle"]),_=w.get("borderRadius")||0,x=U("nodeGroup",$a);if(!x)return;if(s.add(x),x.x=v.x||0,x.y=v.y||0,x.markRedraw(),Ut(x).nodeWidth=f,Ut(x).nodeHeight=g,v.isAboveViewRoot)return x;var T=U("background",vi,u,Zs);T&&G(x,T,D&&v.upperLabelHeight);var C=c.getModel("emphasis"),E=C.get("focus"),N=C.get("blurScope"),R=C.get("disabled"),M=E==="ancestor"?o.getAncestorsIndices():E==="descendant"?o.getDescendantIndices():E;if(D)Ar(x)&&Pt(x,!1),T&&(Pt(T,!R),h.setItemGraphicEl(o.dataIndex,T),xr(T,M,N));else{var P=U("content",vi,u,qs);P&&O(x,P),T.disableMorphing=!0,T&&Ar(T)&&Pt(T,!1),Pt(x,!R),h.setItemGraphicEl(o.dataIndex,x);var V=c.getShallow("cursor");V&&P.attr("cursor",V),xr(x,M,N)}return x;function G($,W,K){var q=se(W);if(q.dataIndex=o.dataIndex,q.seriesIndex=r.seriesIndex,W.setShape({x:0,y:0,width:f,height:g,r:_}),y)H(W);else{W.invisible=!1;var Q=o.getVisual("style"),ue=Q.stroke,pe=gi(w);pe.fill=ue;var J=He(I);J.fill=I.get("borderColor");var le=He(A);le.fill=A.get("borderColor");var fe=He(L);if(fe.fill=L.get("borderColor"),K){var Ee=f-2*p;X(W,ue,Q.opacity,{x:p,y:0,width:Ee,height:b})}else W.removeTextContent();W.setStyle(pe),W.ensureState("emphasis").style=J,W.ensureState("blur").style=le,W.ensureState("select").style=fe,Oa(W)}$.add(W)}function O($,W){var K=se(W);K.dataIndex=o.dataIndex,K.seriesIndex=r.seriesIndex;var q=Math.max(f-2*p,0),Q=Math.max(g-2*p,0);if(W.culling=!0,W.setShape({x:p,y:p,width:q,height:Q,r:_}),y)H(W);else{W.invisible=!1;var ue=o.getVisual("style"),pe=ue.fill,J=gi(w);J.fill=pe,J.decal=ue.decal;var le=He(I),fe=He(A),Ee=He(L);X(W,pe,ue.opacity,null),W.setStyle(J),W.ensureState("emphasis").style=le,W.ensureState("blur").style=fe,W.ensureState("select").style=Ee,Oa(W)}$.add(W)}function H($){!$.invisible&&n.push($)}function X($,W,K,q){var Q=c.getModel(q?fi:ci),ue=Qt(c.get("name"),null),pe=Q.getShallow("show");me($,he(c,q?fi:ci),{defaultText:pe?ue:null,inheritColor:W,defaultOpacity:K,labelFetcher:r,labelDataIndex:o.dataIndex});var J=$.getTextContent();if(J){var le=J.style,fe=Lo(le.padding||0);q&&($.setTextConfig({layoutRect:q}),J.disableLabelLayout=!0),J.beforeUpdate=function(){var Te=Math.max((q?q.width:$.shape.width)-fe[1]-fe[3],0),Nt=Math.max((q?q.height:$.shape.height)-fe[0]-fe[2],0);(le.width!==Te||le.height!==Nt)&&J.setStyle({width:Te,height:Nt})},le.truncateMinChar=2,le.lineOverflow="truncate",F(le,q,v);var Ee=J.getState("emphasis");F(Ee?Ee.style:null,q,v)}}function F($,W,K){var q=$?$.text:null;if(!W&&K.isLeafRoot&&q!=null){var Q=r.get("drillDownIcon",!0);$.text=Q?Q+" "+q:q}}function U($,W,K,q){var Q=d!=null&&e[$][d],ue=i[$];return Q?(e[$][d]=null,ie(ue,Q)):y||(Q=new W,Q instanceof To&&(Q.z2=Js(K,q)),we(ue,Q)),t[$][S]=Q}function ie($,W){var K=$[S]={};W instanceof $a?(K.oldX=W.x,K.oldY=W.y):K.oldShape=Y({},W.shape)}function we($,W){var K=$[S]={},q=o.parentNode,Q=W instanceof re;if(q&&(!a||a.direction==="drillDown")){var ue=0,pe=0,J=i.background[q.getRawIndex()];!a&&J&&J.oldShape&&(ue=J.oldShape.width,pe=J.oldShape.height),Q?(K.oldX=0,K.oldY=pe):K.oldShape={x:ue,y:pe,width:0,height:0}}K.fadein=!Q}}function Js(r,t){return r*Ys+t}var Qs="itemStyle",Ln=Dt();const eu={seriesType:"treemap",reset:function(r){var t=r.getData().tree,e=t.root;e.isRemoved()||Tn(e,{},r.getViewRoot().getAncestors(),r)}};function Tn(r,t,e,a){var i=r.getModel(),n=r.getLayout(),o=r.hostTree.data;if(!(!n||n.invisible||!n.isInView)){var l=i.getModel(Qs),s=tu(l,t,a),u=o.ensureUniqueItemVisual(r.dataIndex,"style"),v=l.get("borderColor"),h=l.get("borderColorSaturation"),c;h!=null&&(c=pi(s),v=au(h,c)),u.stroke=v;var f=r.viewChildren;if(!f||!f.length)c=pi(s),u.fill=c;else{var g=ru(r,i,n,l,s,f);k(f,function(p,y){if(p.depth>=e.length||p===e[p.depth]){var S=iu(i,s,p,y,g,a);Tn(p,S,e,a)}})}}}function tu(r,t,e){var a=Y({},t),i=e.designatedVisualItemStyle;return k(["color","colorAlpha","colorSaturation"],function(n){i[n]=t[n];var o=r.get(n);i[n]=null,o!=null&&(a[n]=o)}),a}function pi(r){var t=ba(r,"color");if(t){var e=ba(r,"colorAlpha"),a=ba(r,"colorSaturation");return a&&(t=Ji(t,null,null,a)),e&&(t=Co(t,e)),t}}function au(r,t){return t!=null?Ji(t,null,null,r):null}function ba(r,t){var e=r[t];if(e!=null&&e!=="none")return e}function ru(r,t,e,a,i,n){if(!(!n||!n.length)){var o=Da(t,"color")||i.color!=null&&i.color!=="none"&&(Da(t,"colorAlpha")||Da(t,"colorSaturation"));if(o){var l=t.get("visualMin"),s=t.get("visualMax"),u=e.dataExtent.slice();l!=null&&l<u[0]&&(u[0]=l),s!=null&&s>u[1]&&(u[1]=s);var v=t.get("colorMappingBy"),h={type:o.name,dataExtent:u,visual:o.range};h.type==="color"&&(v==="index"||v==="id")?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var c=new Qi(h);return Ln(c).drColorMappingBy=v,c}}}function Da(r,t){var e=r.get(t);return Z(e)&&e.length?{name:t,range:e}:null}function iu(r,t,e,a,i,n){var o=Y({},t);if(i){var l=i.type,s=l==="color"&&Ln(i).drColorMappingBy,u=s==="index"?a:s==="id"?n.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));o[l]=i.mapValueToVisual(u)}return o}var dt=Math.max,Xt=Math.min,di=za,ur=k,Cn=["itemStyle","borderWidth"],nu=["itemStyle","gapWidth"],ou=["upperLabel","show"],lu=["upperLabel","height"];const su={seriesType:"treemap",reset:function(r,t,e,a){var i=e.getWidth(),n=e.getHeight(),o=r.option,l=at(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),s=o.size||[],u=B(di(l.width,s[0]),i),v=B(di(l.height,s[1]),n),h=a&&a.type,c=["treemapZoomToNode","treemapRootToNode"],f=pt(a,c,r),g=h==="treemapRender"||h==="treemapMove"?a.rootRect:null,p=r.getViewRoot(),y=An(p);if(h!=="treemapMove"){var S=h==="treemapZoomToNode"?gu(r,f,p,u,v):g?[g.width,g.height]:[u,v],d=o.sort;d&&d!=="asc"&&d!=="desc"&&(d="desc");var m={squareRatio:o.squareRatio,sort:d,leafDepth:o.leafDepth};p.hostTree.clearLayouts();var b={x:0,y:0,width:S[0],height:S[1],area:S[0]*S[1]};p.setLayout(b),Nn(p,m,!1,0),b=p.getLayout(),ur(y,function(w,I){var A=(y[I+1]||p).getValue();w.setLayout(Y({dataExtent:[A,A],borderWidth:0,upperHeight:0},b))})}var D=r.getData().tree.root;D.setLayout(pu(l,g,f),!0),r.setLayoutInfo(l),Pn(D,new gt(-l.x,-l.y,i,n),y,p,0)}};function Nn(r,t,e,a){var i,n;if(!r.isRemoved()){var o=r.getLayout();i=o.width,n=o.height;var l=r.getModel(),s=l.get(Cn),u=l.get(nu)/2,v=En(l),h=Math.max(s,v),c=s-u,f=h-u;r.setLayout({borderWidth:s,upperHeight:h,upperLabelHeight:v},!0),i=dt(i-2*c,0),n=dt(n-c-f,0);var g=i*n,p=uu(r,l,g,t,e,a);if(p.length){var y={x:c,y:f,width:i,height:n},S=Xt(i,n),d=1/0,m=[];m.area=0;for(var b=0,D=p.length;b<D;){var w=p[b];m.push(w),m.area+=w.getLayout().area;var I=fu(m,S,t.squareRatio);I<=d?(b++,d=I):(m.area-=m.pop().getLayout().area,yi(m,S,y,u,!1),S=Xt(y.width,y.height),m.length=m.area=0,d=1/0)}if(m.length&&yi(m,S,y,u,!0),!e){var A=l.get("childrenVisibleMin");A!=null&&g<A&&(e=!0)}for(var b=0,D=p.length;b<D;b++)Nn(p[b],t,e,a+1)}}}function uu(r,t,e,a,i,n){var o=r.children||[],l=a.sort;l!=="asc"&&l!=="desc"&&(l=null);var s=a.leafDepth!=null&&a.leafDepth<=n;if(i&&!s)return r.viewChildren=[];o=ir(o,function(f){return!f.isRemoved()}),hu(o,l);var u=cu(t,o,l);if(u.sum===0)return r.viewChildren=[];if(u.sum=vu(t,e,u.sum,l,o),u.sum===0)return r.viewChildren=[];for(var v=0,h=o.length;v<h;v++){var c=o[v].getValue()/u.sum*e;o[v].setLayout({area:c})}return s&&(o.length&&r.setLayout({isLeafRoot:!0},!0),o.length=0),r.viewChildren=o,r.setLayout({dataExtent:u.dataExtent},!0),o}function vu(r,t,e,a,i){if(!a)return e;for(var n=r.get("visibleMin"),o=i.length,l=o,s=o-1;s>=0;s--){var u=i[a==="asc"?o-s-1:s].getValue();u/e*t<n&&(l=s,e-=u)}return a==="asc"?i.splice(0,o-l):i.splice(l,o-l),e}function hu(r,t){return t&&r.sort(function(e,a){var i=t==="asc"?e.getValue()-a.getValue():a.getValue()-e.getValue();return i===0?t==="asc"?e.dataIndex-a.dataIndex:a.dataIndex-e.dataIndex:i}),r}function cu(r,t,e){for(var a=0,i=0,n=t.length;i<n;i++)a+=t[i].getValue();var o=r.get("visualDimension"),l;return!t||!t.length?l=[NaN,NaN]:o==="value"&&e?(l=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&l.reverse()):(l=[1/0,-1/0],ur(t,function(s){var u=s.getValue(o);u<l[0]&&(l[0]=u),u>l[1]&&(l[1]=u)})),{sum:a,dataExtent:l}}function fu(r,t,e){for(var a=0,i=1/0,n=0,o=void 0,l=r.length;n<l;n++)o=r[n].getLayout().area,o&&(o<i&&(i=o),o>a&&(a=o));var s=r.area*r.area,u=t*t*e;return s?dt(u*a/s,s/(u*i)):1/0}function yi(r,t,e,a,i){var n=t===e.width?0:1,o=1-n,l=["x","y"],s=["width","height"],u=e[l[n]],v=t?r.area/t:0;(i||v>e[s[o]])&&(v=e[s[o]]);for(var h=0,c=r.length;h<c;h++){var f=r[h],g={},p=v?f.getLayout().area/v:0,y=g[s[o]]=dt(v-2*a,0),S=e[l[n]]+e[s[n]]-u,d=h===c-1||S<p?S:p,m=g[s[n]]=dt(d-2*a,0);g[l[o]]=e[l[o]]+Xt(a,y/2),g[l[n]]=u+Xt(a,m/2),u+=d,f.setLayout(g,!0)}e[l[o]]+=v,e[s[o]]-=v}function gu(r,t,e,a,i){var n=(t||{}).node,o=[a,i];if(!n||n===e)return o;for(var l,s=a*i,u=s*r.option.zoomToNodeRatio;l=n.parentNode;){for(var v=0,h=l.children,c=0,f=h.length;c<f;c++)v+=h[c].getValue();var g=n.getValue();if(g===0)return o;u*=v/g;var p=l.getModel(),y=p.get(Cn),S=Math.max(y,En(p));u+=4*y*y+(3*y+S)*Math.pow(u,.5),u>_r&&(u=_r),n=l}u<s&&(u=s);var d=Math.pow(u/s,.5);return[a*d,i*d]}function pu(r,t,e){if(t)return{x:t.x,y:t.y};var a={x:0,y:0};if(!e)return a;var i=e.node,n=i.getLayout();if(!n)return a;for(var o=[n.width/2,n.height/2],l=i;l;){var s=l.getLayout();o[0]+=s.x,o[1]+=s.y,l=l.parentNode}return{x:r.width/2-o[0],y:r.height/2-o[1]}}function Pn(r,t,e,a,i){var n=r.getLayout(),o=e[i],l=o&&o===r;if(!(o&&!l||i===e.length&&r!==a)){r.setLayout({isInView:!0,invisible:!l&&!t.intersect(n),isAboveViewRoot:l},!0);var s=new gt(t.x-n.x,t.y-n.y,t.width,t.height);ur(r.viewChildren||[],function(u){Pn(u,s,e,a,i+1)})}}function En(r){return r.get(ou)?r.get(lu):0}function Ch(r){r.registerSeriesModel(zs),r.registerChartView(js),r.registerVisual(eu),r.registerLayout(su),Gs(r)}function du(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(e){var a=e.getCategoriesData(),i=e.getGraph(),n=i.data,o=a.mapArray(a.getName);n.filterSelf(function(l){var s=n.getItemModel(l),u=s.getShallow("category");if(u!=null){Ae(u)&&(u=o[u]);for(var v=0;v<t.length;v++)if(!t[v].isSelected(u))return!1}return!0})})}function yu(r){var t={};r.eachSeriesByType("graph",function(e){var a=e.getCategoriesData(),i=e.getData(),n={};a.each(function(o){var l=a.getName(o);n["ec-"+l]=o;var s=a.getItemModel(o),u=s.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(l,t)),a.setItemVisual(o,"style",u);for(var v=["symbol","symbolSize","symbolKeepAspect"],h=0;h<v.length;h++){var c=s.getShallow(v[h],!0);c!=null&&a.setItemVisual(o,v[h],c)}}),a.count()&&i.each(function(o){var l=i.getItemModel(o),s=l.getShallow("category");if(s!=null){Pe(s)&&(s=n["ec-"+s]);var u=a.getItemVisual(s,"style"),v=i.ensureUniqueItemVisual(o,"style");Y(v,u);for(var h=["symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++)i.setItemVisual(o,h[c],a.getItemVisual(s,h[c]))}})})}function Ot(r){return r instanceof Array||(r=[r,r]),r}function mu(r){r.eachSeriesByType("graph",function(t){var e=t.getGraph(),a=t.getEdgeData(),i=Ot(t.get("edgeSymbol")),n=Ot(t.get("edgeSymbolSize"));a.setVisual("fromSymbol",i&&i[0]),a.setVisual("toSymbol",i&&i[1]),a.setVisual("fromSymbolSize",n&&n[0]),a.setVisual("toSymbolSize",n&&n[1]),a.setVisual("style",t.getModel("lineStyle").getLineStyle()),a.each(function(o){var l=a.getItemModel(o),s=e.getEdgeByIndex(o),u=Ot(l.getShallow("symbol",!0)),v=Ot(l.getShallow("symbolSize",!0)),h=l.getModel("lineStyle").getLineStyle(),c=a.ensureUniqueItemVisual(o,"style");switch(Y(c,h),c.stroke){case"source":{var f=s.node1.getVisual("style");c.stroke=f&&f.fill;break}case"target":{var f=s.node2.getVisual("style");c.stroke=f&&f.fill;break}}u[0]&&s.setVisual("fromSymbol",u[0]),u[1]&&s.setVisual("toSymbol",u[1]),v[0]&&s.setVisual("fromSymbolSize",v[0]),v[1]&&s.setVisual("toSymbolSize",v[1])})})}var Ya="-->",ia=function(r){return r.get("autoCurveness")||null},Mn=function(r,t){var e=ia(r),a=20,i=[];if(Ae(e))a=e;else if(Z(e)){r.__curvenessList=e;return}t>a&&(a=t);var n=a%2?a+2:a+3;i=[];for(var o=0;o<n;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));r.__curvenessList=i},yt=function(r,t,e){var a=[r.id,r.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,a,i].join(Ya)},Rn=function(r){var t=r.split(Ya);return[t[0],t[2],t[1]].join(Ya)},Su=function(r,t){var e=yt(r.node1,r.node2,t);return t.__edgeMap[e]},bu=function(r,t){var e=Za(yt(r.node1,r.node2,t),t),a=Za(yt(r.node2,r.node1,t),t);return e+a},Za=function(r,t){var e=t.__edgeMap;return e[r]?e[r].length:0};function Du(r){ia(r)&&(r.__curvenessList=[],r.__edgeMap={},Mn(r))}function wu(r,t,e,a){if(ia(e)){var i=yt(r,t,e),n=e.__edgeMap,o=n[Rn(i)];n[i]&&!o?n[i].isForward=!0:o&&n[i]&&(o.isForward=!0,n[i].isForward=!1),n[i]=n[i]||[],n[i].push(a)}}function vr(r,t,e,a){var i=ia(t),n=Z(i);if(!i)return null;var o=Su(r,t);if(!o)return null;for(var l=-1,s=0;s<o.length;s++)if(o[s]===e){l=s;break}var u=bu(r,t);Mn(t,u),r.lineStyle=r.lineStyle||{};var v=yt(r.node1,r.node2,t),h=t.__curvenessList,c=n||u%2?0:1;if(o.isForward)return h[c+l];var f=Rn(v),g=Za(f,t),p=h[l+g+c];return a?n?i&&i[0]===0?(g+c)%2?p:-p:((g%2?0:1)+c)%2?p:-p:(g+c)%2?p:-p:h[l+g+c]}function Vn(r){var t=r.coordinateSystem;if(!(t&&t.type!=="view")){var e=r.getGraph();e.eachNode(function(a){var i=a.getModel();a.setLayout([+i.get("x"),+i.get("y")])}),hr(e,r)}}function hr(r,t){r.eachEdge(function(e,a){var i=wt(e.getModel().get(["lineStyle","curveness"]),-vr(e,t,a,!0),0),n=ke(e.node1.getLayout()),o=ke(e.node2.getLayout()),l=[n,o];+i&&l.push([(n[0]+o[0])/2-(n[1]-o[1])*i,(n[1]+o[1])/2-(o[0]-n[0])*i]),e.setLayout(l)})}function Iu(r,t){r.eachSeriesByType("graph",function(e){var a=e.get("layout"),i=e.coordinateSystem;if(i&&i.type!=="view"){var n=e.getData(),o=[];k(i.dimensions,function(c){o=o.concat(n.mapDimensionsAll(c))});for(var l=0;l<n.count();l++){for(var s=[],u=!1,v=0;v<o.length;v++){var h=n.get(o[v],l);isNaN(h)||(u=!0),s.push(h)}u?n.setItemLayout(l,i.dataToPoint(s)):n.setItemLayout(l,[NaN,NaN])}hr(n.graph,e)}else(!a||a==="none")&&Vn(e)})}function ut(r){var t=r.coordinateSystem;if(t.type!=="view")return 1;var e=r.option.nodeScaleRatio,a=t.scaleX,i=t.getZoom(),n=(i-1)*e+1;return n/a}function vt(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var mi=Math.PI,wa=[];function cr(r,t,e,a){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var n=i.getBoundingRect(),o=r.getData(),l=o.graph,s=n.width/2+n.x,u=n.height/2+n.y,v=Math.min(n.width,n.height)/2,h=o.count();if(o.setLayout({cx:s,cy:u}),!!h){if(e){var c=i.pointToData(a),f=c[0],g=c[1],p=[f-s,g-u];bt(p,p),No(p,p,v),e.setLayout([s+p[0],u+p[1]],!0);var y=r.get(["circular","rotateLabel"]);kn(e,y,s,u)}Au[t](r,l,o,v,s,u,h),l.eachEdge(function(S,d){var m=wt(S.getModel().get(["lineStyle","curveness"]),vr(S,r,d),0),b=ke(S.node1.getLayout()),D=ke(S.node2.getLayout()),w,I=(b[0]+D[0])/2,A=(b[1]+D[1])/2;+m&&(m*=3,w=[s*m+I*(1-m),u*m+A*(1-m)]),S.setLayout([b,D,w])})}}}var Au={value:function(r,t,e,a,i,n,o){var l=0,s=e.getSum("value"),u=Math.PI*2/(s||o);t.eachNode(function(v){var h=v.getValue("value"),c=u*(s?h:1)/2;l+=c,v.setLayout([a*Math.cos(l)+i,a*Math.sin(l)+n]),l+=c})},symbolSize:function(r,t,e,a,i,n,o){var l=0;wa.length=o;var s=ut(r);t.eachNode(function(h){var c=vt(h);isNaN(c)&&(c=2),c<0&&(c=0),c*=s;var f=Math.asin(c/2/a);isNaN(f)&&(f=mi/2),wa[h.dataIndex]=f,l+=f*2});var u=(2*mi-l)/o/2,v=0;t.eachNode(function(h){var c=u+wa[h.dataIndex];v+=c,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([a*Math.cos(v)+i,a*Math.sin(v)+n]),v+=c})}};function kn(r,t,e,a){var i=r.getGraphicEl();if(i){var n=r.getModel(),o=n.get(["label","rotate"])||0,l=i.getSymbolPath();if(t){var s=r.getLayout(),u=Math.atan2(s[1]-a,s[0]-e);u<0&&(u=Math.PI*2+u);var v=s[0]<e;v&&(u=u-Math.PI);var h=v?"left":"right";l.setTextConfig({rotation:-u,position:h,origin:"center"});var c=l.ensureState("emphasis");Y(c.textConfig||(c.textConfig={}),{position:h})}else l.setTextConfig({rotation:o*=Math.PI/180})}}function xu(r){r.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&cr(t,"symbolSize")})}var je=Ba;function _u(r,t,e){for(var a=r,i=t,n=e.rect,o=n.width,l=n.height,s=[n.x+o/2,n.y+l/2],u=e.gravity==null?.1:e.gravity,v=0;v<a.length;v++){var h=a[v];h.p||(h.p=Po(o*(Math.random()-.5)+s[0],l*(Math.random()-.5)+s[1])),h.pp=ke(h.p),h.edges=null}var c=e.friction==null?.6:e.friction,f=c,g,p;return{warmUp:function(){f=c*.8},setFixed:function(y){a[y].fixed=!0},setUnfixed:function(y){a[y].fixed=!1},beforeStep:function(y){g=y},afterStep:function(y){p=y},step:function(y){g&&g(a,i);for(var S=[],d=a.length,m=0;m<i.length;m++){var b=i[m];if(!b.ignoreForceLayout){var D=b.n1,w=b.n2;et(S,w.p,D.p);var I=Lr(S)-b.d,A=w.w/(D.w+w.w);isNaN(A)&&(A=0),bt(S,S),!D.fixed&&je(D.p,D.p,S,A*I*f),!w.fixed&&je(w.p,w.p,S,-(1-A)*I*f)}}for(var m=0;m<d;m++){var L=a[m];L.fixed||(et(S,s,L.p),je(L.p,L.p,S,u*f))}for(var m=0;m<d;m++)for(var D=a[m],_=m+1;_<d;_++){var w=a[_];et(S,w.p,D.p);var I=Lr(S);I===0&&(Eo(S,Math.random()-.5,Math.random()-.5),I=1);var x=(D.rep+w.rep)/I/I;!D.fixed&&je(D.pp,D.pp,S,x),!w.fixed&&je(w.pp,w.pp,S,-x)}for(var T=[],m=0;m<d;m++){var L=a[m];L.fixed||(et(T,L.p,L.pp),je(L.p,L.p,T,f),de(L.pp,L.p))}f=f*.992;var C=f<.01;p&&p(a,i,C),y&&y(C)}}}function Lu(r){r.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var a=t.preservedPoints||{},i=t.getGraph(),n=i.data,o=i.edgeData,l=t.getModel("force"),s=l.get("initLayout");t.preservedPoints?n.each(function(m){var b=n.getId(m);n.setItemLayout(m,a[b]||[NaN,NaN])}):!s||s==="none"?Vn(t):s==="circular"&&cr(t,"value");var u=n.getDataExtent("value"),v=o.getDataExtent("value"),h=l.get("repulsion"),c=l.get("edgeLength"),f=Z(h)?h:[h,h],g=Z(c)?c:[c,c];g=[g[1],g[0]];var p=n.mapArray("value",function(m,b){var D=n.getItemLayout(b),w=Se(m,u,f);return isNaN(w)&&(w=(f[0]+f[1])/2),{w,rep:w,fixed:n.getItemModel(b).get("fixed"),p:!D||isNaN(D[0])||isNaN(D[1])?null:D}}),y=o.mapArray("value",function(m,b){var D=i.getEdgeByIndex(b),w=Se(m,v,g);isNaN(w)&&(w=(g[0]+g[1])/2);var I=D.getModel(),A=wt(D.getModel().get(["lineStyle","curveness"]),-vr(D,t,b,!0),0);return{n1:p[D.node1.dataIndex],n2:p[D.node2.dataIndex],d:w,curveness:A,ignoreForceLayout:I.get("ignoreForceLayout")}}),S=e.getBoundingRect(),d=_u(p,y,{rect:S,gravity:l.get("gravity"),friction:l.get("friction")});d.beforeStep(function(m,b){for(var D=0,w=m.length;D<w;D++)m[D].fixed&&de(m[D].p,i.getNodeByIndex(D).getLayout())}),d.afterStep(function(m,b,D){for(var w=0,I=m.length;w<I;w++)m[w].fixed||i.getNodeByIndex(w).setLayout(m[w].p),a[n.getId(w)]=m[w].p;for(var w=0,I=b.length;w<I;w++){var A=b[w],L=i.getEdgeByIndex(w),_=A.n1.p,x=A.n2.p,T=L.getLayout();T=T?T.slice():[],T[0]=T[0]||[],T[1]=T[1]||[],de(T[0],_),de(T[1],x),+A.curveness&&(T[2]=[(_[0]+x[0])/2-(_[1]-x[1])*A.curveness,(_[1]+x[1])/2-(x[0]-_[0])*A.curveness]),L.setLayout(T)}}),t.forceLayout=d,t.preservedPoints=a,d.step()}else t.forceLayout=null})}function Tu(r,t,e){var a=Y(r.getBoxLayoutParams(),{aspect:e});return at(a,{width:t.getWidth(),height:t.getHeight()})}function Cu(r,t){var e=[];return r.eachSeriesByType("graph",function(a){var i=a.get("coordinateSystem");if(!i||i==="view"){var n=a.getData(),o=n.mapArray(function(y){var S=n.getItemModel(y);return[+S.get("x"),+S.get("y")]}),l=[],s=[];Xi(o,l,s),s[0]-l[0]===0&&(s[0]+=1,l[0]-=1),s[1]-l[1]===0&&(s[1]+=1,l[1]-=1);var u=(s[0]-l[0])/(s[1]-l[1]),v=Tu(a,t,u);isNaN(u)&&(l=[v.x,v.y],s=[v.x+v.width,v.y+v.height]);var h=s[0]-l[0],c=s[1]-l[1],f=v.width,g=v.height,p=a.coordinateSystem=new ar;p.zoomLimit=a.get("scaleLimit"),p.setBoundingRect(l[0],l[1],h,c),p.setViewRect(v.x,v.y,f,g),p.setCenter(a.get("center"),t),p.setZoom(a.get("zoom")),e.push(p)}}),e}var Ia=[],Aa=[],xa=[],Ke=Ro,_a=Vo,Si=Math.abs;function bi(r,t,e){for(var a=r[0],i=r[1],n=r[2],o=1/0,l,s=e*e,u=.1,v=.1;v<=.9;v+=.1){Ia[0]=Ke(a[0],i[0],n[0],v),Ia[1]=Ke(a[1],i[1],n[1],v);var h=Si(_a(Ia,t)-s);h<o&&(o=h,l=v)}for(var c=0;c<32;c++){var f=l+u;Aa[0]=Ke(a[0],i[0],n[0],l),Aa[1]=Ke(a[1],i[1],n[1],l),xa[0]=Ke(a[0],i[0],n[0],f),xa[1]=Ke(a[1],i[1],n[1],f);var h=_a(Aa,t)-s;if(Si(h)<.01)break;var g=_a(xa,t)-s;u/=2,h<0?g>=0?l=l+u:l=l-u:g>=0?l=l-u:l=l+u}return l}function La(r,t){var e=[],a=Mo,i=[[],[],[]],n=[[],[]],o=[];t/=2,r.eachEdge(function(l,s){var u=l.getLayout(),v=l.getVisual("fromSymbol"),h=l.getVisual("toSymbol");u.__original||(u.__original=[ke(u[0]),ke(u[1])],u[2]&&u.__original.push(ke(u[2])));var c=u.__original;if(u[2]!=null){if(de(i[0],c[0]),de(i[1],c[2]),de(i[2],c[1]),v&&v!=="none"){var f=vt(l.node1),g=bi(i,c[0],f*t);a(i[0][0],i[1][0],i[2][0],g,e),i[0][0]=e[3],i[1][0]=e[4],a(i[0][1],i[1][1],i[2][1],g,e),i[0][1]=e[3],i[1][1]=e[4]}if(h&&h!=="none"){var f=vt(l.node2),g=bi(i,c[1],f*t);a(i[0][0],i[1][0],i[2][0],g,e),i[1][0]=e[1],i[2][0]=e[2],a(i[0][1],i[1][1],i[2][1],g,e),i[1][1]=e[1],i[2][1]=e[2]}de(u[0],i[0]),de(u[1],i[2]),de(u[2],i[1])}else{if(de(n[0],c[0]),de(n[1],c[1]),et(o,n[1],n[0]),bt(o,o),v&&v!=="none"){var f=vt(l.node1);Ba(n[0],n[0],o,f*t)}if(h&&h!=="none"){var f=vt(l.node2);Ba(n[1],n[1],o,-f*t)}de(u[0],n[0]),de(u[1],n[1])}})}function Di(r){return r.type==="view"}var Nu=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,a){var i=new ta,n=new sl,o=this.group;this._controller=new tr(a.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},t.prototype.render=function(e,a,i){var n=this,o=e.coordinateSystem;this._model=e;var l=this._symbolDraw,s=this._lineDraw,u=this.group;if(Di(o)){var v={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(v):j(u,v,e)}La(e.getGraph(),ut(e));var h=e.getData();l.updateData(h);var c=e.getEdgeData();s.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,a,i),clearTimeout(this._layoutTimeout);var f=e.forceLayout,g=e.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,g);var p=e.get("layout");h.graph.eachNode(function(m){var b=m.dataIndex,D=m.getGraphicEl(),w=m.getModel();if(D){D.off("drag").off("dragend");var I=w.get("draggable");I&&D.on("drag",function(L){switch(p){case"force":f.warmUp(),!n._layouting&&n._startForceLayoutIteration(f,g),f.setFixed(b),h.setItemLayout(b,[D.x,D.y]);break;case"circular":h.setItemLayout(b,[D.x,D.y]),m.setLayout({fixed:!0},!0),cr(e,"symbolSize",m,[L.offsetX,L.offsetY]),n.updateLayout(e);break;case"none":default:h.setItemLayout(b,[D.x,D.y]),hr(e.getGraph(),e),n.updateLayout(e);break}}).on("dragend",function(){f&&f.setUnfixed(b)}),D.setDraggable(I,!!w.get("cursor"));var A=w.get(["emphasis","focus"]);A==="adjacency"&&(se(D).focus=m.getAdjacentDataIndices())}}),h.graph.eachEdge(function(m){var b=m.getGraphicEl(),D=m.getModel().get(["emphasis","focus"]);b&&D==="adjacency"&&(se(b).focus={edge:[m.dataIndex],node:[m.node1.dataIndex,m.node2.dataIndex]})});var y=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),S=h.getLayout("cx"),d=h.getLayout("cy");h.graph.eachNode(function(m){kn(m,y,S,d)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,a){var i=this;(function n(){e.step(function(o){i.updateLayout(i._model),(i._layouting=!o)&&(a?i._layoutTimeout=setTimeout(n,16):n())})})()},t.prototype._updateController=function(e,a,i){var n=this,o=this._controller,l=this._controllerHost,s=this.group;if(o.setPointerChecker(function(u,v,h){var c=s.getBoundingRect();return c.applyTransform(s.transform),c.contain(v,h)&&!$i(u,i,e)}),!Di(e.coordinateSystem)){o.disable();return}o.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){Yi(l,u.dx,u.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Zi(l,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),n._updateNodeAndLinkScale(),La(e.getGraph(),ut(e)),n._lineDraw.updateLayout(),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,a=e.getData(),i=ut(e);a.eachItemGraphicEl(function(n,o){n&&n.setSymbolScale(i)})},t.prototype.updateLayout=function(e){La(e.getGraph(),ut(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t})(ae);function Je(r){return"_EC_"+r}var Pu=(function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var a=this._nodesMap;if(!a[Je(t)]){var i=new Fe(t,e);return i.hostGraph=this,this.nodes.push(i),a[Je(t)]=i,i}},r.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.prototype.getNodeById=function(t){return this._nodesMap[Je(t)]},r.prototype.addEdge=function(t,e,a){var i=this._nodesMap,n=this._edgesMap;if(Ae(t)&&(t=this.nodes[t]),Ae(e)&&(e=this.nodes[e]),t instanceof Fe||(t=i[Je(t)]),e instanceof Fe||(e=i[Je(e)]),!(!t||!e)){var o=t.id+"-"+e.id,l=new On(t,e,a);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),n[o]=l,l}},r.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.prototype.getEdge=function(t,e){t instanceof Fe&&(t=t.id),e instanceof Fe&&(e=e.id);var a=this._edgesMap;return this._directed?a[t+"-"+e]:a[t+"-"+e]||a[e+"-"+t]},r.prototype.eachNode=function(t,e){for(var a=this.nodes,i=a.length,n=0;n<i;n++)a[n].dataIndex>=0&&t.call(e,a[n],n)},r.prototype.eachEdge=function(t,e){for(var a=this.edges,i=a.length,n=0;n<i;n++)a[n].dataIndex>=0&&a[n].node1.dataIndex>=0&&a[n].node2.dataIndex>=0&&t.call(e,a[n],n)},r.prototype.breadthFirstTraverse=function(t,e,a,i){if(e instanceof Fe||(e=this._nodesMap[Je(e)]),!!e){for(var n=a==="out"?"outEdges":a==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var l=[e];l.length;)for(var s=l.shift(),u=s[n],o=0;o<u.length;o++){var v=u[o],h=v.node1===s?v.node2:v.node1;if(!h.__visited){if(t.call(i,h,s))return;l.push(h),h.__visited=!0}}}},r.prototype.update=function(){for(var t=this.data,e=this.edgeData,a=this.nodes,i=this.edges,n=0,o=a.length;n<o;n++)a[n].dataIndex=-1;for(var n=0,o=t.count();n<o;n++)a[t.getRawIndex(n)].dataIndex=n;e.filterSelf(function(l){var s=i[e.getRawIndex(l)];return s.node1.dataIndex>=0&&s.node2.dataIndex>=0});for(var n=0,o=i.length;n<o;n++)i[n].dataIndex=-1;for(var n=0,o=e.count();n<o;n++)i[e.getRawIndex(n)].dataIndex=n},r.prototype.clone=function(){for(var t=new r(this._directed),e=this.nodes,a=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<a.length;i++){var n=a[i];t.addEdge(n.node1.id,n.node2.id,n.dataIndex)}return t},r})(),Fe=(function(){function r(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,a=e.data.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var a=this.edges[e];a.dataIndex<0||(t.edge.push(a.dataIndex),t.node.push(a.node1.dataIndex,a.node2.dataIndex))}return t},r.prototype.getTrajectoryDataIndices=function(){for(var t=Ne(),e=Ne(),a=0;a<this.edges.length;a++){var i=this.edges[a];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var n=[i.node1],o=[i.node2],l=0;l<n.length;){var s=n[l];l++,e.set(s.dataIndex,!0);for(var u=0;u<s.inEdges.length;u++)t.set(s.inEdges[u].dataIndex,!0),n.push(s.inEdges[u].node1)}for(l=0;l<o.length;){var v=o[l];l++,e.set(v.dataIndex,!0);for(var u=0;u<v.outEdges.length;u++)t.set(v.outEdges[u].dataIndex,!0),o.push(v.outEdges[u].node2)}}}return{edge:t.keys(),node:e.keys()}},r})(),On=(function(){function r(t,e,a){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=a??-1}return r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,a=e.edgeData.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var t=Ne(),e=Ne();t.set(this.dataIndex,!0);for(var a=[this.node1],i=[this.node2],n=0;n<a.length;){var o=a[n];n++,e.set(o.dataIndex,!0);for(var l=0;l<o.inEdges.length;l++)t.set(o.inEdges[l].dataIndex,!0),a.push(o.inEdges[l].node1)}for(n=0;n<i.length;){var s=i[n];n++,e.set(s.dataIndex,!0);for(var l=0;l<s.outEdges.length;l++)t.set(s.outEdges[l].dataIndex,!0),i.push(s.outEdges[l].node2)}return{edge:t.keys(),node:e.keys()}},r})();function Gn(r,t){return{getValue:function(e){var a=this[r][t];return a.getStore().get(a.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,a){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,e,a)},getVisual:function(e){return this[r][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,a){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,e,a)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}ea(Fe,Gn("hostGraph","data"));ea(On,Gn("hostGraph","edgeData"));function zn(r,t,e,a,i){for(var n=new Pu(a),o=0;o<r.length;o++)n.addNode(za(r[o].id,r[o].name,o),o);for(var l=[],s=[],u=0,o=0;o<t.length;o++){var v=t[o],h=v.source,c=v.target;n.addEdge(h,c,u)&&(s.push(v),l.push(za(Qt(v.id,null),h+" > "+c)),u++)}var f=e.get("coordinateSystem"),g;if(f==="cartesian2d"||f==="polar")g=Be(r,e);else{var p=ja.get(f),y=p?p.dimensions||[]:[];At(y,"value")<0&&y.concat(["value"]);var S=xt(r,{coordDimensions:y,encodeDefine:e.getEncode()}).dimensions;g=new Ye(S,e),g.initData(r)}var d=new Ye(["value"],e);return d.initData(s,l),i&&i(g,d),wn({mainData:g,struct:n,structAttr:"graph",datas:{node:g,edge:d},datasAttr:{node:"data",edge:"edgeData"}}),n.update(),n}var Eu=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var a=this;function i(){return a._categoriesData}this.legendVisualProvider=new Ct(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments),Qa(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,a){var i=e.edges||e.links||[],n=e.data||e.nodes||[],o=this;if(n&&i){Du(this);var l=zn(n,i,this,!0,s);return k(l.edges,function(u){wu(u.node1,u.node2,this,u.dataIndex)},this),l.data}function s(u,v){u.wrapMethod("getItemModel",function(g){var p=o._categoriesModels,y=g.getShallow("category"),S=p[y];return S&&(S.parentModel=g.parentModel,g.parentModel=S),g});var h=Ze.prototype.getModel;function c(g,p){var y=h.call(this,g,p);return y.resolveParentPath=f,y}v.wrapMethod("getItemModel",function(g){return g.resolveParentPath=f,g.getModel=c,g});function f(g){if(g&&(g[0]==="label"||g[1]==="label")){var p=g.slice();return g[0]==="label"?p[0]="edgeLabel":g[1]==="label"&&(p[1]="edgeLabel"),p}return g}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,a,i){if(i==="edge"){var n=this.getData(),o=this.getDataParams(e,i),l=n.graph.getEdgeByIndex(e),s=n.getName(l.node1.dataIndex),u=n.getName(l.node2.dataIndex),v=[];return s!=null&&v.push(s),u!=null&&v.push(u),Le("nameValue",{name:v.join(" > "),value:o.value,noValue:o.value==null})}var h=ko({series:this,dataIndex:e,multipleSeries:a});return h},t.prototype._updateCategoriesData=function(){var e=te(this.option.categories||[],function(i){return i.value!=null?i:Y({value:0},i)}),a=new Ye(["value"],this);a.initData(e),this._categoriesData=a,this._categoriesModels=a.mapArray(function(i){return a.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t})(oe),Mu={type:"graphRoam",event:"graphRoam",update:"none"};function Nh(r){r.registerChartView(Nu),r.registerSeriesModel(Eu),r.registerProcessor(du),r.registerVisual(yu),r.registerVisual(mu),r.registerLayout(Iu),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,xu),r.registerLayout(Lu),r.registerCoordinateSystem("graphView",{dimensions:ar.dimensions,create:Cu}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ga),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ga),r.registerAction(Mu,function(t,e,a){e.eachComponent({mainType:"series",query:t},function(i){var n=i.coordinateSystem,o=ji(n,t,void 0,a);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}var Ru=(function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r})(),Vu=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="pointer",a}return t.prototype.getDefaultShape=function(){return new Ru},t.prototype.buildPath=function(e,a){var i=Math.cos,n=Math.sin,o=a.r,l=a.width,s=a.angle,u=a.x-i(s)*l*(l>=o/3?1:2),v=a.y-n(s)*l*(l>=o/3?1:2);s=a.angle-Math.PI/2,e.moveTo(u,v),e.lineTo(a.x+i(s)*l,a.y+n(s)*l),e.lineTo(a.x+i(a.angle)*o,a.y+n(a.angle)*o),e.lineTo(a.x-i(s)*l,a.y-n(s)*l),e.lineTo(u,v)},t})(De);function ku(r,t){var e=r.get("center"),a=t.getWidth(),i=t.getHeight(),n=Math.min(a,i),o=B(e[0],t.getWidth()),l=B(e[1],t.getHeight()),s=B(r.get("radius"),n/2);return{cx:o,cy:l,r:s}}function Gt(r,t){var e=r==null?"":r+"";return t&&(Pe(t)?e=t.replace("{value}",e):ye(t)&&(e=t(r))),e}var Ou=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){this.group.removeAll();var n=e.get(["axisLine","lineStyle","color"]),o=ku(e,i);this._renderMain(e,a,i,n,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,a,i,n,o){var l=this.group,s=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,v=-e.get("endAngle")/180*Math.PI,h=e.getModel("axisLine"),c=h.get("roundCap"),f=c?Wt:Ge,g=h.get("show"),p=h.getModel("lineStyle"),y=p.get("width"),S=[u,v];Fi(S,!s),u=S[0],v=S[1];for(var d=v-u,m=u,b=[],D=0;g&&D<n.length;D++){var w=Math.min(Math.max(n[D][0],0),1);v=u+d*w;var I=new f({shape:{startAngle:m,endAngle:v,cx:o.cx,cy:o.cy,clockwise:s,r0:o.r-y,r:o.r},silent:!0});I.setStyle({fill:n[D][1]}),I.setStyle(p.getLineStyle(["color","width"])),b.push(I),m=v}b.reverse(),k(b,function(L){return l.add(L)});var A=function(L){if(L<=0)return n[0][1];var _;for(_=0;_<n.length;_++)if(n[_][0]>=L&&(_===0?0:n[_-1][0])<L)return n[_][1];return n[_-1][1]};this._renderTicks(e,a,i,A,o,u,v,s,y),this._renderTitleAndDetail(e,a,i,A,o),this._renderAnchor(e,o),this._renderPointer(e,a,i,A,o,u,v,s,y)},t.prototype._renderTicks=function(e,a,i,n,o,l,s,u,v){for(var h=this.group,c=o.cx,f=o.cy,g=o.r,p=+e.get("min"),y=+e.get("max"),S=e.getModel("splitLine"),d=e.getModel("axisTick"),m=e.getModel("axisLabel"),b=e.get("splitNumber"),D=d.get("splitNumber"),w=B(S.get("length"),g),I=B(d.get("length"),g),A=l,L=(s-l)/b,_=L/D,x=S.getModel("lineStyle").getLineStyle(),T=d.getModel("lineStyle").getLineStyle(),C=S.get("distance"),E,N,R=0;R<=b;R++){if(E=Math.cos(A),N=Math.sin(A),S.get("show")){var M=C?C+v:v,P=new Va({shape:{x1:E*(g-M)+c,y1:N*(g-M)+f,x2:E*(g-w-M)+c,y2:N*(g-w-M)+f},style:x,silent:!0});x.stroke==="auto"&&P.setStyle({stroke:n(R/b)}),h.add(P)}if(m.get("show")){var M=m.get("distance")+C,V=Gt(Qe(R/b*(y-p)+p),m.get("formatter")),G=n(R/b),O=E*(g-w-M)+c,H=N*(g-w-M)+f,X=m.get("rotate"),F=0;X==="radial"?(F=-A+2*Math.PI,F>Math.PI/2&&(F+=Math.PI)):X==="tangential"?F=-A-Math.PI/2:Ae(X)&&(F=X*Math.PI/180),F===0?h.add(new Ce({style:Ue(m,{text:V,x:O,y:H,verticalAlign:N<-.8?"top":N>.8?"bottom":"middle",align:E<-.4?"left":E>.4?"right":"center"},{inheritColor:G}),silent:!0})):h.add(new Ce({style:Ue(m,{text:V,x:O,y:H,verticalAlign:"middle",align:"center"},{inheritColor:G}),silent:!0,originX:O,originY:H,rotation:F}))}if(d.get("show")&&R!==b){var M=d.get("distance");M=M?M+v:v;for(var U=0;U<=D;U++){E=Math.cos(A),N=Math.sin(A);var ie=new Va({shape:{x1:E*(g-M)+c,y1:N*(g-M)+f,x2:E*(g-I-M)+c,y2:N*(g-I-M)+f},silent:!0,style:T});T.stroke==="auto"&&ie.setStyle({stroke:n((R+U/D)/b)}),h.add(ie),A+=_}A-=_}else A+=L}},t.prototype._renderPointer=function(e,a,i,n,o,l,s,u,v){var h=this.group,c=this._data,f=this._progressEls,g=[],p=e.get(["pointer","show"]),y=e.getModel("progress"),S=y.get("show"),d=e.getData(),m=d.mapDimension("value"),b=+e.get("min"),D=+e.get("max"),w=[b,D],I=[l,s];function A(_,x){var T=d.getItemModel(_),C=T.getModel("pointer"),E=B(C.get("width"),o.r),N=B(C.get("length"),o.r),R=e.get(["pointer","icon"]),M=C.get("offsetCenter"),P=B(M[0],o.r),V=B(M[1],o.r),G=C.get("keepAspect"),O;return R?O=xe(R,P-E/2,V-N,E,N,null,G):O=new Vu({shape:{angle:-Math.PI/2,width:E,r:N,x:P,y:V}}),O.rotation=-(x+Math.PI/2),O.x=o.cx,O.y=o.cy,O}function L(_,x){var T=y.get("roundCap"),C=T?Wt:Ge,E=y.get("overlap"),N=E?y.get("width"):v/d.count(),R=E?o.r-N:o.r-(_+1)*N,M=E?o.r:o.r-_*N,P=new C({shape:{startAngle:l,endAngle:x,cx:o.cx,cy:o.cy,clockwise:u,r0:R,r:M}});return E&&(P.z2=Se(d.get(m,_),[b,D],[100,0],!0)),P}(S||p)&&(d.diff(c).add(function(_){var x=d.get(m,_);if(p){var T=A(_,l);ee(T,{rotation:-((isNaN(+x)?I[0]:Se(x,w,I,!0))+Math.PI/2)},e),h.add(T),d.setItemGraphicEl(_,T)}if(S){var C=L(_,l),E=y.get("clip");ee(C,{shape:{endAngle:Se(x,w,I,E)}},e),h.add(C),Tr(e.seriesIndex,d.dataType,_,C),g[_]=C}}).update(function(_,x){var T=d.get(m,_);if(p){var C=c.getItemGraphicEl(x),E=C?C.rotation:l,N=A(_,E);N.rotation=E,j(N,{rotation:-((isNaN(+T)?I[0]:Se(T,w,I,!0))+Math.PI/2)},e),h.add(N),d.setItemGraphicEl(_,N)}if(S){var R=f[x],M=R?R.shape.endAngle:l,P=L(_,M),V=y.get("clip");j(P,{shape:{endAngle:Se(T,w,I,V)}},e),h.add(P),Tr(e.seriesIndex,d.dataType,_,P),g[_]=P}}).execute(),d.each(function(_){var x=d.getItemModel(_),T=x.getModel("emphasis"),C=T.get("focus"),E=T.get("blurScope"),N=T.get("disabled");if(p){var R=d.getItemGraphicEl(_),M=d.getItemVisual(_,"style"),P=M.fill;if(R instanceof jt){var V=R.style;R.useStyle(Y({image:V.image,x:V.x,y:V.y,width:V.width,height:V.height},M))}else R.useStyle(M),R.type!=="pointer"&&R.setColor(P);R.setStyle(x.getModel(["pointer","itemStyle"]).getItemStyle()),R.style.fill==="auto"&&R.setStyle("fill",n(Se(d.get(m,_),w,[0,1],!0))),R.z2EmphasisLift=0,ce(R,x),ne(R,C,E,N)}if(S){var G=g[_];G.useStyle(d.getItemVisual(_,"style")),G.setStyle(x.getModel(["progress","itemStyle"]).getItemStyle()),G.z2EmphasisLift=0,ce(G,x),ne(G,C,E,N)}}),this._progressEls=g)},t.prototype._renderAnchor=function(e,a){var i=e.getModel("anchor"),n=i.get("show");if(n){var o=i.get("size"),l=i.get("icon"),s=i.get("offsetCenter"),u=i.get("keepAspect"),v=xe(l,a.cx-o/2+B(s[0],a.r),a.cy-o/2+B(s[1],a.r),o,o,null,u);v.z2=i.get("showAbove")?1:0,v.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(v)}},t.prototype._renderTitleAndDetail=function(e,a,i,n,o){var l=this,s=e.getData(),u=s.mapDimension("value"),v=+e.get("min"),h=+e.get("max"),c=new re,f=[],g=[],p=e.isAnimationEnabled(),y=e.get(["pointer","showAbove"]);s.diff(this._data).add(function(S){f[S]=new Ce({silent:!0}),g[S]=new Ce({silent:!0})}).update(function(S,d){f[S]=l._titleEls[d],g[S]=l._detailEls[d]}).execute(),s.each(function(S){var d=s.getItemModel(S),m=s.get(u,S),b=new re,D=n(Se(m,[v,h],[0,1],!0)),w=d.getModel("title");if(w.get("show")){var I=w.get("offsetCenter"),A=o.cx+B(I[0],o.r),L=o.cy+B(I[1],o.r),_=f[S];_.attr({z2:y?0:2,style:Ue(w,{x:A,y:L,text:s.getName(S),align:"center",verticalAlign:"middle"},{inheritColor:D})}),b.add(_)}var x=d.getModel("detail");if(x.get("show")){var T=x.get("offsetCenter"),C=o.cx+B(T[0],o.r),E=o.cy+B(T[1],o.r),N=B(x.get("width"),o.r),R=B(x.get("height"),o.r),M=e.get(["progress","show"])?s.getItemVisual(S,"style").fill:D,_=g[S],P=x.get("formatter");_.attr({z2:y?0:2,style:Ue(x,{x:C,y:E,text:Gt(m,P),width:isNaN(N)?null:N,height:isNaN(R)?null:R,align:"center",verticalAlign:"middle"},{inheritColor:M})}),Hi(_,{normal:x},m,function(G){return Gt(G,P)}),p&&Oo(_,S,s,e,{getFormattedLabel:function(G,O,H,X,F,U){return Gt(U?U.interpolatedValue:m,P)}}),b.add(_)}c.add(b)}),this.group.add(c),this._titleEls=f,this._detailEls=g},t.type="gauge",t})(ae),Gu=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,a){return rt(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t})(oe);function Ph(r){r.registerChartView(Ou),r.registerSeriesModel(Gu)}var zu=["itemStyle","opacity"],Bu=(function(r){z(t,r);function t(e,a){var i=r.call(this)||this,n=i,o=new Kt,l=new Ce;return n.setTextContent(l),i.setTextGuideLine(o),i.updateData(e,a,!0),i}return t.prototype.updateData=function(e,a,i){var n=this,o=e.hostModel,l=e.getItemModel(a),s=e.getItemLayout(a),u=l.getModel("emphasis"),v=l.get(zu);v=v??1,i||Ie(n),n.useStyle(e.getItemVisual(a,"style")),n.style.lineJoin="round",i?(n.setShape({points:s.points}),n.style.opacity=0,ee(n,{style:{opacity:v}},o,a)):j(n,{style:{opacity:v},shape:{points:s.points}},o,a),ce(n,l),this._updateLabel(e,a),ne(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,a){var i=this,n=this.getTextGuideLine(),o=i.getTextContent(),l=e.hostModel,s=e.getItemModel(a),u=e.getItemLayout(a),v=u.label,h=e.getItemVisual(a,"style"),c=h.fill;me(o,he(s),{labelFetcher:e.hostModel,labelDataIndex:a,defaultOpacity:h.opacity,defaultText:e.getName(a)},{normal:{align:v.textAlign,verticalAlign:v.verticalAlign}}),i.setTextConfig({local:!0,inside:!!v.inside,insideStroke:c,outsideFill:c});var f=v.linePoints;n.setShape({points:f}),i.textGuideLineConfig={anchor:f?new ka(f[0][0],f[0][1]):null},j(o,{style:{x:v.x,y:v.y}},l,a),o.attr({rotation:v.rotation,originX:v.x,originY:v.y,z2:10}),en(i,tn(s),{stroke:c})},t})(er),Hu=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,a,i){var n=e.getData(),o=this._data,l=this.group;n.diff(o).add(function(s){var u=new Bu(n,s);n.setItemGraphicEl(s,u),l.add(u)}).update(function(s,u){var v=o.getItemGraphicEl(u);v.updateData(n,s),l.add(v),n.setItemGraphicEl(s,v)}).remove(function(s){var u=o.getItemGraphicEl(s);Ft(u,e,s)}).execute(),this._data=n},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t})(ae),Fu=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ct(ve(this.getData,this),ve(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,a){return rt(this,{coordDimensions:["value"],encodeDefaulter:ge(Ja,this)})},t.prototype._defaultLabelLine=function(e){Qa(e,"labelLine",["show"]);var a=e.labelLine,i=e.emphasis.labelLine;a.show=a.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var a=this.getData(),i=r.prototype.getDataParams.call(this,e),n=a.mapDimension("value"),o=a.getSum(n);return i.percent=o?+(a.get(n,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t})(oe);function Wu(r,t){return at(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Uu(r,t){for(var e=r.mapDimension("value"),a=r.mapArray(e,function(s){return s}),i=[],n=t==="ascending",o=0,l=r.count();o<l;o++)i[o]=o;return ye(t)?i.sort(t):t!=="none"&&i.sort(function(s,u){return n?a[s]-a[u]:a[u]-a[s]}),i}function Xu(r){var t=r.hostModel,e=t.get("orient");r.each(function(a){var i=r.getItemModel(a),n=i.getModel("label"),o=n.get("position"),l=i.getModel("labelLine"),s=r.getItemLayout(a),u=s.points,v=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",h,c,f,g;if(v)o==="insideLeft"?(c=(u[0][0]+u[3][0])/2+5,f=(u[0][1]+u[3][1])/2,h="left"):o==="insideRight"?(c=(u[1][0]+u[2][0])/2-5,f=(u[1][1]+u[2][1])/2,h="right"):(c=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,f=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,h="center"),g=[[c,f],[c,f]];else{var p=void 0,y=void 0,S=void 0,d=void 0,m=l.get("length");o==="left"?(p=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,S=p-m,c=S-5,h="right"):o==="right"?(p=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,S=p+m,c=S+5,h="left"):o==="top"?(p=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,d=y-m,f=d-5,h="center"):o==="bottom"?(p=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,d=y+m,f=d+5,h="center"):o==="rightTop"?(p=e==="horizontal"?u[3][0]:u[1][0],y=e==="horizontal"?u[3][1]:u[1][1],e==="horizontal"?(d=y-m,f=d-5,h="center"):(S=p+m,c=S+5,h="top")):o==="rightBottom"?(p=u[2][0],y=u[2][1],e==="horizontal"?(d=y+m,f=d+5,h="center"):(S=p+m,c=S+5,h="bottom")):o==="leftTop"?(p=u[0][0],y=e==="horizontal"?u[0][1]:u[1][1],e==="horizontal"?(d=y-m,f=d-5,h="center"):(S=p-m,c=S-5,h="right")):o==="leftBottom"?(p=e==="horizontal"?u[1][0]:u[3][0],y=e==="horizontal"?u[1][1]:u[2][1],e==="horizontal"?(d=y+m,f=d+5,h="center"):(S=p-m,c=S-5,h="right")):(p=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,e==="horizontal"?(d=y+m,f=d+5,h="center"):(S=p+m,c=S+5,h="left")),e==="horizontal"?(S=p,c=S):(d=y,f=d),g=[[p,y],[S,d]]}s.label={linePoints:g,x:c,y:f,verticalAlign:"middle",textAlign:h,inside:v}})}function $u(r,t){r.eachSeriesByType("funnel",function(e){var a=e.getData(),i=a.mapDimension("value"),n=e.get("sort"),o=Wu(e,t),l=e.get("orient"),s=o.width,u=o.height,v=Uu(a,n),h=o.x,c=o.y,f=l==="horizontal"?[B(e.get("minSize"),u),B(e.get("maxSize"),u)]:[B(e.get("minSize"),s),B(e.get("maxSize"),s)],g=a.getDataExtent(i),p=e.get("min"),y=e.get("max");p==null&&(p=Math.min(g[0],0)),y==null&&(y=g[1]);var S=e.get("funnelAlign"),d=e.get("gap"),m=l==="horizontal"?s:u,b=(m-d*(a.count()-1))/a.count(),D=function(E,N){if(l==="horizontal"){var R=a.get(i,E)||0,M=Se(R,[p,y],f,!0),P=void 0;switch(S){case"top":P=c;break;case"center":P=c+(u-M)/2;break;case"bottom":P=c+(u-M);break}return[[N,P],[N,P+M]]}var V=a.get(i,E)||0,G=Se(V,[p,y],f,!0),O;switch(S){case"left":O=h;break;case"center":O=h+(s-G)/2;break;case"right":O=h+s-G;break}return[[O,N],[O+G,N]]};n==="ascending"&&(b=-b,d=-d,l==="horizontal"?h+=s:c+=u,v=v.reverse());for(var w=0;w<v.length;w++){var I=v[w],A=v[w+1],L=a.getItemModel(I);if(l==="horizontal"){var _=L.get(["itemStyle","width"]);_==null?_=b:(_=B(_,s),n==="ascending"&&(_=-_));var x=D(I,h),T=D(A,h+_);h+=_+d,a.setItemLayout(I,{points:x.concat(T.slice().reverse())})}else{var C=L.get(["itemStyle","height"]);C==null?C=b:(C=B(C,u),n==="ascending"&&(C=-C));var x=D(I,c),T=D(A,c+C);c+=C+d,a.setItemLayout(I,{points:x.concat(T.slice().reverse())})}}Xu(a)})}function Eh(r){r.registerChartView(Hu),r.registerSeriesModel(Fu),r.registerLayout($u),r.registerProcessor(Tt("funnel"))}var Yu=.3,Zu=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new re,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,a,i,n){this._progressiveEls=null;var o=this._dataGroup,l=e.getData(),s=this._data,u=e.coordinateSystem,v=u.dimensions,h=Ii(e);l.diff(s).add(c).update(f).remove(g).execute();function c(y){var S=wi(l,o,y,v,u);Ta(S,l,y,h)}function f(y,S){var d=s.getItemGraphicEl(S),m=Bn(l,y,v,u);l.setItemGraphicEl(y,d),j(d,{shape:{points:m}},e,y),Ie(d),Ta(d,l,y,h)}function g(y){var S=s.getItemGraphicEl(y);o.remove(S)}if(!this._initialized){this._initialized=!0;var p=qu(u,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(p)}this._data=l},t.prototype.incrementalPrepareRender=function(e,a,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,a,i){for(var n=a.getData(),o=a.coordinateSystem,l=o.dimensions,s=Ii(a),u=this._progressiveEls=[],v=e.start;v<e.end;v++){var h=wi(n,this._dataGroup,v,l,o);h.incremental=!0,Ta(h,n,v,s),u.push(h)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t})(ae);function qu(r,t,e){var a=r.model,i=r.getRect(),n=new _e({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o=a.get("layout")==="horizontal"?"width":"height";return n.setShape(o,0),ee(n,{shape:{width:i.width,height:i.height}},t,e),n}function Bn(r,t,e,a){for(var i=[],n=0;n<e.length;n++){var o=e[n],l=r.get(r.mapDimension(o),t);ju(l,a.getAxis(o).type)||i.push(a.dataToPoint(l,o))}return i}function wi(r,t,e,a,i){var n=Bn(r,e,a,i),o=new Kt({shape:{points:n},z2:10});return t.add(o),r.setItemGraphicEl(e,o),o}function Ii(r){var t=r.get("smooth",!0);return t===!0&&(t=Yu),t=Go(t),zo(t)&&(t=0),{smooth:t}}function Ta(r,t,e,a){r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.setShape("smooth",a.smooth);var i=t.getItemModel(e),n=i.getModel("emphasis");ce(r,i,"lineStyle"),ne(r,n.get("focus"),n.get("blurScope"),n.get("disabled"))}function ju(r,t){return t==="category"?r==null:r==null||isNaN(r)}var Ku=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,a){return Be(null,this,{useEncodeDefaulter:ve(Ju,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var a=this.coordinateSystem,i=this.getData(),n=[];return a.eachActiveState(i,function(o,l){e===o&&n.push(i.getRawIndex(l))}),n},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t})(oe);function Ju(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(t){var e={};return k(t.dimensions,function(a){var i=Qu(a);e[a]=i}),e}}function Qu(r){return+r.replace("dim","")}var ev=["lineStyle","opacity"],tv={seriesType:"parallel",reset:function(r,t){var e=r.coordinateSystem,a={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,n){e.eachActiveState(n,function(o,l){var s=a[o];if(o==="normal"&&n.hasItemOption){var u=n.getItemModel(l).get(ev,!0);u!=null&&(s=u)}var v=n.ensureUniqueItemVisual(l,"style");v.opacity=s},i.start,i.end)}}}};function Mh(r){Jt(Bo),r.registerChartView(Zu),r.registerSeriesModel(Ku),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,tv)}var av=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r})(),rv=(function(r){z(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new av},t.prototype.buildPath=function(e,a){var i=a.extent;e.moveTo(a.x1,a.y1),e.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),a.orient==="vertical"?(e.lineTo(a.x2+i,a.y2),e.bezierCurveTo(a.cpx2+i,a.cpy2,a.cpx1+i,a.cpy1,a.x1+i,a.y1)):(e.lineTo(a.x2,a.y2+i),e.bezierCurveTo(a.cpx2,a.cpy2+i,a.cpx1,a.cpy1+i,a.x1,a.y1+i)),e.closePath()},t.prototype.highlight=function(){Yt(this)},t.prototype.downplay=function(){Zt(this)},t})(De),iv=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return t.prototype.render=function(e,a,i){var n=this,o=e.getGraph(),l=this.group,s=e.layoutInfo,u=s.width,v=s.height,h=e.getData(),c=e.getData("edge"),f=e.get("orient");this._model=e,l.removeAll(),l.x=s.x,l.y=s.y,o.eachEdge(function(g){var p=new rv,y=se(p);y.dataIndex=g.dataIndex,y.seriesIndex=e.seriesIndex,y.dataType="edge";var S=g.getModel(),d=S.getModel("lineStyle"),m=d.get("curveness"),b=g.node1.getLayout(),D=g.node1.getModel(),w=D.get("localX"),I=D.get("localY"),A=g.node2.getLayout(),L=g.node2.getModel(),_=L.get("localX"),x=L.get("localY"),T=g.getLayout(),C,E,N,R,M,P,V,G;p.shape.extent=Math.max(1,T.dy),p.shape.orient=f,f==="vertical"?(C=(w!=null?w*u:b.x)+T.sy,E=(I!=null?I*v:b.y)+b.dy,N=(_!=null?_*u:A.x)+T.ty,R=x!=null?x*v:A.y,M=C,P=E*(1-m)+R*m,V=N,G=E*m+R*(1-m)):(C=(w!=null?w*u:b.x)+b.dx,E=(I!=null?I*v:b.y)+T.sy,N=_!=null?_*u:A.x,R=(x!=null?x*v:A.y)+T.ty,M=C*(1-m)+N*m,P=E,V=C*m+N*(1-m),G=R),p.setShape({x1:C,y1:E,x2:N,y2:R,cpx1:M,cpy1:P,cpx2:V,cpy2:G}),p.useStyle(d.getItemStyle()),Ai(p.style,f,g);var O=""+S.get("value"),H=he(S,"edgeLabel");me(p,H,{labelFetcher:{getFormattedLabel:function(U,ie,we,$,W,K){return e.getFormattedLabel(U,ie,"edge",$,wt(W,H.normal&&H.normal.get("formatter"),O),K)}},labelDataIndex:g.dataIndex,defaultText:O}),p.setTextConfig({position:"inside"});var X=S.getModel("emphasis");ce(p,S,"lineStyle",function(U){var ie=U.getItemStyle();return Ai(ie,f,g),ie}),l.add(p),c.setItemGraphicEl(g.dataIndex,p);var F=X.get("focus");ne(p,F==="adjacency"?g.getAdjacentDataIndices():F==="trajectory"?g.getTrajectoryDataIndices():F,X.get("blurScope"),X.get("disabled"))}),o.eachNode(function(g){var p=g.getLayout(),y=g.getModel(),S=y.get("localX"),d=y.get("localY"),m=y.getModel("emphasis"),b=y.get(["itemStyle","borderRadius"])||0,D=new _e({shape:{x:S!=null?S*u:p.x,y:d!=null?d*v:p.y,width:p.dx,height:p.dy,r:b},style:y.getModel("itemStyle").getItemStyle(),z2:10});me(D,he(y),{labelFetcher:{getFormattedLabel:function(I,A){return e.getFormattedLabel(I,A,"node")}},labelDataIndex:g.dataIndex,defaultText:g.id}),D.disableLabelAnimation=!0,D.setStyle("fill",g.getVisual("color")),D.setStyle("decal",g.getVisual("style").decal),ce(D,y),l.add(D),h.setItemGraphicEl(g.dataIndex,D),se(D).dataType="node";var w=m.get("focus");ne(D,w==="adjacency"?g.getAdjacentDataIndices():w==="trajectory"?g.getTrajectoryDataIndices():w,m.get("blurScope"),m.get("disabled"))}),h.eachItemGraphicEl(function(g,p){var y=h.getItemModel(p);y.get("draggable")&&(g.drift=function(S,d){n._focusAdjacencyDisabled=!0,this.shape.x+=S,this.shape.y+=d,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:h.getRawIndex(p),localX:this.shape.x/u,localY:this.shape.y/v})},g.ondragend=function(){n._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&e.isAnimationEnabled()&&l.setClipPath(nv(l.getBoundingRect(),e,function(){l.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t})(ae);function Ai(r,t,e){switch(r.fill){case"source":r.fill=e.node1.getVisual("color"),r.decal=e.node1.getVisual("style").decal;break;case"target":r.fill=e.node2.getVisual("color"),r.decal=e.node2.getVisual("style").decal;break;case"gradient":var a=e.node1.getVisual("color"),i=e.node2.getVisual("color");Pe(a)&&Pe(i)&&(r.fill=new Bi(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:a,offset:0},{color:i,offset:1}]))}}function nv(r,t,e){var a=new _e({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return ee(a,{shape:{width:r.width+20}},t,e),a}var ov=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){var i=e.edges||e.links||[],n=e.data||e.nodes||[],o=e.levels||[];this.levelModels=[];for(var l=this.levelModels,s=0;s<o.length;s++)o[s].depth!=null&&o[s].depth>=0&&(l[o[s].depth]=new Ze(o[s],this,a));var u=zn(n,i,this,!0,v);return u.data;function v(h,c){h.wrapMethod("getItemModel",function(f,g){var p=f.parentModel,y=p.getData().getItemLayout(g);if(y){var S=y.depth,d=p.levelModels[S];d&&(f.parentModel=d)}return f}),c.wrapMethod("getItemModel",function(f,g){var p=f.parentModel,y=p.getGraph().getEdgeByIndex(g),S=y.node1.getLayout();if(S){var d=S.depth,m=p.levelModels[d];m&&(f.parentModel=m)}return f})}},t.prototype.setNodePosition=function(e,a){var i=this.option.data||this.option.nodes,n=i[e];n.localX=a[0],n.localY=a[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,a,i){function n(f){return isNaN(f)||f==null}if(i==="edge"){var o=this.getDataParams(e,i),l=o.data,s=o.value,u=l.source+" -- "+l.target;return Le("nameValue",{name:u,value:s,noValue:n(s)})}else{var v=this.getGraph().getNodeByIndex(e),h=v.getLayout().value,c=this.getDataParams(e,i).data.name;return Le("nameValue",{name:c!=null?c+"":null,value:h,noValue:n(h)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,a){var i=r.prototype.getDataParams.call(this,e,a);if(i.value==null&&a==="node"){var n=this.getGraph().getNodeByIndex(e),o=n.getLayout().value;i.value=o}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t})(oe);function lv(r,t){r.eachSeriesByType("sankey",function(e){var a=e.get("nodeWidth"),i=e.get("nodeGap"),n=sv(e,t);e.layoutInfo=n;var o=n.width,l=n.height,s=e.getGraph(),u=s.nodes,v=s.edges;vv(u);var h=ir(u,function(p){return p.getLayout().value===0}),c=h.length!==0?0:e.get("layoutIterations"),f=e.get("orient"),g=e.get("nodeAlign");uv(u,v,a,i,o,l,c,f,g)})}function sv(r,t){return at(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function uv(r,t,e,a,i,n,o,l,s){hv(r,t,e,i,n,l,s),pv(r,t,n,i,a,o,l),Av(r,l)}function vv(r){k(r,function(t){var e=Oe(t.outEdges,$t),a=Oe(t.inEdges,$t),i=t.getValue()||0,n=Math.max(e,a,i);t.setLayout({value:n},!0)})}function hv(r,t,e,a,i,n,o){for(var l=[],s=[],u=[],v=[],h=0,c=0;c<t.length;c++)l[c]=1;for(var c=0;c<r.length;c++)s[c]=r[c].inEdges.length,s[c]===0&&u.push(r[c]);for(var f=-1;u.length;){for(var g=0;g<u.length;g++){var p=u[g],y=p.hostGraph.data.getRawDataItem(p.dataIndex),S=y.depth!=null&&y.depth>=0;S&&y.depth>f&&(f=y.depth),p.setLayout({depth:S?y.depth:h},!0),n==="vertical"?p.setLayout({dy:e},!0):p.setLayout({dx:e},!0);for(var d=0;d<p.outEdges.length;d++){var m=p.outEdges[d],b=t.indexOf(m);l[b]=0;var D=m.node2,w=r.indexOf(D);--s[w]===0&&v.indexOf(D)<0&&v.push(D)}}++h,u=v,v=[]}for(var c=0;c<l.length;c++)if(l[c]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var I=f>h-1?f:h-1;o&&o!=="left"&&cv(r,o,n,I);var A=n==="vertical"?(i-e)/I:(a-e)/I;gv(r,A,n)}function Hn(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function cv(r,t,e,a){if(t==="right"){for(var i=[],n=r,o=0;n.length;){for(var l=0;l<n.length;l++){var s=n[l];s.setLayout({skNodeHeight:o},!0);for(var u=0;u<s.inEdges.length;u++){var v=s.inEdges[u];i.indexOf(v.node1)<0&&i.push(v.node1)}}n=i,i=[],++o}k(r,function(h){Hn(h)||h.setLayout({depth:Math.max(0,a-h.getLayout().skNodeHeight)},!0)})}else t==="justify"&&fv(r,a)}function fv(r,t){k(r,function(e){!Hn(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function gv(r,t,e){k(r,function(a){var i=a.getLayout().depth*t;e==="vertical"?a.setLayout({y:i},!0):a.setLayout({x:i},!0)})}function pv(r,t,e,a,i,n,o){var l=dv(r,o);yv(l,t,e,a,i,o),Ca(l,i,e,a,o);for(var s=1;n>0;n--)s*=.99,mv(l,s,o),Ca(l,i,e,a,o),Iv(l,s,o),Ca(l,i,e,a,o)}function dv(r,t){var e=[],a=t==="vertical"?"y":"x",i=Ha(r,function(n){return n.getLayout()[a]});return i.keys.sort(function(n,o){return n-o}),k(i.keys,function(n){e.push(i.buckets.get(n))}),e}function yv(r,t,e,a,i,n){var o=1/0;k(r,function(l){var s=l.length,u=0;k(l,function(h){u+=h.getLayout().value});var v=n==="vertical"?(a-(s-1)*i)/u:(e-(s-1)*i)/u;v<o&&(o=v)}),k(r,function(l){k(l,function(s,u){var v=s.getLayout().value*o;n==="vertical"?(s.setLayout({x:u},!0),s.setLayout({dx:v},!0)):(s.setLayout({y:u},!0),s.setLayout({dy:v},!0))})}),k(t,function(l){var s=+l.getValue()*o;l.setLayout({dy:s},!0)})}function Ca(r,t,e,a,i){var n=i==="vertical"?"x":"y";k(r,function(o){o.sort(function(p,y){return p.getLayout()[n]-y.getLayout()[n]});for(var l,s,u,v=0,h=o.length,c=i==="vertical"?"dx":"dy",f=0;f<h;f++)s=o[f],u=v-s.getLayout()[n],u>0&&(l=s.getLayout()[n]+u,i==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0)),v=s.getLayout()[n]+s.getLayout()[c]+t;var g=i==="vertical"?a:e;if(u=v-t-g,u>0){l=s.getLayout()[n]-u,i==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0),v=l;for(var f=h-2;f>=0;--f)s=o[f],u=s.getLayout()[n]+s.getLayout()[c]+t-v,u>0&&(l=s.getLayout()[n]-u,i==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0)),v=s.getLayout()[n]}})}function mv(r,t,e){k(r.slice().reverse(),function(a){k(a,function(i){if(i.outEdges.length){var n=Oe(i.outEdges,Sv,e)/Oe(i.outEdges,$t);if(isNaN(n)){var o=i.outEdges.length;n=o?Oe(i.outEdges,bv,e)/o:0}if(e==="vertical"){var l=i.getLayout().x+(n-ze(i,e))*t;i.setLayout({x:l},!0)}else{var s=i.getLayout().y+(n-ze(i,e))*t;i.setLayout({y:s},!0)}}})})}function Sv(r,t){return ze(r.node2,t)*r.getValue()}function bv(r,t){return ze(r.node2,t)}function Dv(r,t){return ze(r.node1,t)*r.getValue()}function wv(r,t){return ze(r.node1,t)}function ze(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function $t(r){return r.getValue()}function Oe(r,t,e){for(var a=0,i=r.length,n=-1;++n<i;){var o=+t(r[n],e);isNaN(o)||(a+=o)}return a}function Iv(r,t,e){k(r,function(a){k(a,function(i){if(i.inEdges.length){var n=Oe(i.inEdges,Dv,e)/Oe(i.inEdges,$t);if(isNaN(n)){var o=i.inEdges.length;n=o?Oe(i.inEdges,wv,e)/o:0}if(e==="vertical"){var l=i.getLayout().x+(n-ze(i,e))*t;i.setLayout({x:l},!0)}else{var s=i.getLayout().y+(n-ze(i,e))*t;i.setLayout({y:s},!0)}}})})}function Av(r,t){var e=t==="vertical"?"x":"y";k(r,function(a){a.outEdges.sort(function(i,n){return i.node2.getLayout()[e]-n.node2.getLayout()[e]}),a.inEdges.sort(function(i,n){return i.node1.getLayout()[e]-n.node1.getLayout()[e]})}),k(r,function(a){var i=0,n=0;k(a.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),k(a.inEdges,function(o){o.setLayout({ty:n},!0),n+=o.getLayout().dy})})}function xv(r){r.eachSeriesByType("sankey",function(t){var e=t.getGraph(),a=e.nodes,i=e.edges;if(a.length){var n=1/0,o=-1/0;k(a,function(l){var s=l.getLayout().value;s<n&&(n=s),s>o&&(o=s)}),k(a,function(l){var s=new Qi({type:"color",mappingMethod:"linear",dataExtent:[n,o],visual:t.get("color")}),u=s.mapValueToVisual(l.getLayout().value),v=l.getModel().get(["itemStyle","color"]);v!=null?(l.setVisual("color",v),l.setVisual("style",{fill:v})):(l.setVisual("color",u),l.setVisual("style",{fill:u}))})}i.length&&k(i,function(l){var s=l.getModel().get("lineStyle");l.setVisual("style",s)})})}function Rh(r){r.registerChartView(iv),r.registerSeriesModel(ov),r.registerLayout(lv),r.registerVisual(xv),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var Fn=(function(){function r(){}return r.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&e.get(t)!=null},r.prototype.getInitialData=function(t,e){var a,i=e.getComponent("xAxis",this.get("xAxisIndex")),n=e.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),l=n.get("type"),s;o==="category"?(t.layout="horizontal",a=i.getOrdinalMeta(),s=!this._hasEncodeRule("x")):l==="category"?(t.layout="vertical",a=n.getOrdinalMeta(),s=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],v=t.layout==="horizontal"?0:1,h=this._baseAxisDim=u[v],c=u[1-v],f=[i,n],g=f[v].get("type"),p=f[1-v].get("type"),y=t.data;if(y&&s){var S=[];k(y,function(b,D){var w;Z(b)?(w=b.slice(),b.unshift(D)):Z(b.value)?(w=Y({},b),w.value=w.value.slice(),b.value.unshift(D)):w=b,S.push(w)}),t.data=S}var d=this.defaultValueDimensions,m=[{name:h,type:zt(g),ordinalMeta:a,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:c,type:zt(p),dimsDef:d.slice()}];return rt(this,{coordDimensions:m,dimensionsCount:d.length+1,encodeDefaulter:ge(ki,m,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r})(),Wn=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t})(oe);ea(Wn,Fn,!0);var _v=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var n=e.getData(),o=this.group,l=this._data;this._data||o.removeAll();var s=e.get("layout")==="horizontal"?1:0;n.diff(l).add(function(u){if(n.hasValue(u)){var v=n.getItemLayout(u),h=xi(v,n,u,s,!0);n.setItemGraphicEl(u,h),o.add(h)}}).update(function(u,v){var h=l.getItemGraphicEl(v);if(!n.hasValue(u)){o.remove(h);return}var c=n.getItemLayout(u);h?(Ie(h),Un(c,h,n,u)):h=xi(c,n,u,s),o.add(h),n.setItemGraphicEl(u,h)}).remove(function(u){var v=l.getItemGraphicEl(u);v&&o.remove(v)}).execute(),this._data=n},t.prototype.remove=function(e){var a=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(n){n&&a.remove(n)})},t.type="boxplot",t})(ae),Lv=(function(){function r(){}return r})(),Tv=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="boxplotBoxPath",a}return t.prototype.getDefaultShape=function(){return new Lv},t.prototype.buildPath=function(e,a){var i=a.points,n=0;for(e.moveTo(i[n][0],i[n][1]),n++;n<4;n++)e.lineTo(i[n][0],i[n][1]);for(e.closePath();n<i.length;n++)e.moveTo(i[n][0],i[n][1]),n++,e.lineTo(i[n][0],i[n][1])},t})(De);function xi(r,t,e,a,i){var n=r.ends,o=new Tv({shape:{points:i?Cv(n,a,r):n}});return Un(r,o,t,e,i),o}function Un(r,t,e,a,i){var n=e.hostModel,o=Ui[i?"initProps":"updateProps"];o(t,{shape:{points:r.ends}},n,a),t.useStyle(e.getItemVisual(a,"style")),t.style.strokeNoScale=!0,t.z2=100;var l=e.getItemModel(a),s=l.getModel("emphasis");ce(t,l),ne(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function Cv(r,t,e){return te(r,function(a){return a=a.slice(),a[t]=e.initBaseline,a})}var ht=k;function Nv(r){var t=Pv(r);ht(t,function(e){var a=e.seriesModels;a.length&&(Ev(e),ht(a,function(i,n){Mv(i,e.boxOffsetList[n],e.boxWidthList[n])}))})}function Pv(r){var t=[],e=[];return r.eachSeriesByType("boxplot",function(a){var i=a.getBaseAxis(),n=At(e,i);n<0&&(n=e.length,e[n]=i,t[n]={axis:i,seriesModels:[]}),t[n].seriesModels.push(a)}),t}function Ev(r){var t=r.axis,e=r.seriesModels,a=e.length,i=r.boxWidthList=[],n=r.boxOffsetList=[],o=[],l;if(t.type==="category")l=t.getBandWidth();else{var s=0;ht(e,function(g){s=Math.max(s,g.getData().count())});var u=t.getExtent();l=Math.abs(u[1]-u[0])/s}ht(e,function(g){var p=g.get("boxWidth");Z(p)||(p=[p,p]),o.push([B(p[0],l)||0,B(p[1],l)||0])});var v=l*.8-2,h=v/a*.3,c=(v-h*(a-1))/a,f=c/2-v/2;ht(e,function(g,p){n.push(f),f+=h+c,i.push(Math.min(Math.max(c,o[p][0]),o[p][1]))})}function Mv(r,t,e){var a=r.coordinateSystem,i=r.getData(),n=e/2,o=r.get("layout")==="horizontal"?0:1,l=1-o,s=["x","y"],u=i.mapDimension(s[o]),v=i.mapDimensionsAll(s[l]);if(u==null||v.length<5)return;for(var h=0;h<i.count();h++){var c=i.get(u,h),f=m(c,v[2],h),g=m(c,v[0],h),p=m(c,v[1],h),y=m(c,v[3],h),S=m(c,v[4],h),d=[];b(d,p,!1),b(d,y,!0),d.push(g,p,S,y),D(d,g),D(d,S),D(d,f),i.setItemLayout(h,{initBaseline:f[l],ends:d})}function m(w,I,A){var L=i.get(I,A),_=[];_[o]=w,_[l]=L;var x;return isNaN(w)||isNaN(L)?x=[NaN,NaN]:(x=a.dataToPoint(_),x[o]+=t),x}function b(w,I,A){var L=I.slice(),_=I.slice();L[o]+=n,_[o]-=n,A?w.push(L,_):w.push(_,L)}function D(w,I){var A=I.slice(),L=I.slice();A[o]-=n,L[o]+=n,w.push(A,L)}}function Rv(r,t){t=t||{};for(var e=[],a=[],i=t.boundIQR,n=i==="none"||i===0,o=0;o<r.length;o++){var l=Ho(r[o].slice()),s=oa(l,.25),u=oa(l,.5),v=oa(l,.75),h=l[0],c=l[l.length-1],f=(i??1.5)*(v-s),g=n?h:Math.max(h,s-f),p=n?c:Math.min(c,v+f),y=t.itemNameFormatter,S=ye(y)?y({value:o}):Pe(y)?y.replace("{value}",o+""):o+"";e.push([S,g,s,u,v,p]);for(var d=0;d<l.length;d++){var m=l[d];if(m<g||m>p){var b=[S,m];a.push(b)}}}return{boxData:e,outliers:a}}var Vv={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Fo){var a="";Wo(a)}var i=Rv(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function Vh(r){r.registerSeriesModel(Wn),r.registerChartView(_v),r.registerLayout(Nv),r.registerTransform(Vv)}var kv=["itemStyle","borderColor"],Ov=["itemStyle","borderColor0"],Gv=["itemStyle","borderColorDoji"],zv=["itemStyle","color"],Bv=["itemStyle","color0"];function fr(r,t){return t.get(r>0?zv:Bv)}function gr(r,t){return t.get(r===0?Gv:r>0?kv:Ov)}var Hv={seriesType:"candlestick",plan:Ka(),performRawSeries:!0,reset:function(r,t){if(!t.isSeriesFiltered(r)){var e=r.pipelineContext.large;return!e&&{progress:function(a,i){for(var n;(n=a.next())!=null;){var o=i.getItemModel(n),l=i.getItemLayout(n).sign,s=o.getItemStyle();s.fill=fr(l,o),s.stroke=gr(l,o)||s.fill;var u=i.ensureUniqueItemVisual(n,"style");Y(u,s)}}}}}},Fv=["color","borderColor"],Wv=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,a,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,a,i,n){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,a):this._incrementalRenderNormal(e,a)},t.prototype.eachRendered=function(e){St(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e){var a=e.getData(),i=this._data,n=this.group,o=a.getLayout("isSimpleBox"),l=e.get("clip",!0),s=e.coordinateSystem,u=s.getArea&&s.getArea();this._data||n.removeAll(),a.diff(i).add(function(v){if(a.hasValue(v)){var h=a.getItemLayout(v);if(l&&_i(u,h))return;var c=Na(h,v,!0);ee(c,{shape:{points:h.ends}},e,v),Pa(c,a,v,o),n.add(c),a.setItemGraphicEl(v,c)}}).update(function(v,h){var c=i.getItemGraphicEl(h);if(!a.hasValue(v)){n.remove(c);return}var f=a.getItemLayout(v);if(l&&_i(u,f)){n.remove(c);return}c?(j(c,{shape:{points:f.ends}},e,v),Ie(c)):c=Na(f),Pa(c,a,v,o),n.add(c),a.setItemGraphicEl(v,c)}).remove(function(v){var h=i.getItemGraphicEl(v);h&&n.remove(h)}).execute(),this._data=a},t.prototype._renderLarge=function(e){this._clear(),Li(e,this.group);var a=e.get("clip",!0)?hn(e.coordinateSystem,!1,e):null;a?this.group.setClipPath(a):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,a){for(var i=a.getData(),n=i.getLayout("isSimpleBox"),o;(o=e.next())!=null;){var l=i.getItemLayout(o),s=Na(l);Pa(s,i,o,n),s.incremental=!0,this.group.add(s),this._progressiveEls.push(s)}},t.prototype._incrementalRenderLarge=function(e,a){Li(a,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t})(ae),Uv=(function(){function r(){}return r})(),Xv=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="normalCandlestickBox",a}return t.prototype.getDefaultShape=function(){return new Uv},t.prototype.buildPath=function(e,a){var i=a.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t})(De);function Na(r,t,e){var a=r.ends;return new Xv({shape:{points:e?$v(a,r):a},z2:100})}function _i(r,t){for(var e=!0,a=0;a<t.ends.length;a++)if(r.contain(t.ends[a][0],t.ends[a][1])){e=!1;break}return e}function Pa(r,t,e,a){var i=t.getItemModel(e);r.useStyle(t.getItemVisual(e,"style")),r.style.strokeNoScale=!0,r.__simpleBox=a,ce(r,i);var n=t.getItemLayout(e).sign;k(r.states,function(l,s){var u=i.getModel(s),v=fr(n,u),h=gr(n,u)||v,c=l.style||(l.style={});v&&(c.fill=v),h&&(c.stroke=h)});var o=i.getModel("emphasis");ne(r,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function $v(r,t){return te(r,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var Yv=(function(){function r(){}return r})(),Ea=(function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeCandlestickBox",a}return t.prototype.getDefaultShape=function(){return new Yv},t.prototype.buildPath=function(e,a){for(var i=a.points,n=0;n<i.length;)if(this.__sign===i[n++]){var o=i[n++];e.moveTo(o,i[n++]),e.lineTo(o,i[n++])}else n+=3},t})(De);function Li(r,t,e,a){var i=r.getData(),n=i.getLayout("largePoints"),o=new Ea({shape:{points:n},__sign:1,ignoreCoarsePointer:!0});t.add(o);var l=new Ea({shape:{points:n},__sign:-1,ignoreCoarsePointer:!0});t.add(l);var s=new Ea({shape:{points:n},__sign:0,ignoreCoarsePointer:!0});t.add(s),Ma(1,o,r),Ma(-1,l,r),Ma(0,s,r),a&&(o.incremental=!0,l.incremental=!0),e&&e.push(o,l)}function Ma(r,t,e,a){var i=gr(r,e)||fr(r,e),n=e.getModel("itemStyle").getItemStyle(Fv);t.useStyle(n),t.style.fill=null,t.style.stroke=i}var Xn=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,a,i){var n=a.getItemLayout(e);return n&&i.rect(n.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t})(oe);ea(Xn,Fn,!0);function Zv(r){!r||!Z(r.series)||k(r.series,function(t){Oi(t)&&t.type==="k"&&(t.type="candlestick")})}var qv={seriesType:"candlestick",plan:Ka(),reset:function(r){var t=r.coordinateSystem,e=r.getData(),a=jv(r,e),i=0,n=1,o=["x","y"],l=e.getDimensionIndex(e.mapDimension(o[i])),s=te(e.mapDimensionsAll(o[n]),e.getDimensionIndex,e),u=s[0],v=s[1],h=s[2],c=s[3];if(e.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),l<0||s.length<4)return;return{progress:r.pipelineContext.large?g:f};function f(p,y){for(var S,d=y.getStore();(S=p.next())!=null;){var m=d.get(l,S),b=d.get(u,S),D=d.get(v,S),w=d.get(h,S),I=d.get(c,S),A=Math.min(b,D),L=Math.max(b,D),_=M(A,m),x=M(L,m),T=M(w,m),C=M(I,m),E=[];P(E,x,0),P(E,_,1),E.push(G(C),G(x),G(T),G(_));var N=y.getItemModel(S),R=!!N.get(["itemStyle","borderColorDoji"]);y.setItemLayout(S,{sign:Ti(d,S,b,D,v,R),initBaseline:b>D?x[n]:_[n],ends:E,brushRect:V(w,I,m)})}function M(O,H){var X=[];return X[i]=H,X[n]=O,isNaN(H)||isNaN(O)?[NaN,NaN]:t.dataToPoint(X)}function P(O,H,X){var F=H.slice(),U=H.slice();F[i]=la(F[i]+a/2,1,!1),U[i]=la(U[i]-a/2,1,!0),X?O.push(F,U):O.push(U,F)}function V(O,H,X){var F=M(O,X),U=M(H,X);return F[i]-=a/2,U[i]-=a/2,{x:F[0],y:F[1],width:a,height:U[1]-F[1]}}function G(O){return O[i]=la(O[i],1),O}}function g(p,y){for(var S=We(p.count*4),d=0,m,b=[],D=[],w,I=y.getStore(),A=!!r.get(["itemStyle","borderColorDoji"]);(w=p.next())!=null;){var L=I.get(l,w),_=I.get(u,w),x=I.get(v,w),T=I.get(h,w),C=I.get(c,w);if(isNaN(L)||isNaN(T)||isNaN(C)){S[d++]=NaN,d+=3;continue}S[d++]=Ti(I,w,_,x,v,A),b[i]=L,b[n]=T,m=t.dataToPoint(b,null,D),S[d++]=m?m[0]:NaN,S[d++]=m?m[1]:NaN,b[n]=C,m=t.dataToPoint(b,null,D),S[d++]=m?m[1]:NaN}y.setLayout("largePoints",S)}}};function Ti(r,t,e,a,i,n){var o;return e>a?o=-1:e<a?o=1:o=n?0:t>0?r.get(i,t-1)<=a?1:-1:1,o}function jv(r,t){var e=r.getBaseAxis(),a,i=e.type==="category"?e.getBandWidth():(a=e.getExtent(),Math.abs(a[1]-a[0])/t.count()),n=B(Cr(r.get("barMaxWidth"),i),i),o=B(Cr(r.get("barMinWidth"),1),i),l=r.get("barWidth");return l!=null?B(l,i):Math.max(Math.min(i/2,n),o)}function kh(r){r.registerChartView(Wv),r.registerSeriesModel(Xn),r.registerPreprocessor(Zv),r.registerVisual(Hv),r.registerLayout(qv)}function Ci(r,t){var e=t.rippleEffectColor||t.color;r.eachChild(function(a){a.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var Kv=(function(r){z(t,r);function t(e,a){var i=r.call(this)||this,n=new _t(e,a),o=new re;return i.add(n),i.add(o),i.updateData(e,a),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var a=e.symbolType,i=e.color,n=e.rippleNumber,o=this.childAt(1),l=0;l<n;l++){var s=xe(a,-1,-1,2,2,i);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-l/n*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),o.add(s)}Ci(o,e)},t.prototype.updateEffectAnimation=function(e){for(var a=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale","rippleNumber"],o=0;o<n.length;o++){var l=n[o];if(a[l]!==e[l]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}Ci(i,e)},t.prototype.highlight=function(){Yt(this)},t.prototype.downplay=function(){Zt(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,a){var i=this,n=e.hostModel;this.childAt(0).updateData(e,a);var o=this.childAt(1),l=e.getItemModel(a),s=e.getItemVisual(a,"symbol"),u=mt(e.getItemVisual(a,"symbolSize")),v=e.getItemVisual(a,"style"),h=v&&v.fill,c=l.getModel("emphasis");o.setScale(u),o.traverse(function(y){y.setStyle("fill",h)});var f=qt(e.getItemVisual(a,"symbolOffset"),u);f&&(o.x=f[0],o.y=f[1]);var g=e.getItemVisual(a,"symbolRotate");o.rotation=(g||0)*Math.PI/180||0;var p={};p.showEffectOn=n.get("showEffectOn"),p.rippleScale=l.get(["rippleEffect","scale"]),p.brushType=l.get(["rippleEffect","brushType"]),p.period=l.get(["rippleEffect","period"])*1e3,p.effectOffset=a/e.count(),p.z=n.getShallow("z")||0,p.zlevel=n.getShallow("zlevel")||0,p.symbolType=s,p.color=h,p.rippleEffectColor=l.get(["rippleEffect","color"]),p.rippleNumber=l.get(["rippleEffect","number"]),p.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){y==="emphasis"?p.showEffectOn!=="render"&&i.startEffectAnimation(p):y==="normal"&&p.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=p,ne(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t})(re),Jv=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new ta(Kv)},t.prototype.render=function(e,a,i){var n=e.getData(),o=this._symbolDraw;o.updateData(n,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var a=e.coordinateSystem,i=a&&a.getArea&&a.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,a,i){var n=e.getData();this.group.dirty();var o=Lt("").reset(e,a,i);o.progress&&o.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var a=e.coordinateSystem;a&&a.getRoamTransform&&(this.group.transform=Uo(a.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,a){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t})(ae),Qv=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,a){return Be(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,a,i){return i.point(a.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t})(oe);function Oh(r){r.registerChartView(Jv),r.registerSeriesModel(Qv),r.registerLayout(Lt("effectScatter"))}var eh=256,th=(function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Nr.createCanvas();this.canvas=t}return r.prototype.update=function(t,e,a,i,n,o){var l=this._getBrush(),s=this._getGradient(n,"inRange"),u=this._getGradient(n,"outOfRange"),v=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext("2d"),f=t.length;h.width=e,h.height=a;for(var g=0;g<f;++g){var p=t[g],y=p[0],S=p[1],d=p[2],m=i(d);c.globalAlpha=m,c.drawImage(l,y-v,S-v)}if(!h.width||!h.height)return h;for(var b=c.getImageData(0,0,h.width,h.height),D=b.data,w=0,I=D.length,A=this.minOpacity,L=this.maxOpacity,_=L-A;w<I;){var m=D[w+3]/256,x=Math.floor(m*(eh-1))*4;if(m>0){var T=o(m)?s:u;m>0&&(m=m*_+A),D[w++]=T[x],D[w++]=T[x+1],D[w++]=T[x+2],D[w++]=T[x+3]*m*256}else w+=4}return c.putImageData(b,0,0),h},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Nr.createCanvas()),e=this.pointSize+this.blurSize,a=e*2;t.width=a,t.height=a;var i=t.getContext("2d");return i.clearRect(0,0,a,a),i.shadowOffsetX=a,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},r.prototype._getGradient=function(t,e){for(var a=this._gradientPixels,i=a[e]||(a[e]=new Uint8ClampedArray(256*4)),n=[0,0,0,0],o=0,l=0;l<256;l++)t[e](l/255,!0,n),i[o++]=n[0],i[o++]=n[1],i[o++]=n[2],i[o++]=n[3];return i},r})();function ah(r,t,e){var a=r[1]-r[0];t=te(t,function(o){return{interval:[(o.interval[0]-r[0])/a,(o.interval[1]-r[0])/a]}});var i=t.length,n=0;return function(o){var l;for(l=n;l<i;l++){var s=t[l].interval;if(s[0]<=o&&o<=s[1]){n=l;break}}if(l===i)for(l=n-1;l>=0;l--){var s=t[l].interval;if(s[0]<=o&&o<=s[1]){n=l;break}}return l>=0&&l<i&&e[l]}}function rh(r,t){var e=r[1]-r[0];return t=[(t[0]-r[0])/e,(t[1]-r[0])/e],function(a){return a>=t[0]&&a<=t[1]}}function Ni(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var ih=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var n;a.eachComponent("visualMap",function(l){l.eachTargetSeries(function(s){s===e&&(n=l)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):Ni(o)&&this._renderOnGeo(o,e,n,i)},t.prototype.incrementalPrepareRender=function(e,a,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,a,i,n){var o=a.coordinateSystem;o&&(Ni(o)?this.render(a,i,n):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(a,n,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){St(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,a,i,n,o){var l=e.coordinateSystem,s=aa(l,"cartesian2d"),u,v,h,c;if(s){var f=l.getAxis("x"),g=l.getAxis("y");u=f.getBandWidth()+.5,v=g.getBandWidth()+.5,h=f.scale.getExtent(),c=g.scale.getExtent()}for(var p=this.group,y=e.getData(),S=e.getModel(["emphasis","itemStyle"]).getItemStyle(),d=e.getModel(["blur","itemStyle"]).getItemStyle(),m=e.getModel(["select","itemStyle"]).getItemStyle(),b=e.get(["itemStyle","borderRadius"]),D=he(e),w=e.getModel("emphasis"),I=w.get("focus"),A=w.get("blurScope"),L=w.get("disabled"),_=s?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],x=i;x<n;x++){var T=void 0,C=y.getItemVisual(x,"style");if(s){var E=y.get(_[0],x),N=y.get(_[1],x);if(isNaN(y.get(_[2],x))||isNaN(E)||isNaN(N)||E<h[0]||E>h[1]||N<c[0]||N>c[1])continue;var R=l.dataToPoint([E,N]);T=new _e({shape:{x:R[0]-u/2,y:R[1]-v/2,width:u,height:v},style:C})}else{if(isNaN(y.get(_[1],x)))continue;T=new _e({z2:1,shape:l.dataToRect([y.get(_[0],x)]).contentShape,style:C})}if(y.hasItemOption){var M=y.getItemModel(x),P=M.getModel("emphasis");S=P.getModel("itemStyle").getItemStyle(),d=M.getModel(["blur","itemStyle"]).getItemStyle(),m=M.getModel(["select","itemStyle"]).getItemStyle(),b=M.get(["itemStyle","borderRadius"]),I=P.get("focus"),A=P.get("blurScope"),L=P.get("disabled"),D=he(M)}T.shape.r=b;var V=e.getRawValue(x),G="-";V&&V[2]!=null&&(G=V[2]+""),me(T,D,{labelFetcher:e,labelDataIndex:x,defaultOpacity:C.opacity,defaultText:G}),T.ensureState("emphasis").style=S,T.ensureState("blur").style=d,T.ensureState("select").style=m,ne(T,I,A,L),T.incremental=o,o&&(T.states.emphasis.hoverLayer=!0),p.add(T),y.setItemGraphicEl(x,T),this._progressiveEls&&this._progressiveEls.push(T)}},t.prototype._renderOnGeo=function(e,a,i,n){var o=i.targetVisuals.inRange,l=i.targetVisuals.outOfRange,s=a.getData(),u=this._hmLayer||this._hmLayer||new th;u.blurSize=a.get("blurSize"),u.pointSize=a.get("pointSize"),u.minOpacity=a.get("minOpacity"),u.maxOpacity=a.get("maxOpacity");var v=e.getViewRect().clone(),h=e.getRoamTransform();v.applyTransform(h);var c=Math.max(v.x,0),f=Math.max(v.y,0),g=Math.min(v.width+v.x,n.getWidth()),p=Math.min(v.height+v.y,n.getHeight()),y=g-c,S=p-f,d=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],m=s.mapArray(d,function(I,A,L){var _=e.dataToPoint([I,A]);return _[0]-=c,_[1]-=f,_.push(L),_}),b=i.getExtent(),D=i.type==="visualMap.continuous"?rh(b,i.option.range):ah(b,i.getPieceList(),i.option.selected);u.update(m,y,S,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:l.color.getColorMapper()},D);var w=new jt({style:{width:y,height:S,x:c,y:f,image:u.canvas},silent:!0});this.group.add(w)},t.type="heatmap",t})(ae),nh=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return Be(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=ja.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t})(oe);function Gh(r){r.registerChartView(ih),r.registerSeriesModel(nh)}var oh=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,a,i){var n=e.getData(),o=this,l=this.group,s=e.getLayerSeries(),u=n.getLayout("layoutInfo"),v=u.rect,h=u.boundaryGap;l.x=0,l.y=v.y+h[0];function c(y){return y.name}var f=new rr(this._layersSeries||[],s,c,c),g=[];f.add(ve(p,this,"add")).update(ve(p,this,"update")).remove(ve(p,this,"remove")).execute();function p(y,S,d){var m=o._layers;if(y==="remove"){l.remove(m[S]);return}for(var b=[],D=[],w,I=s[S].indices,A=0;A<I.length;A++){var L=n.getItemLayout(I[A]),_=L.x,x=L.y0,T=L.y;b.push(_,x),D.push(_,x+T),w=n.getItemVisual(I[A],"style")}var C,E=n.getItemLayout(I[0]),N=e.getModel("label"),R=N.get("margin"),M=e.getModel("emphasis");if(y==="add"){var P=g[S]=new re;C=new sn({shape:{points:b,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),P.add(C),l.add(P),e.isAnimationEnabled()&&C.setClipPath(lh(C.getBoundingRect(),e,function(){C.removeClipPath()}))}else{var P=m[d];C=P.childAt(0),l.add(P),g[S]=P,j(C,{shape:{points:b,stackedOnPoints:D}},e),Ie(C)}me(C,he(e),{labelDataIndex:I[A-1],defaultText:n.getName(I[A-1]),inheritColor:w.fill},{normal:{verticalAlign:"middle"}}),C.setTextConfig({position:null,local:!0});var V=C.getTextContent();V&&(V.x=E.x-R,V.y=E.y0+E.y/2),C.useStyle(w),n.setItemGraphicEl(S,C),ce(C,e),ne(C,M.get("focus"),M.get("blurScope"),M.get("disabled"))}this._layersSeries=s,this._layers=g},t.type="themeRiver",t})(ae);function lh(r,t,e){var a=new _e({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return ee(a,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,e),a}var Ra=2,sh=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ct(ve(this.getData,this),ve(this.getRawData,this))},t.prototype.fixData=function(e){var a=e.length,i={},n=Ha(e,function(c){return i.hasOwnProperty(c[0]+"")||(i[c[0]+""]=-1),c[2]}),o=[];n.buckets.each(function(c,f){o.push({name:f,dataList:c})});for(var l=o.length,s=0;s<l;++s){for(var u=o[s].name,v=0;v<o[s].dataList.length;++v){var h=o[s].dataList[v][0]+"";i[h]=s}for(var h in i)i.hasOwnProperty(h)&&i[h]!==s&&(i[h]=s,e[a]=[h,0,u],a++)}return e},t.prototype.getInitialData=function(e,a){for(var i=this.getReferringComponents("singleAxis",lt).models[0],n=i.get("type"),o=ir(e.data,function(g){return g[2]!==void 0}),l=this.fixData(o||[]),s=[],u=this.nameMap=Ne(),v=0,h=0;h<l.length;++h)s.push(l[h][Ra]),u.get(l[h][Ra])||(u.set(l[h][Ra],v),v++);var c=xt(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:zt(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,f=new Ye(c,this);return f.initData(l),f},t.prototype.getLayerSeries=function(){for(var e=this.getData(),a=e.count(),i=[],n=0;n<a;++n)i[n]=n;var o=e.mapDimension("single"),l=Ha(i,function(u){return e.get("name",u)}),s=[];return l.buckets.each(function(u,v){u.sort(function(h,c){return e.get(o,h)-e.get(o,c)}),s.push({name:v,indices:u})}),s},t.prototype.getAxisTooltipData=function(e,a,i){Z(e)||(e=e?[e]:[]);for(var n=this.getData(),o=this.getLayerSeries(),l=[],s=o.length,u,v=0;v<s;++v){for(var h=Number.MAX_VALUE,c=-1,f=o[v].indices.length,g=0;g<f;++g){var p=n.get(e[0],o[v].indices[g]),y=Math.abs(p-a);y<=h&&(u=p,h=y,c=o[v].indices[g])}l.push(c)}return{dataIndices:l,nestestValue:u}},t.prototype.formatTooltip=function(e,a,i){var n=this.getData(),o=n.getName(e),l=n.get(n.mapDimension("value"),e);return Le("nameValue",{name:o,value:l})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t})(oe);function uh(r,t){r.eachSeriesByType("themeRiver",function(e){var a=e.getData(),i=e.coordinateSystem,n={},o=i.getRect();n.rect=o;var l=e.get("boundaryGap"),s=i.getAxis();if(n.boundaryGap=l,s.orient==="horizontal"){l[0]=B(l[0],o.height),l[1]=B(l[1],o.height);var u=o.height-l[0]-l[1];Pi(a,e,u)}else{l[0]=B(l[0],o.width),l[1]=B(l[1],o.width);var v=o.width-l[0]-l[1];Pi(a,e,v)}a.setLayout("layoutInfo",n)})}function Pi(r,t,e){if(r.count())for(var a=t.coordinateSystem,i=t.getLayerSeries(),n=r.mapDimension("single"),o=r.mapDimension("value"),l=te(i,function(y){return te(y.indices,function(S){var d=a.dataToPoint(r.get(n,S));return d[1]=r.get(o,S),d})}),s=vh(l),u=s.y0,v=e/s.max,h=i.length,c=i[0].indices.length,f,g=0;g<c;++g){f=u[g]*v,r.setItemLayout(i[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:f,y:l[0][g][1]*v});for(var p=1;p<h;++p)f+=l[p-1][g][1]*v,r.setItemLayout(i[p].indices[g],{layerIndex:p,x:l[p][g][0],y0:f,y:l[p][g][1]*v})}}function vh(r){for(var t=r.length,e=r[0].length,a=[],i=[],n=0,o=0;o<e;++o){for(var l=0,s=0;s<t;++s)l+=r[s][o][1];l>n&&(n=l),a.push(l)}for(var u=0;u<e;++u)i[u]=(n-a[u])/2;n=0;for(var v=0;v<e;++v){var h=a[v]+i[v];h>n&&(n=h)}return{y0:i,max:n}}function zh(r){r.registerChartView(oh),r.registerSeriesModel(sh),r.registerLayout(uh),r.registerProcessor(Tt("themeRiver"))}var hh=2,ch=4,Ei=(function(r){z(t,r);function t(e,a,i,n){var o=r.call(this)||this;o.z2=hh,o.textConfig={inside:!0},se(o).seriesIndex=a.seriesIndex;var l=new Ce({z2:ch,silent:e.getModel().get(["label","silent"])});return o.setTextContent(l),o.updateData(!0,e,a,i,n),o}return t.prototype.updateData=function(e,a,i,n,o){this.node=a,a.piece=this,i=i||this._seriesModel,n=n||this._ecModel;var l=this;se(l).dataIndex=a.dataIndex;var s=a.getModel(),u=s.getModel("emphasis"),v=a.getLayout(),h=Y({},v);h.label=null;var c=a.getVisual("style");c.lineJoin="bevel";var f=a.getVisual("decal");f&&(c.decal=Xo(f,o));var g=Xe(s.getModel("itemStyle"),h,!0);Y(h,g),k(ft,function(d){var m=l.ensureState(d),b=s.getModel([d,"itemStyle"]);m.style=b.getItemStyle();var D=Xe(b,h);D&&(m.shape=D)}),e?(l.setShape(h),l.shape.r=v.r0,ee(l,{shape:{r:v.r}},i,a.dataIndex)):(j(l,{shape:h},i),Ie(l)),l.useStyle(c),this._updateLabel(i);var p=s.getShallow("cursor");p&&l.attr("cursor",p),this._seriesModel=i||this._seriesModel,this._ecModel=n||this._ecModel;var y=u.get("focus"),S=y==="relative"?qi(a.getAncestorsIndices(),a.getDescendantIndices()):y==="ancestor"?a.getAncestorsIndices():y==="descendant"?a.getDescendantIndices():y;ne(this,S,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var a=this,i=this.node.getModel(),n=i.getModel("label"),o=this.node.getLayout(),l=o.endAngle-o.startAngle,s=(o.startAngle+o.endAngle)/2,u=Math.cos(s),v=Math.sin(s),h=this,c=h.getTextContent(),f=this.node.dataIndex,g=n.get("minAngle")/180*Math.PI,p=n.get("show")&&!(g!=null&&Math.abs(l)<g);c.ignore=!p,k(Yo,function(S){var d=S==="normal"?i.getModel("label"):i.getModel([S,"label"]),m=S==="normal",b=m?c:c.ensureState(S),D=e.getFormattedLabel(f,S);m&&(D=D||a.node.name),b.style=Ue(d,{},null,S!=="normal",!0),D&&(b.style.text=D);var w=d.get("show");w!=null&&!m&&(b.ignore=!w);var I=y(d,"position"),A=m?h:h.states[S],L=A.style.fill;A.textConfig={outsideFill:d.get("color")==="inherit"?L:null,inside:I!=="outside"};var _,x=y(d,"distance")||0,T=y(d,"align"),C=y(d,"rotate"),E=Math.PI*.5,N=Math.PI*1.5,R=Et(C==="tangential"?Math.PI/2-s:s),M=R>E&&!$o(R-E)&&R<N;I==="outside"?(_=o.r+x,T=M?"right":"left"):!T||T==="center"?(l===2*Math.PI&&o.r0===0?_=0:_=(o.r+o.r0)/2,T="center"):T==="left"?(_=o.r0+x,T=M?"right":"left"):T==="right"&&(_=o.r-x,T=M?"left":"right"),b.style.align=T,b.style.verticalAlign=y(d,"verticalAlign")||"middle",b.x=_*u+o.cx,b.y=_*v+o.cy;var P=0;C==="radial"?P=Et(-s)+(M?Math.PI:0):C==="tangential"?P=Et(Math.PI/2-s)+(M?Math.PI:0):Ae(C)&&(P=C*Math.PI/180),b.rotation=Et(P)});function y(S,d){var m=S.get(d);return m??n.get(d)}c.dirtyStyle()},t})(Ge),qa="sunburstRootToNode",Mi="sunburstHighlight",fh="sunburstUnhighlight";function gh(r){r.registerAction({type:qa,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},a);function a(i,n){var o=pt(t,[qa],i);if(o){var l=i.getViewRoot();l&&(t.direction=sr(l,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}}}),r.registerAction({type:Mi,update:"none"},function(t,e,a){t=Y({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(n){var o=pt(t,[Mi],n);o&&(t.dataIndex=o.node.dataIndex)}a.dispatchAction(Y(t,{type:"highlight"}))}),r.registerAction({type:fh,update:"updateView"},function(t,e,a){t=Y({},t),a.dispatchAction(Y(t,{type:"downplay"}))})}var ph=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i,n){var o=this;this.seriesModel=e,this.api=i,this.ecModel=a;var l=e.getData(),s=l.tree.root,u=e.getViewRoot(),v=this.group,h=e.get("renderLabelForZeroData"),c=[];u.eachNode(function(d){c.push(d)});var f=this._oldChildren||[];g(c,f),S(s,u),this._initEvents(),this._oldChildren=c;function g(d,m){if(d.length===0&&m.length===0)return;new rr(m,d,b,b).add(D).update(D).remove(ge(D,null)).execute();function b(w){return w.getId()}function D(w,I){var A=w==null?null:d[w],L=I==null?null:m[I];p(A,L)}}function p(d,m){if(!h&&d&&!d.getValue()&&(d=null),d!==s&&m!==s){if(m&&m.piece)d?(m.piece.updateData(!1,d,e,a,i),l.setItemGraphicEl(d.dataIndex,m.piece)):y(m);else if(d){var b=new Ei(d,e,a,i);v.add(b),l.setItemGraphicEl(d.dataIndex,b)}}}function y(d){d&&d.piece&&(v.remove(d.piece),d.piece=null)}function S(d,m){m.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,d,e,a,i):(o.virtualPiece=new Ei(d,e,a,i),v.add(o.virtualPiece)),m.piece.off("click"),o.virtualPiece.on("click",function(b){o._rootToNode(m.parentNode)})):o.virtualPiece&&(v.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(a){var i=!1,n=e.seriesModel.getViewRoot();n.eachNode(function(o){if(!i&&o.piece&&o.piece===a.target){var l=o.getModel().get("nodeClick");if(l==="rootToNode")e._rootToNode(o);else if(l==="link"){var s=o.getModel(),u=s.get("link");if(u){var v=s.get("target",!0)||"_blank";Ki(u,v)}}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:qa,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,a){var i=a.getData(),n=i.getItemLayout(0);if(n){var o=e[0]-n.cx,l=e[1]-n.cy,s=Math.sqrt(o*o+l*l);return s<=n.r&&s>=n.r0}},t.type="sunburst",t})(ae),dh=(function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,a){var i={name:e.name,children:e.data};$n(i);var n=this._levelModels=te(e.levels||[],function(s){return new Ze(s,this,a)},this),o=lr.createTree(i,this,l);function l(s){s.wrapMethod("getItemModel",function(u,v){var h=o.getNodeByDataIndex(v),c=n[h.depth];return c&&(u.parentModel=c),u})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return a.treePathInfo=ra(i,this),a},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var a=this.getRawData().tree.root;(!e||e!==a&&!a.contains(e))&&(this._viewRoot=a)},t.prototype.enableAriaDecal=function(){xn(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t})(oe);function $n(r){var t=0;k(r.children,function(a){$n(a);var i=a.value;Z(i)&&(i=i[0]),t+=i});var e=r.value;Z(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Z(r.value)?r.value[0]=e:r.value=e}var Ri=Math.PI/180;function yh(r,t,e){t.eachSeriesByType(r,function(a){var i=a.get("center"),n=a.get("radius");Z(n)||(n=[0,n]),Z(i)||(i=[i,i]);var o=e.getWidth(),l=e.getHeight(),s=Math.min(o,l),u=B(i[0],o),v=B(i[1],l),h=B(n[0],s/2),c=B(n[1],s/2),f=-a.get("startAngle")*Ri,g=a.get("minAngle")*Ri,p=a.getData().tree.root,y=a.getViewRoot(),S=y.depth,d=a.get("sort");d!=null&&Yn(y,d);var m=0;k(y.children,function(R){!isNaN(R.getValue())&&m++});var b=y.getValue(),D=Math.PI/(b||m)*2,w=y.depth>0,I=y.height-(w?-1:1),A=(c-h)/(I||1),L=a.get("clockwise"),_=a.get("stillShowZeroSum"),x=L?1:-1,T=function(R,M){if(R){var P=M;if(R!==p){var V=R.getValue(),G=b===0&&_?D:V*D;G<g&&(G=g),P=M+x*G;var O=R.depth-S-(w?-1:1),H=h+A*O,X=h+A*(O+1),F=a.getLevelModel(R);if(F){var U=F.get("r0",!0),ie=F.get("r",!0),we=F.get("radius",!0);we!=null&&(U=we[0],ie=we[1]),U!=null&&(H=B(U,s/2)),ie!=null&&(X=B(ie,s/2))}R.setLayout({angle:G,startAngle:M,endAngle:P,clockwise:L,cx:u,cy:v,r0:H,r:X})}if(R.children&&R.children.length){var $=0;k(R.children,function(W){$+=T(W,M+$)})}return P-M}};if(w){var C=h,E=h+A,N=Math.PI*2;p.setLayout({angle:N,startAngle:f,endAngle:f+N,clockwise:L,cx:u,cy:v,r0:C,r:E})}T(y,f)})}function Yn(r,t){var e=r.children||[];r.children=mh(e,t),e.length&&k(r.children,function(a){Yn(a,t)})}function mh(r,t){if(ye(t)){var e=te(r,function(i,n){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:n}});return e.sort(function(i,n){return t(i.params,n.params)}),te(e,function(i){return r[i.index]})}else{var a=t==="asc";return r.sort(function(i,n){var o=(i.getValue()-n.getValue())*(a?1:-1);return o===0?(i.dataIndex-n.dataIndex)*(a?-1:1):o})}}function Sh(r){var t={};function e(a,i,n){for(var o=a;o&&o.depth>1;)o=o.parentNode;var l=i.getColorFromPalette(o.name||o.dataIndex+"",t);return a.depth>1&&Pe(l)&&(l=Zo(l,(a.depth-1)/(n-1)*.5)),l}r.eachSeriesByType("sunburst",function(a){var i=a.getData(),n=i.tree;n.eachNode(function(o){var l=o.getModel(),s=l.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e(o,a,n.root.height));var u=i.ensureUniqueItemVisual(o.dataIndex,"style");Y(u,s)})})}function Bh(r){r.registerChartView(ph),r.registerSeriesModel(dh),r.registerLayout(ge(yh,"sunburst")),r.registerProcessor(ge(Tt,"sunburst")),r.registerVisual(Sh),gh(r)}export{Ih as BarChart,Vh as BoxplotChart,kh as CandlestickChart,Oh as EffectScatterChart,Eh as FunnelChart,Ph as GaugeChart,Nh as GraphChart,Gh as HeatmapChart,wh as LineChart,Lh as MapChart,Mh as ParallelChart,Ah as PieChart,_h as RadarChart,Rh as SankeyChart,xh as ScatterChart,Bh as SunburstChart,zh as ThemeRiverChart,Th as TreeChart,Ch as TreemapChart};
