import{d as E,r as s,c as F,o as J,a as c,b as l,e as t,w as M,F as k,f as y,g as p,h as b,u as f,i as N,j as P,n as R,k as V,l as w,D as I,m as L,v as O,p as $,t as x,q,s as z,_ as D}from"./index-COQn4yGY.js";const H={class:"container flex gap-8"},A={class:"popup-body"},G={class:"scroll-container"},U={class:"grid grid-cols-3 gap-4"},X=["onClick"],K={class:"popup-footer"},Q={class:"editor-child"},W={class:"editor-child"},Y={key:0,class:"absolute bottom-0 left-0 flex w-full items-center gap-2 bg-red-200 p-2 text-base text-red-400"},Z=E({__name:"EditorView",setup(tt){const i=s(!1),h=s("Line Chart"),j={"Line Chart":"line-chart.json","Line Sections Chart":"line-sections-chart.json","Bar Chart":"bar-chart.json","Pie Chart":"pie-chart.json","Scatter Chart":"scatter-chart.json","Horizontal Bar Chart":"horizontal-bar-chart.json","Radar Chart":"radar-chart.json","Stacked Bar Chart":"stacked-bar-chart.json","Mix Line Bar Chart":"mix-line-bar-chart.json","Bubble Chart":"bubble-chart.json","Heatmap Chart":"heatmap-chart.json","Funnel Chart":"funnel-chart.json","Gauge Chart":"gauge-chart.json","Map Chart":"map-chart.json","Tree Chart":"tree-chart.json","Candlestick Chart":"candlestick-chart.json","Sunburst Chart":"sunburst-chart.json","Graph Chart":"graph-chart.json","Sankey Chart":"sankey-chart.json","Treemap Chart":"treemap-chart.json","Liquid Fill Chart":"liquid-fill-chart.json","Polar Bar Chart":"polar-bar-chart.json","Ring Progress Chart":"ring-progress-chart.json","Theme River Chart":"theme-river-chart.json","Parallel Chart":"parallel-chart.json","Boxplot Chart":"boxplot-chart.json"},n=s(""),u=s(null),d=s(""),v=s(),C=s(),S=F(()=>n.value?Math.max(1,n.value.split(`
`).length):1);function B(){v.value&&C.value&&(C.value.scrollTop=v.value.scrollTop)}function m(){i.value=!i.value}function T(){try{const o=JSON.parse(n.value);u.value=o,d.value=""}catch(o){console.error("Invalid JSON format:",o),d.value=`Invalid JSON format: ${o.message}`}}async function _(o){h.value=o;const a=j[h.value]??void 0;if(a!==void 0){try{const e=await fetch(`/vue-echarts-workbench//data/charts/${a}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();u.value=r,n.value=JSON.stringify(r,null,2)}catch(e){console.error("Error fetching chart settings:",e)}i.value=!1}}return J(()=>{_(h.value)}),(o,a)=>{const e=P("FontAwesomeIcon");return l(),c("div",H,[t("div",{class:R(["popup-model",{active:i.value}]),onClick:m},[t("div",{class:"popup-content shadow-lg",onClick:a[0]||(a[0]=M(()=>{},["stop"]))},[t("div",A,[t("div",G,[t("div",U,[(l(),c(k,null,y(j,(r,g)=>t("button",{key:g,class:"flex aspect-square flex-col items-center justify-center rounded bg-gray-200 p-4 text-xl font-semibold text-gray-800 hover:bg-gray-300",onClick:et=>_(g)},[p(e,{icon:f(z),class:"mb-8 text-5xl"},null,8,["icon"]),b(" "+x(g),1)],8,X)),64))])])]),t("div",K,[t("button",{class:"flex w-full items-center justify-center rounded bg-gray-500 px-4 py-2 text-sm font-semibold text-white hover:bg-gray-600",onClick:m},[p(e,{icon:f(N),class:"mr-1"},null,8,["icon"]),a[2]||(a[2]=b("關閉 ",-1))])])])],2),t("div",Q,[u.value?(l(),V(I,{key:h.value,"chart-json":u.value},null,8,["chart-json"])):w("",!0)]),t("div",W,[t("div",{ref_key:"lineNumbersRef",ref:C,class:"absolute left-0 top-0 h-full overflow-hidden bg-gray-100 text-right text-base text-gray-500"},[(l(!0),c(k,null,y(S.value,r=>(l(),c("div",{key:r,class:"px-2"},x(r),1))),128))],512),L(t("textarea",{ref_key:"textareaRef",ref:v,class:"ml-12 h-full w-full resize-none bg-transparent p-0 text-base text-[#37353E] outline-none",placeholder:"在此編輯 ECharts 配置...","onUpdate:modelValue":a[1]||(a[1]=r=>n.value=r),onInput:T,onScroll:B,spellcheck:"false"},null,544),[[O,n.value]]),d.value?(l(),c("div",Y,[p(e,{icon:f($)},null,8,["icon"]),b(" "+x(d.value),1)])):w("",!0)]),t("button",{class:"chart-options-btn",onClick:m},[p(e,{icon:f(q)},null,8,["icon"])])])}}}),rt=D(Z,[["__scopeId","data-v-29d9d6be"]]);export{rt as default};
